/*! For license information please see main.a2c84067.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},348:function(e,t){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var i,a=new Promise((function(a,o){n(i=e[t].apply(e,r)).then(a,o)}));return a.request=i,a}function i(e,t,n){var i=r(e,t,n);return i.then((function(e){if(e)return new l(e,i.request)}))}function a(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function o(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})}))}function s(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function u(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})}))}function c(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function f(e){this._store=e}function h(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function d(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new h(n)}function p(e){this._db=e}function v(e,t,n){var i=r(indexedDB,"open",[e,t]),a=i.request;return a&&(a.onupgradeneeded=function(e){n&&n(new d(a.result,e.oldVersion,a.transaction))}),i.then((function(e){return new p(e)}))}function m(e){return r(indexedDB,"deleteDatabase",[e])}a(c,"_index",["name","keyPath","multiEntry","unique"]),o(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),a(l,"_cursor",["direction","key","primaryKey","value"]),o(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new l(e,t._request)}))}))})})),f.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},f.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},a(f,"_store",["name","keyPath","indexNames","autoIncrement"]),o(f,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(f,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(f,"_store",IDBObjectStore,["deleteIndex"]),h.prototype.objectStore=function(){return new f(this._tx.objectStore.apply(this._tx,arguments))},a(h,"_tx",["objectStoreNames","mode"]),s(h,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new f(this._db.createObjectStore.apply(this._db,arguments))},a(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new h(this._db.transaction.apply(this._db,arguments))},a(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[f,c].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,a=i[e].apply(i,n.slice(0,-1));a.onsuccess=function(){r(a.result)}})}))})),[c,f].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})})),e.openDb=v,e.deleteDb=m,Object.defineProperty(e,"__esModule",{value:!0})}(t)},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,s,u=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(u[l]=o[l]);if(t){s=t(o);for(var f=0;f<s.length;f++)r.call(o,s[f])&&(u[s[f]]=o[s[f]])}}return u}},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,E=60106,T=60107,I=60108,S=60114,_=60109,C=60110,A=60112,N=60113,O=60120,P=60115,D=60116,R=60121,L=60128,M=60129,F=60130,U=60131;if("function"===typeof Symbol&&Symbol.for){var V=Symbol.for;x=V("react.element"),E=V("react.portal"),T=V("react.fragment"),I=V("react.strict_mode"),S=V("react.profiler"),_=V("react.provider"),C=V("react.context"),A=V("react.forward_ref"),N=V("react.suspense"),O=V("react.suspense_list"),P=V("react.memo"),D=V("react.lazy"),R=V("react.block"),V("react.scope"),L=V("react.opaque.id"),M=V("react.debug_trace_mode"),F=V("react.offscreen"),U=V("react.legacy_hidden")}var B,j="function"===typeof Symbol&&Symbol.iterator;function z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=j&&e[j]||e["@@iterator"])?e:null}function q(e){if(void 0===B)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||""}return"\n"+B+e}var G=!1;function K(e,t){if(!e||G)return"";G=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{G=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function W(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=K(e.type,!1);case 11:return e=K(e.type.render,!1);case 22:return e=K(e.type._render,!1);case 1:return e=K(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case T:return"Fragment";case E:return"Portal";case S:return"Profiler";case I:return"StrictMode";case N:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return H(e.type);case R:return H(e._render);case D:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Z(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&Z(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ye=(me=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];function be(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=be(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){we.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var Ee=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Te(e,t){if(t){if(Ee[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Ie(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,Ce=null,Ae=null;function Ne(e){if(e=ri(e)){if("function"!==typeof _e)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),_e(e.stateNode,e.type,t))}}function Oe(e){Ce?Ae?Ae.push(e):Ae=[e]:Ce=e}function Pe(){if(Ce){var e=Ce,t=Ae;if(Ae=Ce=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function De(e,t){return e(t)}function Re(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Me=De,Fe=!1,Ue=!1;function Ve(){null===Ce&&null===Ae||(Le(),Pe())}function Be(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var je=!1;if(f)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){je=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(me){je=!1}function qe(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Ge=!1,Ke=null,We=!1,He=null,Qe={onError:function(e){Ge=!0,Ke=e}};function Ye(e,t,n,r,i,a,o,s,u){Ge=!1,Ke=null,qe.apply(Qe,arguments)}function Xe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ze(e){if(Xe(e)!==e)throw Error(o(188))}function $e(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Xe(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ze(i),e;if(a===r)return Ze(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],st=null,ut=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yt(e){var t=ni(e.target);if(null!==t){var n=Xe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Je(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){gt(e)&&n.delete(t)}function wt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&gt(st)&&(st=null),null!==ut&&gt(ut)&&(ut=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function bt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,wt)))}function xt(e){function t(t){return bt(t,e)}if(0<ot.length){bt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&bt(st,e),null!==ut&&bt(ut,e),null!==ct&&bt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)yt(n),null===n.blockedOn&&ht.shift()}function Et(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Tt={animationend:Et("Animation","AnimationEnd"),animationiteration:Et("Animation","AnimationIteration"),animationstart:Et("Animation","AnimationStart"),transitionend:Et("Transition","TransitionEnd")},It={},St={};function _t(e){if(It[e])return It[e];if(!Tt[e])return e;var t,n=Tt[e];for(t in n)if(n.hasOwnProperty(t)&&t in St)return It[e]=n[t];return e}f&&(St=document.createElement("div").style,"AnimationEvent"in window||(delete Tt.animationend.animation,delete Tt.animationiteration.animation,delete Tt.animationstart.animation),"TransitionEvent"in window||delete Tt.transitionend.transition);var Ct=_t("animationend"),At=_t("animationiteration"),Nt=_t("animationstart"),Ot=_t("transitionend"),Pt=new Map,Dt=new Map,Rt=["abort","abort",Ct,"animationEnd",At,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ot,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Dt.set(r,t),Pt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Mt=8;function Ft(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function Ut(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,i=Mt=15;else if(0!==(a=134217727&n)){var u=a&~o;0!==u?(r=Ft(u),i=Mt):0!==(s&=a)&&(r=Ft(s),i=Mt)}else 0!==(a=n&~o)?(r=Ft(a),i=Mt):0!==s&&(r=Ft(s),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Gt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Ft(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Gt(t)),r|=e[n],t&=~i;return r}function Vt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Bt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=jt(24&~t))?Bt(10,t):e;case 10:return 0===(e=jt(192&~t))?Bt(8,t):e;case 8:return 0===(e=jt(3584&~t))&&(0===(e=jt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=jt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function jt(e){return e&-e}function zt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Gt(t)]=n}var Gt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Kt(e)/Wt|0)|0},Kt=Math.log,Wt=Math.LN2;var Ht=a.unstable_UserBlockingPriority,Qt=a.unstable_runWithPriority,Yt=!0;function Xt(e,t,n,r){Fe||Le();var i=Zt,a=Fe;Fe=!0;try{Re(i,e,t,n,r)}finally{(Fe=a)||Ve()}}function Jt(e,t,n,r){Qt(Ht,Zt.bind(null,e,t,n,r))}function Zt(e,t,n,r){var i;if(Yt)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=$t(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=mt(st,e,t,n,r,i),!0;case"dragenter":return ut=mt(ut,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,mt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,mt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Lr(e,t,r,null,n)}}}function $t(e,t,n,r){var i=Se(r);if(null!==(i=ni(i))){var a=Xe(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Je(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function un(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=un(hn),pn=i({},hn,{view:0,detail:0}),vn=un(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),yn=un(mn),gn=un(i({},mn,{dataTransfer:0})),kn=un(i({},pn,{relatedTarget:0})),wn=un(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=un(bn),En=un(i({},hn,{data:0})),Tn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},In={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Cn(){return _n}var An=i({},pn,{key:function(e){if(e.key){var t=Tn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?In[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=un(An),On=un(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=un(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Dn=un(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=un(Rn),Mn=[9,13,27,32],Fn=f&&"CompositionEvent"in window,Un=null;f&&"documentMode"in document&&(Un=document.documentMode);var Vn=f&&"TextEvent"in window&&!Un,Bn=f&&(!Fn||Un&&8<Un&&11>=Un),jn=String.fromCharCode(32),zn=!1;function qn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Kn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Qn(e,t,n,r){Oe(r),0<(t=Fr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,Xn=null;function Jn(e){Ar(e,0)}function Zn(e){if(J(ii(e)))return e}function $n(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Yn&&(Yn.detachEvent("onpropertychange",ar),Xn=Yn=null)}function ar(e){if("value"===e.propertyName&&Zn(Xn)){var t=[];if(Qn(t,Xn,e,Se(e)),e=Jn,Fe)e(t);else{Fe=!0;try{De(e,t)}finally{Fe=!1,Ve()}}}}function or(e,t,n){"focusin"===e?(ir(),Xn=n,(Yn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Zn(Xn)}function ur(e,t){if("click"===e)return Zn(t)}function cr(e,t){if("input"===e||"change"===e)return Zn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=Z();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Z((e=t.contentWindow).document)}return t}function yr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,wr=null,br=null,xr=!1;function Er(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==kr||kr!==Z(r)||("selectionStart"in(r=kr)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&hr(br,r)||(br=r,0<(r=Fr(wr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Rt,2);for(var Tr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ir=0;Ir<Tr.length;Ir++)Dt.set(Tr[Ir],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_r=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sr));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if(Ye.apply(this,arguments),Ge){if(!Ge)throw Error(o(198));var l=Ke;Ge=!1,Ke=null,We||(We=!0,He=l)}}(r,t,void 0,e),e.currentTarget=null}function Ar(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Cr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Cr(i,s,c),a=u}}}if(We)throw e=He,We=!1,He=null,e}function Nr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Rr(t,e,2,!1),n.add(r))}var Or="_reactListening"+Math.random().toString(36).slice(2);function Pr(e){e[Or]||(e[Or]=!0,s.forEach((function(t){_r.has(t)||Dr(t,!1,e,null),Dr(t,!0,e,null)})))}function Dr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&_r.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(i|=4),Rr(a,e,i,t),o.add(s))}function Rr(e,t,n,r){var i=Dt.get(t);switch(void 0===i?2:i){case 0:i=Xt;break;case 1:i=Jt;break;default:i=Zt}n=i.bind(null,t,n,e),i=void 0,!je||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=ni(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Ue)return e(t,n);Ue=!0;try{Me(e,t,n)}finally{Ue=!1,Ve()}}((function(){var r=a,i=Se(n),o=[];e:{var s=Pt.get(e);if(void 0!==s){var u=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":u=Nn;break;case"focusin":c="focus",u=kn;break;case"focusout":c="blur",u=kn;break;case"beforeblur":case"afterblur":u=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Pn;break;case Ct:case At:case Nt:u=wn;break;case Ot:u=Dn;break;case"scroll":u=vn;break;case"wheel":u=Ln;break;case"copy":case"cut":case"paste":u=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=On}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Be(p,h))&&l.push(Mr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Xe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=yn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=On,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ii(u),d=null==c?s:ii(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Ur(d))p++;for(d=0,v=h;v;v=Ur(v))d++;for(;0<p-d;)l=Ur(l),p--;for(;0<d-p;)h=Ur(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Ur(l),h=Ur(h)}l=null}else l=null;null!==u&&Vr(o,s,u,l,!1),null!==c&&null!==f&&Vr(o,f,c,l,!0)}if("select"===(u=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=$n;else if(Hn(s))if(er)m=cr;else{m=sr;var y=or}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ur);switch(m&&(m=m(e,r))?Qn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ie(s,"number",s.value)),y=r?ii(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(kr=y,wr=r,br=null);break;case"focusout":br=wr=kr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,Er(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":Er(o,n,i)}var g;if(Fn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Kn?qn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Bn&&"ko"!==n.locale&&(Kn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Kn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Kn=!0)),0<(y=Fr(r,k)).length&&(k=new En(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Gn(n))&&(k.data=g))),(g=Vn?function(e,t){switch(e){case"compositionend":return Gn(t);case"keypress":return 32!==t.which?null:(zn=!0,jn);case"textInput":return(e=t.data)===jn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Kn)return"compositionend"===e||!Fn&&qn(e,t)?(e=rn(),nn=tn=en=null,Kn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Fr(r,"onBeforeInput")).length&&(i=new En("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ar(o,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Be(e,n))&&r.unshift(Mr(e,a,i)),null!=(a=Be(e,t))&&r.push(Mr(e,a,i))),e=e.return}return r}function Ur(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Vr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Be(n,a))&&o.unshift(Mr(n,u,s)):i||null!=(u=Be(n,a))&&o.push(Mr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Br(){}var jr=null,zr=null;function qr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Gr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Kr="function"===typeof setTimeout?setTimeout:void 0,Wr="function"===typeof clearTimeout?clearTimeout:void 0;function Hr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Yr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Xr=0;var Jr=Math.random().toString(36).slice(2),Zr="__reactFiber$"+Jr,$r="__reactProps$"+Jr,ei="__reactContainer$"+Jr,ti="__reactEvents$"+Jr;function ni(e){var t=e[Zr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Zr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Yr(e);null!==e;){if(n=e[Zr])return n;e=Yr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Zr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[$r]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],ui=-1;function ci(e){return{current:e}}function li(e){0>ui||(e.current=si[ui],si[ui]=null,ui--)}function fi(e,t){ui++,si[ui]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function yi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function wi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,H(t)||"Unknown",a));return i({},n,r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=wi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var Ei=null,Ti=null,Ii=a.unstable_runWithPriority,Si=a.unstable_scheduleCallback,_i=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,Ai=a.unstable_requestPaint,Ni=a.unstable_now,Oi=a.unstable_getCurrentPriorityLevel,Pi=a.unstable_ImmediatePriority,Di=a.unstable_UserBlockingPriority,Ri=a.unstable_NormalPriority,Li=a.unstable_LowPriority,Mi=a.unstable_IdlePriority,Fi={},Ui=void 0!==Ai?Ai:function(){},Vi=null,Bi=null,ji=!1,zi=Ni(),qi=1e4>zi?Ni:function(){return Ni()-zi};function Gi(){switch(Oi()){case Pi:return 99;case Di:return 98;case Ri:return 97;case Li:return 96;case Mi:return 95;default:throw Error(o(332))}}function Ki(e){switch(e){case 99:return Pi;case 98:return Di;case 97:return Ri;case 96:return Li;case 95:return Mi;default:throw Error(o(332))}}function Wi(e,t){return e=Ki(e),Ii(e,t)}function Hi(e,t,n){return e=Ki(e),Si(e,t,n)}function Qi(){if(null!==Bi){var e=Bi;Bi=null,_i(e)}Yi()}function Yi(){if(!ji&&null!==Vi){ji=!0;var e=0;try{var t=Vi;Wi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Vi=null}catch(n){throw null!==Vi&&(Vi=Vi.slice(e+1)),Si(Pi,Qi),n}finally{ji=!1}}}var Xi=b.ReactCurrentBatchConfig;function Ji(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Zi=ci(null),$i=null,ea=null,ta=null;function na(){ta=ea=$i=null}function ra(e){var t=Zi.current;li(Zi),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){$i=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Fo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===$i)throw Error(o(308));ea=t,$i.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var sa=!1;function ua(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;sa=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,u=a.shared.pending;if(null!==u){a.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?o=l:s.next=l,s=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==s&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,s=0,f=l=c=null;;){u=o.lane;var d=o.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(u=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,u);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(d,h,u):p)||void 0===u)break e;h=i({},h,u);break e;case 2:sa=!0}}null!==o.callback&&(e.flags|=32,null===(u=a.effects)?a.effects=[o]:u.push(o))}else d={eventTime:d,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,s|=u;if(null===(o=o.next)){if(null===(u=a.shared.pending))break;o=u.next,u.next=null,a.lastBaseUpdate=u,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,js|=s,e.lanes=s,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ma(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ya={isMounted:function(e){return!!(e=e._reactInternals)&&Xe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hu(),r=du(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),pu(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=yi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ya,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ya.enqueueReplaceState(t,t.state,null)}function ba(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,ua(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=yi(t)?vi:di.current,i.context=mi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ya.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var xa=Array.isArray;function Ea(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ta(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ia(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Wu(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Xu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Ea(e,t,n),r.return=e,r):((r=Hu(n.type,n.key,n.props,null,e.mode,r)).ref=Ea(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ju(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Qu(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Xu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Hu(t.type,t.key,t.props,null,e.mode,n)).ref=Ea(e,null,t),n.return=e,n;case E:return(t=Ju(t,e.mode,n)).return=e,t}if(xa(t)||z(t))return(t=Qu(t,e.mode,n,null)).return=e,t;Ta(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===T?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case E:return n.key===i?l(e,t,n,r):null}if(xa(n)||z(n))return null!==i?null:f(e,t,n,r,null);Ta(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===T?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case E:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(xa(r)||z(r))return f(t,e=e.get(n)||null,r,i,null);Ta(t,r)}return null}function v(i,o,s,u){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===s.length)return n(i,f),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,s,u,c){var l=z(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var f=l=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),s=a(k,s,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,c))&&(s=a(g,s,m),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=a(g,s,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,u){var c="object"===typeof a&&null!==a&&a.type===T&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case x:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===T){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=Ea(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===T?((r=Qu(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=Hu(a.type,a.key,a.props,null,e.mode,u)).ref=Ea(e,r,a),u.return=e,e=u)}return s(e);case E:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Ju(a,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Xu(a,e.mode,u)).return=e,e=r),s(e);if(xa(a))return v(e,r,a,u);if(z(a))return m(e,r,a,u);if(l&&Ta(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,H(e.type)||"Component"))}return n(e,r)}}var Sa=Ia(!0),_a=Ia(!1),Ca={},Aa=ci(Ca),Na=ci(Ca),Oa=ci(Ca);function Pa(e){if(e===Ca)throw Error(o(174));return e}function Da(e,t){switch(fi(Oa,t),fi(Na,e),fi(Aa,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Aa),fi(Aa,t)}function Ra(){li(Aa),li(Na),li(Oa)}function La(e){Pa(Oa.current);var t=Pa(Aa.current),n=pe(t,e.type);t!==n&&(fi(Na,e),fi(Aa,n))}function Ma(e){Na.current===e&&(li(Aa),li(Na))}var Fa=ci(0);function Ua(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Va=null,Ba=null,ja=!1;function za(e,t){var n=Gu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function qa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ga(e){if(ja){var t=Ba;if(t){var n=t;if(!qa(e,t)){if(!(t=Qr(n.nextSibling))||!qa(e,t))return e.flags=-1025&e.flags|2,ja=!1,void(Va=e);za(Va,n)}Va=e,Ba=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,ja=!1,Va=e}}function Ka(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Va=e}function Wa(e){if(e!==Va)return!1;if(!ja)return Ka(e),ja=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Gr(t,e.memoizedProps))for(t=Ba;t;)za(e,t),t=Qr(t.nextSibling);if(Ka(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ba=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ba=null}}else Ba=Va?Qr(e.stateNode.nextSibling):null;return!0}function Ha(){Ba=Va=null,ja=!1}var Qa=[];function Ya(){for(var e=0;e<Qa.length;e++)Qa[e]._workInProgressVersionPrimary=null;Qa.length=0}var Xa=b.ReactCurrentDispatcher,Ja=b.ReactCurrentBatchConfig,Za=0,$a=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Za=a,$a=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xa.current=null===e||null===e.memoizedState?Do:Ro,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Xa.current=Lo,e=n(r,i)}while(ro)}if(Xa.current=Po,t=null!==eo&&null!==eo.next,Za=0,to=eo=$a=null,no=!1,t)throw Error(o(300));return e}function so(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?$a.memoizedState=to=e:to=to.next=e,to}function uo(){if(null===eo){var e=$a.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?$a.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?$a.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=a=null,c=i;do{var l=c.lane;if((Za&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,a=r):u=u.next=f,$a.lanes|=l,js|=l}c=c.next}while(null!==c&&c!==i);null===u?a=r:u.next=s,lr(r,t.memoizedState)||(Fo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);lr(a,t.memoizedState)||(Fo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Za&e)===e)&&(t._workInProgressVersionPrimary=r,Qa.push(t))),e)return n(t._source);throw Qa.push(t),Error(o(350))}function po(e,t,n,r){var i=Ds;if(null===i)throw Error(o(349));var a=t._getVersion,s=a(t._source),u=Xa.current,c=u.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var m=$a;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(s,e)){e=n(t._source),lr(f,e)||(l(e),e=du(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var u=31-Gt(o),c=1<<u;r[u]|=e,o&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=du(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Oo.bind(null,$a,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(uo(),e,t,n)}function mo(e){var t=so();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Oo.bind(null,$a,e),[t.memoizedState,e]}function yo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=$a.updateQueue)?(t={lastEffect:null},$a.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},so().memoizedState=e}function ko(){return uo().memoizedState}function wo(e,t,n,r){var i=so();$a.flags|=e,i.memoizedState=yo(1|t,n,void 0,void 0===r?null:r)}function bo(e,t,n,r){var i=uo();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void yo(t,n,a,r)}$a.flags|=e,i.memoizedState=yo(1|t,n,a,r)}function xo(e,t){return wo(516,4,e,t)}function Eo(e,t){return bo(516,4,e,t)}function To(e,t){return bo(4,2,e,t)}function Io(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function So(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,Io.bind(null,t,e),n)}function _o(){}function Co(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ao(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function No(e,t){var n=Gi();Wi(98>n?98:n,(function(){e(!0)})),Wi(97<n?97:n,(function(){var n=Ja.transition;Ja.transition=1;try{e(!1),t()}finally{Ja.transition=n}}))}function Oo(e,t,n){var r=hu(),i=du(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===$a||null!==o&&o===$a)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=o(s,n);if(a.eagerReducer=o,a.eagerState=u,lr(u,s))return}catch(c){}pu(e,i,r)}}var Po={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:function(e,t){return so().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:xo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,Io.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wo(4,2,e,t)},useMemo:function(e,t){var n=so();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=so();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Oo.bind(null,$a,e),[r.memoizedState,e]},useRef:go,useState:mo,useDebugValue:_o,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return xo((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return go(e=No.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=so();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(ja){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Xr++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&$a.mode)&&($a.flags|=516,yo(5,(function(){n("r:"+(Xr++).toString(36))}),void 0,null)),t}return mo(t="r:"+(Xr++).toString(36)),t},unstable_isNewReconciler:!1},Ro={readContext:oa,useCallback:Co,useContext:oa,useEffect:Eo,useImperativeHandle:So,useLayoutEffect:To,useMemo:Ao,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:_o,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return Eo((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Lo={readContext:oa,useCallback:Co,useContext:oa,useEffect:Eo,useImperativeHandle:So,useLayoutEffect:To,useMemo:Ao,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:_o,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return Eo((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Mo=b.ReactCurrentOwner,Fo=!1;function Uo(e,t,n,r){t.child=null===e?_a(t,null,n,r):Sa(t,e.child,n,r)}function Vo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,Uo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Bo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Ku(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Hu(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,jo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?as(e,t,a):(t.flags|=1,(e=Wu(o,r)).ref=t.ref,e.return=t,t.child=e)}function jo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Fo=!1,0===(a&i))return t.lanes=e.lanes,as(e,t,a);0!==(16384&e.flags)&&(Fo=!0)}return Go(e,t,n,r,a)}function zo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xu(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xu(t,e),null;t.memoizedState={baseLanes:0},xu(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xu(t,r);return Uo(e,t,i,n),t.child}function qo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Go(e,t,n,r,i){var a=yi(n)?vi:di.current;return a=mi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,Uo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Ko(e,t,n,r,i){if(yi(n)){var a=!0;bi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),ba(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=mi(t,c=yi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&wa(t,o,r,c),sa=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),u=t.memoizedState,s!==r||h!==u||pi.current||sa?("function"===typeof l&&(ma(t,n,l,r),u=t.memoizedState),(s=sa||ga(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Ji(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=oa(u):u=mi(t,u=yi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&wa(t,o,r,u),sa=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||pi.current||sa?("function"===typeof d&&(ma(t,n,d,r),p=t.memoizedState),(c=sa||ga(t,n,c,r,h,p,u))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Wo(e,t,n,r,a,i)}function Wo(e,t,n,r,i,a){qo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&xi(t,n,!1),as(e,t,a);r=t.stateNode,Mo.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Sa(t,e.child,null,a),t.child=Sa(t,null,s,a)):Uo(e,t,s,a),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Ho(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Da(e,t.containerInfo)}var Qo,Yo,Xo,Jo={dehydrated:null,retryLane:0};function Zo(e,t,n){var r,i=t.pendingProps,a=Fa.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(Fa,1&a),null===e?(void 0!==i.fallback&&Ga(t),e=i.children,a=i.fallback,o?(e=$o(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,e):"number"===typeof i.unstable_expectedLoadTime?(e=$o(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,t.lanes=33554432,e):((n=Yu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=ts(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Jo,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function $o(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Yu(t,i,0,null),n=Qu(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Wu(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Wu(o,s),null!==e?r=Wu(e,r):(r=Qu(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function rs(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Uo(e,t,r.children,n),0!==(2&(r=Fa.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Fa,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ua(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ua(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,a,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function as(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),js|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Wu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Wu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function os(e,t){if(!ja)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yi(t.type)&&gi(),null;case 3:return Ra(),li(pi),li(di),Ya(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Wa(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ma(t);var a=Pa(Oa.current);if(n=t.type,null!==e&&null!=t.stateNode)Yo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Pa(Aa.current),Wa(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Zr]=t,r[$r]=s,n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(e=0;e<Sr.length;e++)Nr(Sr[e],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":ee(r,s),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Nr("invalid",r);break;case"textarea":ue(r,s),Nr("invalid",r)}for(var c in Te(n,s),e=null,s)s.hasOwnProperty(c)&&(a=s[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):u.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Nr("scroll",r));switch(n){case"input":X(r),re(r,s,!0);break;case"textarea":X(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Br)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Zr]=t,e[$r]=r,Qo(e,t),t.stateNode=e,c=Ie(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),a=r;break;case"iframe":case"object":case"embed":Nr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Sr.length;a++)Nr(Sr[a],e);a=r;break;case"source":Nr("error",e),a=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),a=r;break;case"details":Nr("toggle",e),a=r;break;case"input":ee(e,r),a=$(e,r),Nr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":ue(e,r),a=se(e,r),Nr("invalid",e);break;default:a=r}Te(n,a);var l=a;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?xe(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&ye(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Nr("scroll",e):null!=f&&w(e,s,f,c))}switch(n){case"input":X(e),re(e,r,!1);break;case"textarea":X(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?oe(e,!!r.multiple,s,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Br)}qr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Xo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Pa(Oa.current),Pa(Aa.current),Wa(t)?(r=t.stateNode,n=t.memoizedProps,r[Zr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Zr]=t,t.stateNode=r)}return null;case 13:return li(Fa),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Wa(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Fa.current)?0===Us&&(Us=3):(0!==Us&&3!==Us||(Us=4),null===Ds||0===(134217727&js)&&0===(134217727&zs)||gu(Ds,Ls))),(r||n)&&(t.flags|=4),null);case 4:return Ra(),null===e&&Pr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(Fa),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)os(r,!1);else{if(0!==Us||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Ua(e))){for(t.flags|=64,os(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Fa,1&Fa.current|2),t.child}e=e.sibling}null!==r.tail&&qi()>Ws&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Ua(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),os(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!ja)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*qi()-r.renderingStartTime>Ws&&1073741824!==n&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=qi(),n.sibling=null,t=Fa.current,fi(Fa,s?1&t|2:1&t),n):null;case 23:case 24:return Eu(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function us(e){switch(e.tag){case 1:yi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ra(),li(pi),li(di),Ya(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ma(e),null;case 13:return li(Fa),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Fa),null;case 4:return Ra(),null;case 10:return ra(e),null;case 23:case 24:return Eu(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=W(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Qo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Yo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Pa(Aa.current);var o,s=null;switch(n){case"input":a=$(e,a),r=$(e,r),s=[];break;case"option":a=ae(e,a),r=ae(e,r),s=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":a=se(e,a),r=se(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Br)}for(f in Te(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Nr("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(s=s||[]).push(f,l))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},Xo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xs||(Xs=!0,Js=r),ls(0,t)},n}function ds(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Zs?Zs=new Set([this]):Zs.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function vs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Bu(e,n)}else t.current=null}function ms(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ji(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Hr(t.stateNode.containerInfo))}throw Error(o(163))}function ys(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Fu(n,e),Mu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ji(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&qr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(o(163))}function gs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=be("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ks(e,t){if(Ti&&"function"===typeof Ti.onCommitFiberUnmount)try{Ti.onCommitFiberUnmount(Ei,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Fu(t,n);else{r=t;try{i()}catch(a){Bu(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Bu(t,a)}break;case 5:vs(t);break;case 4:Is(e,t)}}function ws(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function bs(e){return 5===e.tag||3===e.tag||4===e.tag}function xs(e){e:{for(var t=e.return;null!==t;){if(bs(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||bs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Es(e,n,t):Ts(e,n,t)}function Es(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Br));else if(4!==r&&null!==(e=e.child))for(Es(e,t,n),e=e.sibling;null!==e;)Es(e,t,n),e=e.sibling}function Ts(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Ts(e,t,n),e=e.sibling;null!==e;)Ts(e,t,n),e=e.sibling}function Is(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(ks(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ks(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Ss(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[$r]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ie(e,i),t=Ie(e,r),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?xe(n,u):"dangerouslySetInnerHTML"===s?ye(n,u):"children"===s?ge(n,u):w(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Ks=qi(),gs(t.child,!0)),void _s(t);case 19:return void _s(t);case 23:case 24:return void gs(t,null!==t.memoizedState)}throw Error(o(163))}function _s(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=zu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cs(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var As=Math.ceil,Ns=b.ReactCurrentDispatcher,Os=b.ReactCurrentOwner,Ps=0,Ds=null,Rs=null,Ls=0,Ms=0,Fs=ci(0),Us=0,Vs=null,Bs=0,js=0,zs=0,qs=0,Gs=null,Ks=0,Ws=1/0;function Hs(){Ws=qi()+500}var Qs,Ys=null,Xs=!1,Js=null,Zs=null,$s=!1,eu=null,tu=90,nu=[],ru=[],iu=null,au=0,ou=null,su=-1,uu=0,cu=0,lu=null,fu=!1;function hu(){return 0!==(48&Ps)?qi():-1!==su?su:su=qi()}function du(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Gi()?1:2;if(0===uu&&(uu=Bs),0!==Xi.transition){0!==cu&&(cu=null!==Gs?Gs.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Gi(),0!==(4&Ps)&&98===e?e=Bt(12,uu):e=Bt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<au)throw au=0,ou=null,Error(o(185));if(null===(e=vu(e,t)))return null;qt(e,t,n),e===Ds&&(zs|=t,4===Us&&gu(e,Ls));var r=Gi();1===t?0!==(8&Ps)&&0===(48&Ps)?ku(e):(mu(e,n),0===Ps&&(Hs(),Qi())):(0===(4&Ps)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),mu(e,n)),Gs=e}function vu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function mu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Gt(s),c=1<<u,l=a[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Ft(c);var f=Mt;a[u]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Ut(e,e===Ds?Ls:0),t=Mt,0===r)null!==n&&(n!==Fi&&_i(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Fi&&_i(n)}15===t?(n=ku.bind(null,e),null===Vi?(Vi=[n],Bi=Si(Pi,Yi)):Vi.push(n),n=Fi):14===t?n=Hi(99,ku.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Hi(n,yu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function yu(e){if(su=-1,cu=uu=0,0!==(48&Ps))throw Error(o(327));var t=e.callbackNode;if(Lu()&&e.callbackNode!==t)return null;var n=Ut(e,e===Ds?Ls:0);if(0===n)return null;var r=n,i=Ps;Ps|=16;var a=Su();for(Ds===e&&Ls===r||(Hs(),Tu(e,r));;)try{Au();break}catch(u){Iu(e,u)}if(na(),Ns.current=a,Ps=i,null!==Rs?r=0:(Ds=null,Ls=0,r=Us),0!==(Bs&zs))Tu(e,0);else if(0!==r){if(2===r&&(Ps|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(n=Vt(e))&&(r=_u(e,n))),1===r)throw t=Vs,Tu(e,0),gu(e,n),mu(e,qi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Pu(e);break;case 3:if(gu(e,n),(62914560&n)===n&&10<(r=Ks+500-qi())){if(0!==Ut(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Kr(Pu.bind(null,e),r);break}Pu(e);break;case 4:if(gu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Gt(n);a=1<<s,(s=r[s])>i&&(i=s),n&=~a}if(n=i,10<(n=(120>(n=qi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*As(n/1960))-n)){e.timeoutHandle=Kr(Pu.bind(null,e),n);break}Pu(e);break;default:throw Error(o(329))}}return mu(e,qi()),e.callbackNode===t?yu.bind(null,e):null}function gu(e,t){for(t&=~qs,t&=~zs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Gt(t),r=1<<n;e[n]=-1,t&=~r}}function ku(e){if(0!==(48&Ps))throw Error(o(327));if(Lu(),e===Ds&&0!==(e.expiredLanes&Ls)){var t=Ls,n=_u(e,t);0!==(Bs&zs)&&(n=_u(e,t=Ut(e,t)))}else n=_u(e,t=Ut(e,0));if(0!==e.tag&&2===n&&(Ps|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(t=Vt(e))&&(n=_u(e,t))),1===n)throw n=Vs,Tu(e,0),gu(e,t),mu(e,qi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pu(e),mu(e,qi()),null}function wu(e,t){var n=Ps;Ps|=1;try{return e(t)}finally{0===(Ps=n)&&(Hs(),Qi())}}function bu(e,t){var n=Ps;Ps&=-2,Ps|=8;try{return e(t)}finally{0===(Ps=n)&&(Hs(),Qi())}}function xu(e,t){fi(Fs,Ms),Ms|=t,Bs|=t}function Eu(){Ms=Fs.current,li(Fs)}function Tu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Wr(n)),null!==Rs)for(n=Rs.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Ra(),li(pi),li(di),Ya();break;case 5:Ma(r);break;case 4:Ra();break;case 13:case 19:li(Fa);break;case 10:ra(r);break;case 23:case 24:Eu()}n=n.return}Ds=e,Rs=Wu(e.current,null),Ls=Ms=Bs=t,Us=0,Vs=null,qs=zs=js=0}function Iu(e,t){for(;;){var n=Rs;try{if(na(),Xa.current=Po,no){for(var r=$a.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Za=0,to=eo=$a=null,ro=!1,Os.current=null,null===n||null===n.return){Us=1,Vs=t,Rs=null;break}e:{var a=e,o=n.return,s=n,u=t;if(t=Ls,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&Fa.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var m=h.updateQueue;if(null===m){var y=new Set;y.add(c),h.updateQueue=y}else m.add(c);if(0===(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var g=la(-1,1);g.tag=2,fa(s,g)}s.lanes|=1;break e}u=void 0,s=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fs,u=new Set,k.set(c,u)):void 0===(u=k.get(c))&&(u=new Set,k.set(c,u)),!u.has(s)){u.add(s);var w=ju.bind(null,a,c,s);c.then(w,w)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);u=Error((H(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Us&&(Us=2),u=cs(u,s),h=o;do{switch(h.tag){case 3:a=u,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hs(0,a,t));break e;case 1:a=u;var b=h.type,x=h.stateNode;if(0===(64&h.flags)&&("function"===typeof b.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Zs||!Zs.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,ds(h,a,t));break e}}h=h.return}while(null!==h)}Ou(n)}catch(E){t=E,Rs===n&&null!==n&&(Rs=n=n.return);continue}break}}function Su(){var e=Ns.current;return Ns.current=Po,null===e?Po:e}function _u(e,t){var n=Ps;Ps|=16;var r=Su();for(Ds===e&&Ls===t||Tu(e,t);;)try{Cu();break}catch(i){Iu(e,i)}if(na(),Ps=n,Ns.current=r,null!==Rs)throw Error(o(261));return Ds=null,Ls=0,Us}function Cu(){for(;null!==Rs;)Nu(Rs)}function Au(){for(;null!==Rs&&!Ci();)Nu(Rs)}function Nu(e){var t=Qs(e.alternate,e,Ms);e.memoizedProps=e.pendingProps,null===t?Ou(e):Rs=t,Os.current=null}function Ou(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Ms)))return void(Rs=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ms)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Rs=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Rs=t);Rs=t=e}while(null!==t);0===Us&&(Us=5)}function Pu(e){var t=Gi();return Wi(99,Du.bind(null,e,t)),null}function Du(e,t){do{Lu()}while(null!==eu);if(0!==(48&Ps))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<a;){var c=31-Gt(a),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,a&=~l}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===Ds&&(Rs=Ds=null,Ls=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ps,Ps|=32,Os.current=null,jr=Yt,yr(s=mr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(S){u=null;break e}var f=0,h=-1,d=-1,p=0,v=0,m=s,y=null;t:for(;;){for(var g;m!==u||0!==a&&3!==m.nodeType||(h=f+a),m!==c||0!==l&&3!==m.nodeType||(d=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(g=m.firstChild);)y=m,m=g;for(;;){if(m===s)break t;if(y===u&&++p===a&&(h=f),y===c&&++v===l&&(d=f),null!==(g=m.nextSibling))break;y=(m=y).parentNode}m=g}u=-1===h||-1===d?null:{start:h,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;zr={focusedElem:s,selectionRange:u},Yt=!1,lu=null,fu=!1,Ys=r;do{try{Ru()}catch(S){if(null===Ys)throw Error(o(330));Bu(Ys,S),Ys=Ys.nextEffect}}while(null!==Ys);lu=null,Ys=r;do{try{for(s=e;null!==Ys;){var k=Ys.flags;if(16&k&&ge(Ys.stateNode,""),128&k){var w=Ys.alternate;if(null!==w){var b=w.ref;null!==b&&("function"===typeof b?b(null):b.current=null)}}switch(1038&k){case 2:xs(Ys),Ys.flags&=-3;break;case 6:xs(Ys),Ys.flags&=-3,Ss(Ys.alternate,Ys);break;case 1024:Ys.flags&=-1025;break;case 1028:Ys.flags&=-1025,Ss(Ys.alternate,Ys);break;case 4:Ss(Ys.alternate,Ys);break;case 8:Is(s,u=Ys);var x=u.alternate;ws(u),null!==x&&ws(x)}Ys=Ys.nextEffect}}catch(S){if(null===Ys)throw Error(o(330));Bu(Ys,S),Ys=Ys.nextEffect}}while(null!==Ys);if(b=zr,w=mr(),k=b.focusedElem,s=b.selectionRange,w!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==s&&yr(k)&&(w=s.start,void 0===(b=s.end)&&(b=w),"selectionStart"in k?(k.selectionStart=w,k.selectionEnd=Math.min(b,k.value.length)):(b=(w=k.ownerDocument||document)&&w.defaultView||window).getSelection&&(b=b.getSelection(),u=k.textContent.length,x=Math.min(s.start,u),s=void 0===s.end?x:Math.min(s.end,u),!b.extend&&x>s&&(u=s,s=x,x=u),u=pr(k,x),a=pr(k,s),u&&a&&(1!==b.rangeCount||b.anchorNode!==u.node||b.anchorOffset!==u.offset||b.focusNode!==a.node||b.focusOffset!==a.offset)&&((w=w.createRange()).setStart(u.node,u.offset),b.removeAllRanges(),x>s?(b.addRange(w),b.extend(a.node,a.offset)):(w.setEnd(a.node,a.offset),b.addRange(w))))),w=[];for(b=k;b=b.parentNode;)1===b.nodeType&&w.push({element:b,left:b.scrollLeft,top:b.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<w.length;k++)(b=w[k]).element.scrollLeft=b.left,b.element.scrollTop=b.top}Yt=!!jr,zr=jr=null,e.current=n,Ys=r;do{try{for(k=e;null!==Ys;){var E=Ys.flags;if(36&E&&ys(k,Ys.alternate,Ys),128&E){w=void 0;var T=Ys.ref;if(null!==T){var I=Ys.stateNode;Ys.tag,w=I,"function"===typeof T?T(w):T.current=w}}Ys=Ys.nextEffect}}catch(S){if(null===Ys)throw Error(o(330));Bu(Ys,S),Ys=Ys.nextEffect}}while(null!==Ys);Ys=null,Ui(),Ps=i}else e.current=n;if($s)$s=!1,eu=e,tu=t;else for(Ys=r;null!==Ys;)t=Ys.nextEffect,Ys.nextEffect=null,8&Ys.flags&&((E=Ys).sibling=null,E.stateNode=null),Ys=t;if(0===(r=e.pendingLanes)&&(Zs=null),1===r?e===ou?au++:(au=0,ou=e):au=0,n=n.stateNode,Ti&&"function"===typeof Ti.onCommitFiberRoot)try{Ti.onCommitFiberRoot(Ei,n,void 0,64===(64&n.current.flags))}catch(S){}if(mu(e,qi()),Xs)throw Xs=!1,e=Js,Js=null,e;return 0!==(8&Ps)||Qi(),null}function Ru(){for(;null!==Ys;){var e=Ys.alternate;fu||null===lu||(0!==(8&Ys.flags)?et(Ys,lu)&&(fu=!0):13===Ys.tag&&Cs(e,Ys)&&et(Ys,lu)&&(fu=!0));var t=Ys.flags;0!==(256&t)&&ms(e,Ys),0===(512&t)||$s||($s=!0,Hi(97,(function(){return Lu(),null}))),Ys=Ys.nextEffect}}function Lu(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Wi(e,Uu)}return!1}function Mu(e,t){nu.push(t,e),$s||($s=!0,Hi(97,(function(){return Lu(),null})))}function Fu(e,t){ru.push(t,e),$s||($s=!0,Hi(97,(function(){return Lu(),null})))}function Uu(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Ps))throw Error(o(331));var t=Ps;Ps|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===a)throw Error(o(330));Bu(a,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===a)throw Error(o(330));Bu(a,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Ps=t,Qi(),!0}function Vu(e,t,n){fa(e,t=hs(0,t=cs(n,t),1)),t=hu(),null!==(e=vu(e,1))&&(qt(e,1,t),mu(e,t))}function Bu(e,t){if(3===e.tag)Vu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Vu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Zs||!Zs.has(r))){var i=ds(n,e=cs(t,e),1);if(fa(n,i),i=hu(),null!==(n=vu(n,1)))qt(n,1,i),mu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Zs||!Zs.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function ju(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hu(),e.pingedLanes|=e.suspendedLanes&n,Ds===e&&(Ls&n)===n&&(4===Us||3===Us&&(62914560&Ls)===Ls&&500>qi()-Ks?Tu(e,0):qs|=n),mu(e,t)}function zu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Gi()?1:2:(0===uu&&(uu=Bs),0===(t=jt(62914560&~uu))&&(t=4194304))),n=hu(),null!==(e=vu(e,t))&&(qt(e,t,n),mu(e,n))}function qu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Gu(e,t,n,r){return new qu(e,t,n,r)}function Ku(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Wu(e,t){var n=e.alternate;return null===n?((n=Gu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Hu(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Ku(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case T:return Qu(n.children,i,a,t);case M:s=8,i|=16;break;case I:s=8,i|=1;break;case S:return(e=Gu(12,n,t,8|i)).elementType=S,e.type=S,e.lanes=a,e;case N:return(e=Gu(13,n,t,i)).type=N,e.elementType=N,e.lanes=a,e;case O:return(e=Gu(19,n,t,i)).elementType=O,e.lanes=a,e;case F:return Yu(n,i,a,t);case U:return(e=Gu(24,n,t,i)).elementType=U,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:s=10;break e;case C:s=9;break e;case A:s=11;break e;case P:s=14;break e;case D:s=16,r=null;break e;case R:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Gu(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Qu(e,t,n,r){return(e=Gu(7,e,r,t)).lanes=n,e}function Yu(e,t,n,r){return(e=Gu(23,e,r,t)).elementType=F,e.lanes=n,e}function Xu(e,t,n){return(e=Gu(6,e,null,t)).lanes=n,e}function Ju(e,t,n){return(t=Gu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=zt(0),this.expirationTimes=zt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zt(0),this.mutableSourceEagerHydrationData=null}function $u(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hu(),s=du(i);e:if(n){t:{if(Xe(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(yi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var c=n.type;if(yi(c)){n=wi(n,c,u);break e}}n=u}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),pu(i,s,a),s}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Zu(e,t,null!=n&&!0===n.hydrate),t=Gu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ua(t),e[ei]=n.current,Pr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}bu((function(){ec(t,o,e,i)}))}return tc(o)}function sc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return $u(e,t,null,n)}Qs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Fo=!0;else{if(0===(n&r)){switch(Fo=!1,t.tag){case 3:Ho(t),Ha();break;case 5:La(t);break;case 1:yi(t.type)&&bi(t);break;case 4:Da(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Zi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Zo(e,t,n):(fi(Fa,1&Fa.current),null!==(t=as(e,t,n))?t.sibling:null);fi(Fa,1&Fa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Fa,Fa.current),r)break;return null;case 23:case 24:return t.lanes=0,zo(e,t,n)}return as(e,t,n)}Fo=0!==(16384&e.flags)}else Fo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yi(r)){var a=!0;bi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ua(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&ma(t,r,s,e),i.updater=ya,t.stateNode=i,i._reactInternals=t,ba(t,r,e,n),t=Wo(null,t,r,!0,a,n)}else t.tag=0,Uo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Ku(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===P)return 14}return 2}(i),e=Ji(i,e),a){case 0:t=Go(null,t,i,e,n);break e;case 1:t=Ko(null,t,i,e,n);break e;case 11:t=Vo(null,t,i,e,n);break e;case 14:t=Bo(null,t,i,Ji(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Go(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ko(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 3:if(Ho(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ha(),t=as(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Ba=Qr(t.stateNode.containerInfo.firstChild),Va=t,a=ja=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Qa.push(a);for(n=_a(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Uo(e,t,r,n),Ha();t=t.child}return t;case 5:return La(t),null===e&&Ga(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,Gr(r,i)?s=null:null!==a&&Gr(r,a)&&(t.flags|=16),qo(e,t),Uo(e,t,s,n),t.child;case 6:return null===e&&Ga(t),null;case 13:return Zo(e,t,n);case 4:return Da(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Sa(t,null,r,n):Uo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Vo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 7:return Uo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Uo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var u=t.type._context;if(fi(Zi,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=lr(u,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(s.children===i.children&&!pi.current){t=as(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===u.tag&&((l=la(-1,n&-n)).tag=2,fa(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),ia(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Uo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Uo(e,t,r,n),t.child;case 14:return a=Ji(i=t.type,t.pendingProps),Bo(e,t,i,a=Ji(i.type,a),r,n);case 15:return jo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ji(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,yi(r)?(e=!0,bi(t)):e=!1,aa(t,n),ka(t,r,i),ba(t,r,i,n),Wo(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return zo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(pu(e,4,hu()),rc(e,4))},nt=function(e){13===e.tag&&(pu(e,67108864,hu()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hu(),n=du(e);pu(e,n,t),rc(e,n)}},it=function(e,t){return t()},_e=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));J(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},De=wu,Re=function(e,t,n,r,i){var a=Ps;Ps|=4;try{return Wi(98,e.bind(null,t,n,r,i))}finally{0===(Ps=a)&&(Hs(),Qi())}},Le=function(){0===(49&Ps)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,mu(e,qi())}))}Qi()}(),Lu())},Me=function(e,t){var n=Ps;Ps|=2;try{return e(t)}finally{0===(Ps=n)&&(Hs(),Qi())}};var uc={Events:[ri,ii,ai,Oe,Pe,Lu,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=$e(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{Ei=fc.inject(lc),Ti=fc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=$e(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ps;if(0!==(48&n))return e(t);Ps|=1;try{if(e)return Wi(99,e.bind(null,t))}finally{Ps=n,Qi()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(bu((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=wu,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var k=g.prototype=new y;k.constructor=g,r(k,m.prototype),k.isPureReactComponent=!0;var w={current:null},b=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)b.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===a[r]&&(a[r]=u[r]);return{$$typeof:i,type:e,key:o,ref:s,props:a,_owner:w.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var I=/\/+/g;function S(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function _(e,t,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case a:u=!0}}if(u)return o=o(u=e),e=""===r?"."+S(u,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(I,"$&/")+"/"),_(o,t,n,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+S(s=e[c],c);u+=_(s,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=_(s=s.value,t,n,l=r+S(s,c++),o);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function C(e,t,n){if(null==e)return e;var r=[],i=0;return _(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var N={current:null};function O(){var e=N.current;if(null===e)throw Error(d(321));return e}var P={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=w.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)b.call(t,l)&&!x.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:s,props:a,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return O().useCallback(e,t)},t.useContext=function(e,t){return O().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return O().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return O().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return O().useLayoutEffect(e,t)},t.useMemo=function(e,t){return O().useMemo(e,t)},t.useReducer=function(e,t,n){return O().useReducer(e,t,n)},t.useRef=function(e){return O().useRef(e)},t.useState=function(e){return O().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),o=new _(r||[]);return a._invoke=function(e,t,n){var r=l;return function(i,a){if(r===h)throw new Error("Generator is already running");if(r===d){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=T(o,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var u=c(e,t,n);if("normal"===u.type){if(r=n.done?d:f,u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=d,n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=u;var l="suspendedStart",f="suspendedYield",h="executing",d="completed",p={};function v(){}function m(){}function y(){}var g={};g[a]=function(){return this};var k=Object.getPrototypeOf,w=k&&k(k(C([])));w&&w!==n&&r.call(w,a)&&(g=w);var b=y.prototype=v.prototype=Object.create(g);function x(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function E(e,t){function n(i,a,o,s){var u=c(e[i],e,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function T(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,T(e,n),"throw"===n.method))return p;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var i=c(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,p;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,p):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function C(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:A}}function A(){return{value:t,done:!0}}return m.prototype=b.constructor=y,y.constructor=m,y[s]=m.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},x(E.prototype),E.prototype[o]=function(){return this},e.AsyncIterator=E,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new E(u(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(b),b[s]="Generator",b[a]=function(){return this},b.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),p}},e}(e.exports);try{regeneratorRuntime=t}catch(n){Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,y=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,b=w.port2;w.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();k=e+g;try{m(!0,e)?b.postMessage(null):(v=!1,m=null)}catch(n){throw b.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,b.postMessage(null))},r=function(e,n){y=h((function(){e(t.unstable_now())}),n)},i=function(){d(y),y=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<I(i,t)))break e;e[r]=t,e[n]=i,n=r}}function E(e){return void 0===(e=e[0])?null:e}function T(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>I(o,n))void 0!==u&&0>I(u,o)?(e[r]=u,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==u&&0>I(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function I(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var S=[],_=[],C=1,A=null,N=3,O=!1,P=!1,D=!1;function R(e){for(var t=E(_);null!==t;){if(null===t.callback)T(_);else{if(!(t.startTime<=e))break;T(_),t.sortIndex=t.expirationTime,x(S,t)}t=E(_)}}function L(e){if(D=!1,R(e),!P)if(null!==E(S))P=!0,n(M);else{var t=E(_);null!==t&&r(L,t.startTime-e)}}function M(e,n){P=!1,D&&(D=!1,i()),O=!0;var a=N;try{for(R(n),A=E(S);null!==A&&(!(A.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=A.callback;if("function"===typeof o){A.callback=null,N=A.priorityLevel;var s=o(A.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?A.callback=s:A===E(S)&&T(S),R(n)}else T(S);A=E(S)}if(null!==A)var u=!0;else{var c=E(_);null!==c&&r(L,c.startTime-n),u=!1}return u}finally{A=null,N=a,O=!1}}var F=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||O||(P=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return E(S)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:C++,callback:a,priorityLevel:e,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>s?(e.sortIndex=o,x(_,e),null===E(S)&&e===E(_)&&(D?i():D=!0,r(L,o-s))):(e.sortIndex=u,x(S,e),P||O||(P=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},336:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAAeFBMVEUAAABh2vth2vth2vte3/9h2/th2vtg2/xi2/9h2vth2/xh2/th2/pg2/xh2/th2vtj2v9h2vph2vth2/ph2vth2v5h2vtf2/9i2/hh2/xh2vth2/th2vph2vth2/th2/pg2flh2vxh2vph2/th2vth2/xh2/xh2vuzOZjGAAAAJ3RSTlMA9ujDCdOqmxa0TI4rVXngDWU6M+4dgREi28u7oodAbyZfakR0WpRZTf11AAAk0ElEQVR42uzBgQAAAACAoP2pF6kCAAAAAAAAAAAAAAAAAACYXXtdThAGogC8ISgEIhcFqoAgbfW8/xu2nfFPO1pvCeJkv0fInplNzoQxxhhjjDHGGGPsMl9/7PukioPDNvkcujW9IH8V9bGqN14BFOlGqiBZrIhdkkWVSvFXKuNB06vwl307wylCxpFP7JxdInF05vQymrplIvEvofacgVOyvsZlslrSZIX5vMAVRLAj9lsZC1zJCz5ogsK8wfXU62y0MYTH8b9sBvyhwY3mJbGj9wI3S6vpPA70ocDtRE/sh5a4j1rQBGR5jTvVfBX4lgvczatCeq5wW+B+Yk+u81s8RASankcHAo+JyW2hxMNUR8/RKTxOOV0KrDcwoY5ofEsJI+T0yy1ryhSGyLEjoOcAOAFTmf832dF4tIJB0tEt8DaDUc2KxlG2MGtOTmpgWluSfVklYNqWHHSAeaLKyLLcgwUROWcBK7ycbOpmsKKYTq89krWAJfWKbAlb2FKTYyTsad/IisGDPQk55R02eQOZpyVsEk59ECgF7Gp2ZJa/hWXyi70720ITBsIAPGEPIqCALFqXqv3f/w17etGeLokEJIESvwfwQkeYJDMTskiAXk7bucHR9R2MwlKa0r7FCJkbprtnHO8uaeiW6LGIw20z9niJ8a/7mn7Kk23KHQzWJTQVb4OhsuCx9+gPSdrhlcyeDUEXL/jCotnmGTrjHgLm//6MXxrJJ3G8YE2FUAw5Z0tSRdoNfQiY//uzU+yR3DmDlGPLI6CDFI/opevBN7y4SnwM0F/zXweQepAV4vfqY4pvDOrcit7yYFCWpREpCCHjkBWO79ZH5TsfysotjRdxKDvG75+C3MgCCWS+kbJ9AGWnnEaKHagaVJrIIeGTBcJpdkKuIYOidq85+2ObioaoM0gsuO9tKjmDmFPp6yZ70HBNBzXsS0QDFZAIafV2kHiOKcpnUMNrGiguoSaMaLgNxNj66wPdSbfCqxBqsmLoL6Tm1NAYuQOxHa1cA4mExrkGUMK+amhX4MnU9TBHWrkHxE76q3SCXPkTHahoYxrPh1hE6+ZCLDFQp+dfVYNURfmgd9zsfAdUegqj8w1UlPF03YphRO/JIMRp1Xa61r+JO9HZQNRBQXvW9TJk6z4R4hDyjVXsBR69VGRQ8MWjt0VWVoiXGo/B6hAK/IZeeDL0cxOaArewYXyvN/WNM/RzziS1MTnZZWvheUCqOfHJQ/RjNxLzOPq5V5pKad9CkPcsfQw9BDaS9M9wrWlgXxLAIFTRdOrTyFQwyfTUmMndrEsCEiNvvW2JXm5Ef7mXxpt4I+saBJ5mmqMrF73aq2SDQs6508Q6iJS0WhsI3WlqKXqVZ/rNAQKCelUj38d6O4U5hHKaXNGiD9vSL6HO7E9ua1sW6Jhb+OYBeu3Ul39ZQRpEljUKR0bLoHZMMamrXZWCIi1au0YGnbXvAsi39eWxF/nz9e4HEGlppS4QKkjA0GuAe01rKvtXT1bXWhgYQsgjbVL0cZ1xvUVam6TWernU0fwDLy7xpsAjfRq7lgH+DCUwjY8fljq6h0HkK60Tm2NIYs4xXnknvTqb5kbWM1VBphirvZJmAUROtErJXC+8LcMoPCfdNjYdB8UQupJ2SYYRQtLvApGMVmk336I36jDYgQzYQoTRKh3GH36aTwVZTCYUNlWFhbPWQH7DEE5BRlQQWufU0GDehOcCdX5FZng2zYngMx99xQyKuohMYRBZ2MW4E3HnnolxLpd3k1tm0dRYf/Zdr3+Wg/Nvw/gWtQi38w9HrPyl3d9ztGhorLOAYK9dAFjQwF4OkQOtEVvCbMTnwu5tCCzqDVnClPwzQw+nIZNOsGZaXL6A4oeCoVcbkUHh/HmoKfX8AdA4UODXZM7GngDIIXQmY6pseXf5frE+APakn/yu4tkHNR0+AUCGeO4Sb3P+PAHOZAjHAN9I5hMA/2kABAssB/kEgLkACPGXhewIfgLgTiZ8wWA3kvssA/+zALgs9k5/iwLgO3t3tuSqDYQBuCV2zL5jY4zXfv83TCbrSWUEQkgCm/muUklVkmMb1FL/ksz1PuZwu9c5O/tZCgbWRSHK5QSF0BKU63bUDCpWageXFAVZCahm76gdHK9TbScW/s92lgS99VMy2ljrHIhzwhGkt9fdHWTsaHuwsUoCy5mo9M3TqssBxy2kZDQ5rbHoGuGYcLpH4INS7QZSMrrYK/RdQo5z4pIjjiAZqFTsaF9Ap/+etJzwnP7hWutlxHBHO4Ne+J0jqNNQvvx3Ga+VEHL3tDew0r0XvrZ4C/yB4ogTKDOwzs//RDfde+EN/sxHUKwzGczwW/CRQs3HBL7m5P56sspk0MfvUPhImd7XXTpvXA9xTA9qpHu6N6rRWvFmZGab54YjigaUqPZ0g7Spc2uQG89u9B5whGXCr372hYggGhsfBrKw11k6/UFhb0fdYIBW35/WEQp7nXDEAxSwdtQMBDC0PVpXseN/E0t3V4DuqBek8ZSojAhO6t1YbyFo4o5aAQAvTUuBLkU2Y6J5oDUgNOxpJRjgoWklyFiw+dvXFxBi/9dq+Eyhnt+7syjp+9B5e8BlTwuBuo4Lv3FNANleGgvBA6NB+qES5vxKVwF4WxoiLAb4y0ecnakbVR8Kq2NkOwjEiFkrgh9ydKJehvqVb09CDddQXa1hsoGT83TqlM8DH1JmcT2OeII05eqn5mhWqb4yIidytvrd9GwZ9PeUBxpZoc21FAAhzOBoKQMue8oDfckU78S35R35YehoDDr7ujqYmYE9aDgFwJO5nHxVWhR78LkK/I6nvgCIXXXlhDi6qzTAF0PhNCBpkYnkclvKbSLnhbizWSCztkpUFwBP2aniDiS472lb0Oj0KlPcArCbPLv7YXqLqvPLsb94py/G8XfG1199/b3OcZxzFV3SZ3jv82CwkC1Vt2iRwOfqlcXuA4Jakfwd1sU2p1a1vJpYqFmbvOV1+mujsjdCmMM9rTqDonbU6Kr0PpggytzCnUW6nWSFgszmnp67U4urK472IQrzRNa1sU/4ZIfFi8FmEEbdscDNoccuCgPgl+4rEPin64Ka2s3Sg7eBR35c6x3SzF0wzTThk+VCVWDpPxxjgw89GzWch1/CKGNPG0MnCh8LWIbwfKL4pujp/ByAhewsD/Yni3/xI7geDIJvj1jdJTO/exnualvY3xyeEIyZXToLP4plP3oTfnXb30Lwl3QqcJ/cq9MHPPffspxrAH9z9lgDAgRj7frm6nzYg/9/1Iv+HBCsPdaAzNKHmn3kvW2xNxcxzn6DO7op4FcG/vjTjo6J/tUZf4zI4dOF+IONwMcr8QebAZ9vN6XehN0FQv/m4Y8vuzod6F93562aOrpRx4cPlh1+3v+TCvv6kbFQ0+/Wf/ZJEbfW8SsE/AfnL/YfTqfT8di2xQb+N+3ww34DZmgT1I5ahtc55+h29fu8cWvgVtdNkPlh+qgOju0d4wJ1I94HvQd6h6BG8eFx9bPBBZncIPOvjxg1It1H1AND1aJePSjTo17UefPucJ0ayOVdptIH1M2qGnhXvkdQCULVHt/AZrbIRFGR0/UdQwJuFKN8xdGuwgC81bopGTI50NwvjpIUW+G8W1jc91CywnilvTvZUKpAsfNk8VHebwp+Bqc3uk20vrQoE/W+nvp/JRRZLFDOQpbWhH+5fiQ510jP71ENZDKn/EcnzU3+jfskAOUCwv/6MbOb1JCbt/2JoX9ESRhpakaeWmOmOpr7+wuuhyNK0l62XBAmlxhliO2v757FWrubfhT4H0j6h6TMI422epq8W1E50elG8DBQEoAWAxGM9LmhlFcB6QbYnkHCeq8VZSZMaAiyRKBJhSyFCxNq/0xwMXtr2cHc1hWI8pDFAm2sJYdIuiiDsaUThQMb5Sj5MqWrb6oKllwpkSJ+1k+gcVCWFCYkdBtxujOy0ERfJu60hYGg6VAeT/zsvtYEjcxW+IdoEpTHC2Bd5YGgRMTkOF9iE3ftZcgUwCgfpfJyWE8i/PVbYiOogYgb2VP3QhZDaIN8bKEgx4WVpFS0xR2AJfI9PpGF1qBZEgtmuylrDjtERxRCHiasoLdQRFsFI1NpKlgBhqCdL1YH5mMDR3kxUEQbgm5lJxbXyyY+h0wojnOCFdhCdWCF7FsiFvwGjAB0Misi8u3n8K8Yv3UWWYElDazAJSJ1oDX9mxkqa+OlgB/jXPSQcT3Orcj8uYJV3ATqwIYvyZoLbKGhT9CjdmTEWfq5kS5/I0sAXJOS58xecgH/c5+fq/BK0MCns1s8LnyDzhsDzHgrSwA8K8I0mddK7uRkqkkEqrkezkKcfNZp+djO7sB1sJrD3DqwmTmLyef2WI0BlEoLnMO61MASzhoDSiLQgWXQshgQzAkzkARYkpu1nZfAzMff7mFEQuaMAfY2j1XyZ85MDZEeSNYRnMFoQJGeIr/iXIp1xVrm0vsWL9v3ZvWFS9aPWGrYqghBiQj5tVECU9IZY4Cx1WO12ENTOyPOVsKkq4X8OhOkcw3kZvjAwUXuMeC5nSYQf3F64f4dH4HH/YTcrAAYNEz+vAz4GLyPjhlvsQKcSgYUNe8IEAGf3ENeJAWpKhVxxQdvP+Ax9pSJK4f87vt9PpRq6sAD7yAaCITvtA4Dpo2cukDCkYEv+C+3kJ0DdcOzbRH8B7Hsyq+l14EDXx/Ampe+Rk6GC5K4R+RjB1KWUil39qIXOqzoZTGG4oMPAhrCmXAL5MTZBxv50AykCGJVEcUb1wxqWHyRP3+XpXAymePjnStJ2qhKYZMQJPAJ8jAyaddno833iiUlzGPybFu2rjCTGfMNUbG8DW2ZgVwusNgFecQhiPA4VkZ7WTuBkgtFLvHcDZghV869l/olhTHyOGgp/0lkgpArx+dmIUNswhy3Ql1r/cTTFWRVby4IMSOCHBxY5KA2i5KQybfiVU4OMDdURqwCnqxKIXtLs+sgBxsWcHCalSnI1ZWMgVPwgzNfOBeppHxQxJ1aL0hBXH7EaZ6E7DsbuSjppkXTsasMuA0WCjg2MvKBh4nfOqlhiQtR+A44awghFePLwSaV8Ke6EhRCfeAWTQVWa8J6PpdxO5xkq6r/aKjqIknspz7XUsfhjg8JU0FnfDb11NGmcUBAilM8Fxa7j+a86gIZzsDL0XPsaDiRDbKYM97F6g6nVMKjM1vxBBno2Adz5gxdspkeLtIBL2P0BZwz/6EMIcUJqeBhaGwnV22u8jZaWt2Aj2ngQjZwypElH/lj+iCFe5J8hLYbC7xThOQjUa/X4i6gjYs5wKlDhhO7mC1MXXkt2si835P2II3FHDobggufGwclqBanw3oImZ1vabIYGQRO0T5ref2Pl8cv6JauAUUoxXXpdMMAT0OisfakTQV6gX+TIPYEuQiQJdN7vQMJgAt7zpKynkqtua0ncHKpxrQZe5xeugbkUhQi/vaM1r4q+klwBGlkVE60B8nuOFMg0GvWUgiaFGchNUiWUxxhSFgBiAeQLlbybVxRIh+4pAJTTLnKdvEbJ6HIZpUgX4VM4ovANUWJWlN8SqP3ZDP3uPSzOyDb0QUFShWrsw5KFSm4HD8GFZLTsoXNgSCTYYISHvIrauCRo5ilzacj8qtACfOEbNmSL+OYgBqh/EfRQ8le8qeeJYgSX/82Fjw5Vg2qUORFTc6MlmzEFY0H6j/aLDGQyRd+cmIXlDkgr4ueHoB47ZEhrxCUqS3R7fTBOtdxBJJfAA3KR2q5gw81QZ3mN/bua8l1GwYAKEj1ajWrWu5e/P8fJplkJpNkaZEUSMl7c55vdhzLYgFAgmsOAYHUf0fPoR0AWjSgBCn1HlrcQsW0akQ7tlE7lhIF9I4CDGiAQ7unScGoEkV6nYZME5hVNJSx8zMacaWczxwwzEeBWWMX2xzBsIRyAAjQiJayCiUDw7qDevypFycSTesJZ2HgaIRDuKTlYNxDPRiUb3gZd0QXOr2iIR3dENCCeb7y8tPZ8CaumG4AuKMhMd0vMAQCmjVqnmo7owBs8HDBoPjLp5eQfQIfbJgVY9AP4b+34U5W2n5AQxyywFYFNnRMbUmXiyIHVhQNUeTMRVMaxel38yangdpI5otmPjsSonN6NRoTEn2GG9hRq41knqENC8nSiRfKyWV6FciKLKcBSB4pE6xXbIlo9k05GlOqNZbUPNlqflQt4Dud6H/alpimgDZBY5406a0ebMlU8hCp6B9bM5DkzgI0piUpdo/AmlDlpGgtWvhYc3lbj7N5GAAxIclwn8Ee/FaskkMDewqGBIcoIzQmoJjQPLCI43cyhUGLgUU+RfJ8QmNOIC/cwQwgmlVvKgtXF6xxOQo8P28ESFDkCvY0CiNATRYIpq9i4e6nrQE6pv5X6Lkqa4CeLmxNnw+6f9ouoEWhpgBbUpVn6pqvBtSv5DrAHuIAF6XMxg463d2VRnW+cWt2nyZ8/kRjMpCV7yEXJPxKlXaurAA7jjTVABCjManacnbzbsduozScBtsOWC3R23dFYwqlkNb2scCbWjnKfdsBi1Pl0BkaclAbALbPBoxqy7p609Dli6oiDzw0ZCI755KADZXqN8m3bM/r4IIRJH2hITlZUVrjgoCFr5S5qsvwF5hX0xXlZmhIRXfQrQTzYuXSxpv4RI5xJ0SqIaBDM5jSALB9VeCgPJB1TJiMMy1kuCzedhEQUZ5LOINps8YKNNL76m31pvdUNpT0SpUBYPOTARUKODqzJ+/ArANlJK5HE1inPwDYT7IVB61ANN8odBEjUg4BDhrgq8QANj8dGCHq9CjJN9q5RrTB+BINiHWCgGIHMGnWfJAh22TjEqIkTzoXR27QHwDsr6te2tdcJJt84Bxl3TZbBpbaA4D9ZeCZochJfzvGzmCKR/0edgyJHVzqC8NZCIZUDIWuK5qFsArMqOhfxASJXeiPJV3AjLpBoWDVZeFNBUYEiNRXhYYNkhpczaYh9qOBKV836txQjMVgQMEMZGTuSCo2MfBUYEDVoNhz7SaaZUCvRBVNt0EswF/ZOMze1SsxW9375soo29zQP6rE/jUB7Egwl1mptrtRDDlPuz/bq6Gn0VrfAl5J/y79fjqheSWnDkglql3DAttnxPy1Zc2+netCi4iodeSR4ztDCpREXVVrFEnt9o0bipWTDnc9GxcG995C+0Oy3EyTAZ1Y+J4HazNTZ4YEmnTtiHOHu4UMS9wQzjczvhe4QEXcVbVnKFBZPCLAHmuvhDiII5OceiYVC2jTc97VcB7IA4BkdX3o3eJpIO9d/uJkOMHSjyig2fCr8PA9Vpq9H/L5NjHxAkmttXuhyrcBv7PZjNCrwfcOoW7TEbHoaDIIEAoen+px8QuuwV4gqeDvh5DBYCgg9PX7X4ulDS5oSnMHAqOFbzWnO3BCE/puF6ar3FzJfczN9Ch9MFwShbBS/n5ufBLkUh8NauI1QVXzY+mXvlLnG+tOETNc0lxgHe/96tg9ECxqjw5qmUKChKaztKwOYZUbNxhwzHDZWJvoF5csL+Nr/YPH9FWb6XL4PTORXEkdswHnDCUkBWhrF5/uQNJ1KR5QkVeBgmk5ZuU25OFgd2a47E6UXBTjJfXpJU9mDReDipyhApYTVbWny7PEETS9DgRVlDTRVO9MeyI0l8lMDS6o6H2UFoRENY2BxBVIT9BSOXYa1NYcZUQ9ZfiylyoYzEFNH6AMdupBltJe5UBYGXb0UUbzoMgx0b41El+JI5dkZT0o6hOOCw5tCIrCRm4dOZOlBLuZoYxDCgQ6B6WwpAM1ldSypWeUlfWPE3v38seg7iTZ5CIlOiTWtQylOKHlql02FyR/N5RNTcagwa3yieF/jfPDpS1qL+Wu7BlAhXvhKMd3gcoFJfG8W18KEkmH2T3QVNS32R8HzhAbPjh++6pd0DRKf7rL+pBGkXP5OAahM0dJbA7X9lR4yZcNP2Fzpfz4FK4tC+naBgVM12+HE8piSQhSvqTvMPJkUwL2dVzhTrFp1RwQJgxleVeglqM0FqQr9gC+Sv8VHzb2pVK5WK7YB6QBQ2lfLtCrB5TnxLCkVghdRLvov/KNVKkEK9SOaFQRymMZGNFFqMArXXirVbjF7rqDi5e/5aidXpi0Stzc0kMFzhFMuTNU0CRXjfipr1jymMOGSsU1eKmRD7gmDaqYwaB+QiXjTbkWKFOsuGI9bKbjitcJhMoZu0dEkMWkVDJUwtteMJqoFcndNr96+xuBcg5mUrqFuG85KmEtGBf6qGgsC/mvwlc/r5bBRioUmVTnjA7+w80mVOTVYEPGURHzH7KXArzU19u8AysUwhNXEAhlg191wFARy8GS8ITKhvYqU2zECo2jL19glP6deroDX9oOqMzpwZ5qRHXj87iY5I0WKu8372wmk6XkBQjdFze/fe6hukMGdt04anDKEP7UqBcw3vYVDIhQ59zS8X3i4HhxUAPLXbCtmBnqmO4hADx0iqSdPSWFMhRxdJKHgeDpSzmFsIXeRz3O5filExJLcT/BgDcTUqoTAOX900E9TgVbOY+oiWnlsBMUmcCyQHdJWiOtwwu29BiRUq392pVg1RlFmnAxCUqI5y5sLPOQzEH/pGdzBIvcAUVKiz2t+GXzx/+HbEAiX7Ak2kdEeEb9A0sPJNK0BewE1U8gXnMV4wusSVcdxG+QAps72JFywPWYu+YSQx6CLd6qSkwf1+Ptrh7/H+IJVxtOZQoLvO3Lw3L9O6X7W+Dhaod9zP3/Vp+QAI/ah6u3jcrAiivTu4mjvvgcCXg32KtrwJACc5KsB4Fk67Sgo96OI719OUgjOsOehS1HIs00Z0dBQ7QtJ4GnWgigzxKHIREWpLB37stBOjyasxT+Kd50Ekjl+2ql2RxxpDM8Nz8GIec6N0jKO+VxKFhG294JjDIhgKIqE4chqSmDz+GWI1LjU3I/hwvBgAgMyxdCAGFVJtEBqfH2CB+mDhga0DjBM04IbkQhnwBO8TNwOP7l1335/1bcJjTLfk5gROsOcw8f63jx0LIJDJrRsub0gA+XzhytuoMxNdo13XYZ8VMW+wztYUl+zx51XwCZMD1nZZ6cDmjRePmQTZ+M4uUztI57zuQHSfssX/G5vvZhB8vcLuzT+hy/7vn8dYqmcWBon/P84In/e27mM9wea/jgjb9zpj9E/vQHZ/ydNxyaPXxEdC4ft+eT4z4Sjv/7RZ/+X2If/yfEyh807wtk+D+x3ZV50Evwf2Ifv+tf5uD/cJ/3ndixi3X2bkXw06X4vzc4/HQ3/Jb3iw0Mg+jO6p+9BxSfqesgLU8H/CWMye0IEO3svhtbxneXpYbx7PzooYBN7cN9e0p4hp/NZUvVnO45j35kvNALblf4W7yTY86WVfity39Kaduf9Cvwgsu5gH/q8FsMfraLwiU/XXU5efjZ2Hi6VK5Kx7T9132vcsJvuSDiVvdg/Mh1AZ/m7Kr+Vez32A8JT++Spz5+Bs7HzAlDNJdVp9k4P4Efja1pBNxV5RzteVJonCDPUpBT/YqxwCtFGd81zoNp2NW0wB1/Ls8hqHB/xVhgRnjRY1dnl9nfdn3QjP5cxnUBOrxfMCPc4rcKWCGss2eA1gW3cw+rnHbZA8UsX7dpEtXNS3tK211E8+EP5pk61e2OKMa9gTeqtaOHYUCxQwernXd19fVv7N3putogEAbggeyb0URj4nG39rv/O2z7dG+zQAwExfd3T8/xkRAYhhktXHVZEPUanfiGvvme732Ls69WX50WP51W39yzLLsV5bneLgdTVwp63BKtHHpdKVrFqnMNHZfkBcoTdxq0WdPruqNVrTzZcE/SLurzdiLrUgIOaMM03Nw9kaSSQXkZikPXhPiyfLTZ0TQ2HN2OJCXM0e2oNjvqRC/Lk5mf5cXoxmuS4ejI3C2tOw1gilOhE3Tz3In+I4em4tp2GhAqT4Nz0M2XWqxqqUPVmNMAR4sSrc5EpGMZsJBcAKqP1EaWJQXd0YomFKNHNsECcEETSizbBy56ukToqOLDShLgOujm0JROBnXB0yHQEfr8QDe+ebCaex7SlGLLssIctAloUtsG3bwlDamGphD1+TEVvahcy4XYlD0SxM3QY0XTcrv2Ky9KU6uXDD0S6lWw3p+dWm7VeWCta8lzQI/V6G2kQ5NzOpbFr6lAq5AmF40swrH0lCwAu+2tCgTEaEXT2zbjVnKRyI9pmKtetFLUVd98d2ZjzoUCQHMZ8qtV18MqjSueGD2aUH7pkJAKmVWloj7r3PNU6LFz6X+rGWqQl1ZFgnytp9++ZFJ3DJkFoNrz0U/0khytH3bpoUcgFQBgJSliVUpIo3e6O68lCvKdOXrcSRVuUyiQaU6BjCEcEAob9KhIGc+iOjGu9rPPFQSzA7YeevikjmNRTlAocylAR4ufWCgDAI5L6kQWxYLPM9yG9tGDHUUix01ICgUWXQ4q0YpUEHu2WTk8StZnavUUV2XMctRVEEN8dcfToQAwK0ipBVq9RrMwoUV5Qx20bAb5mRL0uZBaV4uqhGTzLHiPDD3yZN7y/Re0ermWYd2bsh11m71HjU+qZRYdB57mSn+qMJLjkmqxRYnhi9kuwu0xircl5Y4WnQcf5gt7OxiB16ReaVHXgARt9qTB1oM0VpIGqfUDICAdwhySWEyt3gPgKQcA1RxyMurwHgBPOQAoXUPGijq8B8CTDgAqmIn9G8/vAUC63BhEfaZu7wHwrAOA7hC0px7vAfC0A4Cu5rVvfa8BfNKoMiQA/A4EzVUTLTEjAPxbYdEAqAwYABRgQBOSTjeLqsWejCiGkOMnI+q02nQaqDgfQD5L1ISGHTblA2Tzp8C7Ef5kQPvmlUWVAuPZu6RtHdPCALSwKCewQCvSpm4gJnJJlwSt6BWlMw/2lEOUsyVNAovuBWzmTYCNGcQ1NekRzf5e1Gc7645nBSm8IC0ctGnoJbEZg14VJLELDXlXipTUzBZ5cX38w5Tt4Pz7EI2cucqhbB2M4buk2saAUIQ++5mOA9Mc4zghKVaYEI3UpponFpwx/GbYUvBu0VkQ0UqmGML8F8N0LAUrtCrpJcUzxL2XPh4TkEq+VbWCU/3zXe3hUR8hqeNZFAgkWmovixlzDPCG/0lekDLMpjgQEdc8yVYYsgtp42EAO5Ei6fxZqVp9aN0GhBGGREuxKIG/JCUuVoUBusqFY0kqlDmG+MJpIk1KKgRodacXdUWrIylwZRiS0E/7mfaDnlW7QKJi6CKe1t1fJRcs8Lc0tSWs2gRobJd+zGUf6ROgfzdwgwl5siKebNtbYdD6OCJfpKJpJZj9tpxmgY5FQO1gUJ6OOjJyag3PA1b0slYaGmRc2MhjvnCHQWxB06nR7kwv6wzVdwPCSOqgX/7WgHOecFNkUULgD1zxmL+sMSyhLgmGsStNxLGsdXTP6Vel8fFnK+q2Yhj2UdMUNmbcTtRrBYUdMi4cw/iR+hQcw1jl0uMW9i0Bukf9jR6WOhCw21C/zQ4CvIIe1sCidjG/eIree27FIGDv0hB3DxHBlh4Tw7oowDcHKLkfFDcQ8YlEnCBifaWHOLAqH/CnUsW4P0cQwW8k5sghwrs9di5iUb+o4QodbENjLRMI2Yn/io0DIdGZxooMuJs+i2TqKeDKIeSzK/dnigk2NMoNdr4BiFJ0KGiMrIEQdic58RpCWBDSCB4sDAN+t8N08eDYgxgvJVn1DmJYtR0TA7Cqb/ifrpMVaI536DBJTp/7GYLYIZRfAVpUHepvW4ZJokEXT/n1nphDEAtq2fYVNt0LF0oNBfiGRC2vOUTt6gkPF7r5NxLkfsDaJeA3Z3TJaxJyPqwhLKFHrBiENYut8PdvZRj4p+ihEeDeHYjLj/SY1IM4to8FihWYUqRyNiU68Yz63fYMHRSl8roJZPDPxeh81fwle0a3iMYdsrjxZw4ZPKMpFB6k8P2960NsPptTpXZGJXqwZEMt0mvEIMcPaRpuAllOktX0r1vAgPcEMHwTZ7colvSLm2aHDwZZPKPpFB7k8Y9gkRVpvd1uzsX9EDEzOtWZIGQYkjt+kAR+5HCM4oc0JfeAqVgdA/hpAbXymKaWOlCKWRAE/MMOKiVLUuDCIcvEVoVmSBmUcVJSY5tgCvP3TTDBAorwFXWYdjH4fgE86ANKBCEpleVQ4ULWCTlkTJajpSb/2OhidIYqGSbmxaRDGECCcb0qzREDeJaX/9/KCOJM61VpkCumw08u9TF4CDQv2SNMyAoT4QuXNCsiTCOvyV7Xib7+JYkwcgh49j7/HaV5ZOUnl2ZyThge9LEku5UcD9llNKdQMDvN4jRwicRLedGR5ra8ehiLW5EEOujEMEq+MOT1WQbMhCPr57WJIM836elxVw5kNSZ9gLnFHqQ4V+Mens3JgQRuTQKgoGz3zN/+d+FJNHXNu9gZ/O119BkG5cHd0G//OzdOPJHM8bc2y4u/RrfcPz3FqXkYVxFHB+8w/8bFaMUnv8G/mOcvbs91YrKJT0nkrfEbd4JPR9vDPmLcNF4tDkGwD5Jqcc3K5/rq/+Ju63NZlGX9xJ/h7e3t7Ut7cEgAAAAAIOj/a1+YAAAAAAAAAAAAAAAAAAAAAAAAbgFdjcft4pbu3AAAAABJRU5ErkJggg=="}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return vt},SDK_VERSION:function(){return hn},_DEFAULT_ENTRY_NAME:function(){return Zt},_addComponent:function(){return nn},_addOrOverwriteComponent:function(){return rn},_apps:function(){return en},_clearComponents:function(){return un},_components:function(){return tn},_getProvider:function(){return on},_registerComponent:function(){return an},_removeServiceInstance:function(){return sn},deleteApp:function(){return mn},getApp:function(){return pn},getApps:function(){return vn},initializeApp:function(){return dn},onLog:function(){return kn},registerVersion:function(){return gn},setLogLevel:function(){return wn}});var t=n(791),r=n(164),i=n(184),a=n(336),o=function(e){return(0,i.jsxs)("div",{className:"header-container",children:[(0,i.jsx)("img",{className:"logo",src:a}),(0,i.jsx)("img",{className:"right-image",src:a})]})};function s(e){if(Array.isArray(e))return e}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){if(e){if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){return s(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||c(e,t)||l()}function h(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function d(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function p(e){return function(e){if(Array.isArray(e))return u(e)}(e)||d(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e){return null!==e&&"object"===typeof e&&"constructor"in e&&e.constructor===Object}function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).forEach((function(n){"undefined"===typeof e[n]?e[n]=t[n]:g(t[n])&&g(e[n])&&Object.keys(t[n]).length>0&&k(e[n],t[n])}))}var w={body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},createElementNS:function(){return{}},importNode:function(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function b(){var e="undefined"!==typeof document?document:{};return k(e,w),e}var x={document:w,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState:function(){},pushState:function(){},go:function(){},back:function(){}},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){},matchMedia:function(){return{}},requestAnimationFrame:function(e){return"undefined"===typeof setTimeout?(e(),null):setTimeout(e,0)},cancelAnimationFrame:function(e){"undefined"!==typeof setTimeout&&clearTimeout(e)}};function E(){var e="undefined"!==typeof window?window:{};return k(e,x),e}function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t){if(t&&("object"===T(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return I(e)}function _(e,t){return _=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_(e,t)}function C(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}function N(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function O(e){var t=N();return function(){var n,r=A(e);if(t){var i=A(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return S(this,n)}}function P(e,t,n){return P=N()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&_(i,n.prototype),i},P.apply(null,arguments)}function D(e){var t="function"===typeof Map?new Map:void 0;return D=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return P(e,arguments,A(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),_(n,e)},D(e)}var R=function(e){C(n,e);var t=O(n);function n(e){var r;return v(this,n),"number"===typeof e?r=t.call(this,e):function(e){var t=e.__proto__;Object.defineProperty(e,"__proto__",{get:function(){return t},set:function(e){t.__proto__=e}})}(I(r=t.call.apply(t,[this].concat(p(e||[]))))),S(r)}return y(n)}(D(Array));function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[];return e.forEach((function(e){Array.isArray(e)?t.push.apply(t,p(L(e))):t.push(e)})),t}function M(e,t){return Array.prototype.filter.call(e,t)}function F(e,t){var n=E(),r=b(),i=[];if(!t&&e instanceof R)return e;if(!e)return new R(i);if("string"===typeof e){var a=e.trim();if(a.indexOf("<")>=0&&a.indexOf(">")>=0){var o="div";0===a.indexOf("<li")&&(o="ul"),0===a.indexOf("<tr")&&(o="tbody"),0!==a.indexOf("<td")&&0!==a.indexOf("<th")||(o="tr"),0===a.indexOf("<tbody")&&(o="table"),0===a.indexOf("<option")&&(o="select");var s=r.createElement(o);s.innerHTML=a;for(var u=0;u<s.childNodes.length;u+=1)i.push(s.childNodes[u])}else i=function(e,t){if("string"!==typeof e)return[e];for(var n=[],r=t.querySelectorAll(e),i=0;i<r.length;i+=1)n.push(r[i]);return n}(e.trim(),t||r)}else if(e.nodeType||e===n||e===r)i.push(e);else if(Array.isArray(e)){if(e instanceof R)return e;i=e}return new R(function(e){for(var t=[],n=0;n<e.length;n+=1)-1===t.indexOf(e[n])&&t.push(e[n]);return t}(i))}F.fn=R.prototype;var U="resize scroll".split(" ");function V(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if("undefined"===typeof n[0]){for(var i=0;i<this.length;i+=1)U.indexOf(e)<0&&(e in this[i]?this[i][e]():F(this[i]).trigger(e));return this}return this.on.apply(this,[e].concat(n))}}V("click"),V("blur"),V("focus"),V("focusin"),V("focusout"),V("keyup"),V("keydown"),V("keypress"),V("submit"),V("change"),V("mousedown"),V("mousemove"),V("mouseup"),V("mouseenter"),V("mouseleave"),V("mouseout"),V("mouseover"),V("touchstart"),V("touchend"),V("touchmove"),V("resize"),V("scroll");var B={addClass:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=L(t.map((function(e){return e.split(" ")})));return this.forEach((function(e){var t;(t=e.classList).add.apply(t,p(r))})),this},removeClass:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=L(t.map((function(e){return e.split(" ")})));return this.forEach((function(e){var t;(t=e.classList).remove.apply(t,p(r))})),this},hasClass:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=L(t.map((function(e){return e.split(" ")})));return M(this,(function(e){return r.filter((function(t){return e.classList.contains(t)})).length>0})).length>0},toggleClass:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=L(t.map((function(e){return e.split(" ")})));this.forEach((function(e){r.forEach((function(t){e.classList.toggle(t)}))}))},attr:function(e,t){if(1===arguments.length&&"string"===typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var n=0;n<this.length;n+=1)if(2===arguments.length)this[n].setAttribute(e,t);else for(var r in e)this[n][r]=e[r],this[n].setAttribute(r,e[r]);return this},removeAttr:function(e){for(var t=0;t<this.length;t+=1)this[t].removeAttribute(e);return this},transform:function(e){for(var t=0;t<this.length;t+=1)this[t].style.transform=e;return this},transition:function(e){for(var t=0;t<this.length;t+=1)this[t].style.transitionDuration="string"!==typeof e?"".concat(e,"ms"):e;return this},on:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],a=t[2],o=t[3];function s(e){var t=e.target;if(t){var n=e.target.dom7EventData||[];if(n.indexOf(e)<0&&n.unshift(e),F(t).is(i))a.apply(t,n);else for(var r=F(t).parents(),o=0;o<r.length;o+=1)F(r[o]).is(i)&&a.apply(r[o],n)}}function u(e){var t=e&&e.target&&e.target.dom7EventData||[];t.indexOf(e)<0&&t.unshift(e),a.apply(this,t)}"function"===typeof t[1]&&(r=t[0],a=t[1],o=t[2],i=void 0),o||(o=!1);for(var c,l=r.split(" "),f=0;f<this.length;f+=1){var h=this[f];if(i)for(c=0;c<l.length;c+=1){var d=l[c];h.dom7LiveListeners||(h.dom7LiveListeners={}),h.dom7LiveListeners[d]||(h.dom7LiveListeners[d]=[]),h.dom7LiveListeners[d].push({listener:a,proxyListener:s}),h.addEventListener(d,s,o)}else for(c=0;c<l.length;c+=1){var p=l[c];h.dom7Listeners||(h.dom7Listeners={}),h.dom7Listeners[p]||(h.dom7Listeners[p]=[]),h.dom7Listeners[p].push({listener:a,proxyListener:u}),h.addEventListener(p,u,o)}}return this},off:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],a=t[2],o=t[3];"function"===typeof t[1]&&(r=t[0],a=t[1],o=t[2],i=void 0),o||(o=!1);for(var s=r.split(" "),u=0;u<s.length;u+=1)for(var c=s[u],l=0;l<this.length;l+=1){var f=this[l],h=void 0;if(!i&&f.dom7Listeners?h=f.dom7Listeners[c]:i&&f.dom7LiveListeners&&(h=f.dom7LiveListeners[c]),h&&h.length)for(var d=h.length-1;d>=0;d-=1){var p=h[d];a&&p.listener===a||a&&p.listener&&p.listener.dom7proxy&&p.listener.dom7proxy===a?(f.removeEventListener(c,p.proxyListener,o),h.splice(d,1)):a||(f.removeEventListener(c,p.proxyListener,o),h.splice(d,1))}}return this},trigger:function(){for(var e=E(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=n[0].split(" "),a=n[1],o=0;o<i.length;o+=1)for(var s=i[o],u=0;u<this.length;u+=1){var c=this[u];if(e.CustomEvent){var l=new e.CustomEvent(s,{detail:a,bubbles:!0,cancelable:!0});c.dom7EventData=n.filter((function(e,t){return t>0})),c.dispatchEvent(l),c.dom7EventData=[],delete c.dom7EventData}}return this},transitionEnd:function(e){var t=this;return e&&t.on("transitionend",(function n(r){r.target===this&&(e.call(this,r),t.off("transitionend",n))})),this},outerWidth:function(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetWidth+parseFloat(t.getPropertyValue("margin-right"))+parseFloat(t.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetHeight+parseFloat(t.getPropertyValue("margin-top"))+parseFloat(t.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},styles:function(){var e=E();return this[0]?e.getComputedStyle(this[0],null):{}},offset:function(){if(this.length>0){var e=E(),t=b(),n=this[0],r=n.getBoundingClientRect(),i=t.body,a=n.clientTop||i.clientTop||0,o=n.clientLeft||i.clientLeft||0,s=n===e?e.scrollY:n.scrollTop,u=n===e?e.scrollX:n.scrollLeft;return{top:r.top+s-a,left:r.left+u-o}}return null},css:function(e,t){var n,r=E();if(1===arguments.length){if("string"!==typeof e){for(n=0;n<this.length;n+=1)for(var i in e)this[n].style[i]=e[i];return this}if(this[0])return r.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"===typeof e){for(n=0;n<this.length;n+=1)this[n].style[e]=t;return this}return this},each:function(e){return e?(this.forEach((function(t,n){e.apply(t,[t,n])})),this):this},html:function(e){if("undefined"===typeof e)return this[0]?this[0].innerHTML:null;for(var t=0;t<this.length;t+=1)this[t].innerHTML=e;return this},text:function(e){if("undefined"===typeof e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t+=1)this[t].textContent=e;return this},is:function(e){var t,n,r=E(),i=b(),a=this[0];if(!a||"undefined"===typeof e)return!1;if("string"===typeof e){if(a.matches)return a.matches(e);if(a.webkitMatchesSelector)return a.webkitMatchesSelector(e);if(a.msMatchesSelector)return a.msMatchesSelector(e);for(t=F(e),n=0;n<t.length;n+=1)if(t[n]===a)return!0;return!1}if(e===i)return a===i;if(e===r)return a===r;if(e.nodeType||e instanceof R){for(t=e.nodeType?[e]:e,n=0;n<t.length;n+=1)if(t[n]===a)return!0;return!1}return!1},index:function(){var e,t=this[0];if(t){for(e=0;null!==(t=t.previousSibling);)1===t.nodeType&&(e+=1);return e}},eq:function(e){if("undefined"===typeof e)return this;var t=this.length;if(e>t-1)return F([]);if(e<0){var n=t+e;return F(n<0?[]:[this[n]])}return F([this[e]])},append:function(){for(var e,t=b(),n=0;n<arguments.length;n+=1){e=n<0||arguments.length<=n?void 0:arguments[n];for(var r=0;r<this.length;r+=1)if("string"===typeof e){var i=t.createElement("div");for(i.innerHTML=e;i.firstChild;)this[r].appendChild(i.firstChild)}else if(e instanceof R)for(var a=0;a<e.length;a+=1)this[r].appendChild(e[a]);else this[r].appendChild(e)}return this},prepend:function(e){var t,n,r=b();for(t=0;t<this.length;t+=1)if("string"===typeof e){var i=r.createElement("div");for(i.innerHTML=e,n=i.childNodes.length-1;n>=0;n-=1)this[t].insertBefore(i.childNodes[n],this[t].childNodes[0])}else if(e instanceof R)for(n=0;n<e.length;n+=1)this[t].insertBefore(e[n],this[t].childNodes[0]);else this[t].insertBefore(e,this[t].childNodes[0]);return this},next:function(e){return this.length>0?e?this[0].nextElementSibling&&F(this[0].nextElementSibling).is(e)?F([this[0].nextElementSibling]):F([]):this[0].nextElementSibling?F([this[0].nextElementSibling]):F([]):F([])},nextAll:function(e){var t=[],n=this[0];if(!n)return F([]);for(;n.nextElementSibling;){var r=n.nextElementSibling;e?F(r).is(e)&&t.push(r):t.push(r),n=r}return F(t)},prev:function(e){if(this.length>0){var t=this[0];return e?t.previousElementSibling&&F(t.previousElementSibling).is(e)?F([t.previousElementSibling]):F([]):t.previousElementSibling?F([t.previousElementSibling]):F([])}return F([])},prevAll:function(e){var t=[],n=this[0];if(!n)return F([]);for(;n.previousElementSibling;){var r=n.previousElementSibling;e?F(r).is(e)&&t.push(r):t.push(r),n=r}return F(t)},parent:function(e){for(var t=[],n=0;n<this.length;n+=1)null!==this[n].parentNode&&(e?F(this[n].parentNode).is(e)&&t.push(this[n].parentNode):t.push(this[n].parentNode));return F(t)},parents:function(e){for(var t=[],n=0;n<this.length;n+=1)for(var r=this[n].parentNode;r;)e?F(r).is(e)&&t.push(r):t.push(r),r=r.parentNode;return F(t)},closest:function(e){var t=this;return"undefined"===typeof e?F([]):(t.is(e)||(t=t.parents(e).eq(0)),t)},find:function(e){for(var t=[],n=0;n<this.length;n+=1)for(var r=this[n].querySelectorAll(e),i=0;i<r.length;i+=1)t.push(r[i]);return F(t)},children:function(e){for(var t=[],n=0;n<this.length;n+=1)for(var r=this[n].children,i=0;i<r.length;i+=1)e&&!F(r[i]).is(e)||t.push(r[i]);return F(t)},filter:function(e){return F(M(this,e))},remove:function(){for(var e=0;e<this.length;e+=1)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this}};Object.keys(B).forEach((function(e){Object.defineProperty(F.fn,e,{value:B[e],writable:!0})}));var j,z,q,G=F;function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W(e,t){return void 0===t&&(t=0),setTimeout(e,t)}function H(){return Date.now()}function Q(e,t){void 0===t&&(t="x");var n,r,i,a=E(),o=function(e){var t,n=E();return n.getComputedStyle&&(t=n.getComputedStyle(e,null)),!t&&e.currentStyle&&(t=e.currentStyle),t||(t=e.style),t}(e);return a.WebKitCSSMatrix?((r=o.transform||o.webkitTransform).split(",").length>6&&(r=r.split(", ").map((function(e){return e.replace(",",".")})).join(", ")),i=new a.WebKitCSSMatrix("none"===r?"":r)):n=(i=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===t&&(r=a.WebKitCSSMatrix?i.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),"y"===t&&(r=a.WebKitCSSMatrix?i.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5])),r||0}function Y(e){return"object"===typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function X(e){return"undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement?e instanceof HTMLElement:e&&(1===e.nodeType||11===e.nodeType)}function J(){for(var e=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"],n=1;n<arguments.length;n+=1){var r=n<0||arguments.length<=n?void 0:arguments[n];if(void 0!==r&&null!==r&&!X(r))for(var i=Object.keys(Object(r)).filter((function(e){return t.indexOf(e)<0})),a=0,o=i.length;a<o;a+=1){var s=i[a],u=Object.getOwnPropertyDescriptor(r,s);void 0!==u&&u.enumerable&&(Y(e[s])&&Y(r[s])?r[s].__swiper__?e[s]=r[s]:J(e[s],r[s]):!Y(e[s])&&Y(r[s])?(e[s]={},r[s].__swiper__?e[s]=r[s]:J(e[s],r[s])):e[s]=r[s])}}return e}function Z(e,t,n){e.style.setProperty(t,n)}function $(e){var t,n=e.swiper,r=e.targetPosition,i=e.side,a=E(),o=-n.translate,s=null,u=n.params.speed;n.wrapperEl.style.scrollSnapType="none",a.cancelAnimationFrame(n.cssModeFrameID);var c=r>o?"next":"prev",l=function(e,t){return"next"===c&&e>=t||"prev"===c&&e<=t};!function e(){t=(new Date).getTime(),null===s&&(s=t);var c=Math.max(Math.min((t-s)/u,1),0),f=.5-Math.cos(c*Math.PI)/2,h=o+f*(r-o);if(l(h,r)&&(h=r),n.wrapperEl.scrollTo(K({},i,h)),l(h,r))return n.wrapperEl.style.overflow="hidden",n.wrapperEl.style.scrollSnapType="",setTimeout((function(){n.wrapperEl.style.overflow="",n.wrapperEl.scrollTo(K({},i,h))})),void a.cancelAnimationFrame(n.cssModeFrameID);n.cssModeFrameID=a.requestAnimationFrame(e)}()}function ee(){return j||(j=function(){var e=E(),t=b();return{smoothScroll:t.documentElement&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch),passiveListener:function(){var t=!1;try{var n=Object.defineProperty({},"passive",{get:function(){t=!0}});e.addEventListener("testPassiveListener",null,n)}catch(r){}return t}(),gestures:"ongesturestart"in e}}()),j}function te(e){return void 0===e&&(e={}),z||(z=function(e){var t=(void 0===e?{}:e).userAgent,n=ee(),r=E(),i=r.navigator.platform,a=t||r.navigator.userAgent,o={ios:!1,android:!1},s=r.screen.width,u=r.screen.height,c=a.match(/(Android);?[\s\/]+([\d.]+)?/),l=a.match(/(iPad).*OS\s([\d_]+)/),f=a.match(/(iPod)(.*OS\s([\d_]+))?/),h=!l&&a.match(/(iPhone\sOS|iOS)\s([\d_]+)/),d="Win32"===i,p="MacIntel"===i;return!l&&p&&n.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf("".concat(s,"x").concat(u))>=0&&((l=a.match(/(Version)\/([\d.]+)/))||(l=[0,1,"13_0_0"]),p=!1),c&&!d&&(o.os="android",o.android=!0),(l||h||f)&&(o.os="ios",o.ios=!0),o}(e)),z}function ne(){return q||(q=function(){var e=E();return{isSafari:function(){var t=e.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)}}()),q}var re={on:function(e,t,n){var r=this;if("function"!==typeof t)return r;var i=n?"unshift":"push";return e.split(" ").forEach((function(e){r.eventsListeners[e]||(r.eventsListeners[e]=[]),r.eventsListeners[e][i](t)})),r},once:function(e,t,n){var r=this;if("function"!==typeof t)return r;function i(){r.off(e,i),i.__emitterProxy&&delete i.__emitterProxy;for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];t.apply(r,a)}return i.__emitterProxy=t,r.on(e,i,n)},onAny:function(e,t){var n=this;if("function"!==typeof e)return n;var r=t?"unshift":"push";return n.eventsAnyListeners.indexOf(e)<0&&n.eventsAnyListeners[r](e),n},offAny:function(e){var t=this;if(!t.eventsAnyListeners)return t;var n=t.eventsAnyListeners.indexOf(e);return n>=0&&t.eventsAnyListeners.splice(n,1),t},off:function(e,t){var n=this;return n.eventsListeners?(e.split(" ").forEach((function(e){"undefined"===typeof t?n.eventsListeners[e]=[]:n.eventsListeners[e]&&n.eventsListeners[e].forEach((function(r,i){(r===t||r.__emitterProxy&&r.__emitterProxy===t)&&n.eventsListeners[e].splice(i,1)}))})),n):n},emit:function(){var e,t,n,r=this;if(!r.eventsListeners)return r;for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];"string"===typeof a[0]||Array.isArray(a[0])?(e=a[0],t=a.slice(1,a.length),n=r):(e=a[0].events,t=a[0].data,n=a[0].context||r),t.unshift(n);var s=Array.isArray(e)?e:e.split(" ");return s.forEach((function(e){r.eventsAnyListeners&&r.eventsAnyListeners.length&&r.eventsAnyListeners.forEach((function(r){r.apply(n,[e].concat(p(t)))})),r.eventsListeners&&r.eventsListeners[e]&&r.eventsListeners[e].forEach((function(e){e.apply(n,t)}))})),r}};var ie={updateSize:function(){var e,t,n=this,r=n.$el;e="undefined"!==typeof n.params.width&&null!==n.params.width?n.params.width:r[0].clientWidth,t="undefined"!==typeof n.params.height&&null!==n.params.height?n.params.height:r[0].clientHeight,0===e&&n.isHorizontal()||0===t&&n.isVertical()||(e=e-parseInt(r.css("padding-left")||0,10)-parseInt(r.css("padding-right")||0,10),t=t-parseInt(r.css("padding-top")||0,10)-parseInt(r.css("padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))},updateSlides:function(){var e=this;function t(t){return e.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}function n(e,n){return parseFloat(e.getPropertyValue(t(n))||0)}var r=e.params,i=e.$wrapperEl,a=e.size,o=e.rtlTranslate,s=e.wrongRTL,u=e.virtual&&r.virtual.enabled,c=u?e.virtual.slides.length:e.slides.length,l=i.children(".".concat(e.params.slideClass)),f=u?e.virtual.slides.length:l.length,h=[],d=[],p=[],v=r.slidesOffsetBefore;"function"===typeof v&&(v=r.slidesOffsetBefore.call(e));var m=r.slidesOffsetAfter;"function"===typeof m&&(m=r.slidesOffsetAfter.call(e));var y=e.snapGrid.length,g=e.slidesGrid.length,k=r.spaceBetween,w=-v,b=0,x=0;if("undefined"!==typeof a){"string"===typeof k&&k.indexOf("%")>=0&&(k=parseFloat(k.replace("%",""))/100*a),e.virtualSize=-k,o?l.css({marginLeft:"",marginBottom:"",marginTop:""}):l.css({marginRight:"",marginBottom:"",marginTop:""}),r.centeredSlides&&r.cssMode&&(Z(e.wrapperEl,"--swiper-centered-offset-before",""),Z(e.wrapperEl,"--swiper-centered-offset-after",""));var E,T=r.grid&&r.grid.rows>1&&e.grid;T&&e.grid.initSlides(f);for(var I="auto"===r.slidesPerView&&r.breakpoints&&Object.keys(r.breakpoints).filter((function(e){return"undefined"!==typeof r.breakpoints[e].slidesPerView})).length>0,S=0;S<f;S+=1){E=0;var _=l.eq(S);if(T&&e.grid.updateSlide(S,_,f,t),"none"!==_.css("display")){if("auto"===r.slidesPerView){I&&(l[S].style[t("width")]="");var C=getComputedStyle(_[0]),A=_[0].style.transform,N=_[0].style.webkitTransform;if(A&&(_[0].style.transform="none"),N&&(_[0].style.webkitTransform="none"),r.roundLengths)E=e.isHorizontal()?_.outerWidth(!0):_.outerHeight(!0);else{var O=n(C,"width"),P=n(C,"padding-left"),D=n(C,"padding-right"),R=n(C,"margin-left"),L=n(C,"margin-right"),M=C.getPropertyValue("box-sizing");if(M&&"border-box"===M)E=O+R+L;else{var F=_[0],U=F.clientWidth;E=O+P+D+R+L+(F.offsetWidth-U)}}A&&(_[0].style.transform=A),N&&(_[0].style.webkitTransform=N),r.roundLengths&&(E=Math.floor(E))}else E=(a-(r.slidesPerView-1)*k)/r.slidesPerView,r.roundLengths&&(E=Math.floor(E)),l[S]&&(l[S].style[t("width")]="".concat(E,"px"));l[S]&&(l[S].swiperSlideSize=E),p.push(E),r.centeredSlides?(w=w+E/2+b/2+k,0===b&&0!==S&&(w=w-a/2-k),0===S&&(w=w-a/2-k),Math.abs(w)<.001&&(w=0),r.roundLengths&&(w=Math.floor(w)),x%r.slidesPerGroup===0&&h.push(w),d.push(w)):(r.roundLengths&&(w=Math.floor(w)),(x-Math.min(e.params.slidesPerGroupSkip,x))%e.params.slidesPerGroup===0&&h.push(w),d.push(w),w=w+E+k),e.virtualSize+=E+k,b=E,x+=1}}if(e.virtualSize=Math.max(e.virtualSize,a)+m,o&&s&&("slide"===r.effect||"coverflow"===r.effect)&&i.css({width:"".concat(e.virtualSize+r.spaceBetween,"px")}),r.setWrapperSize&&i.css(K({},t("width"),"".concat(e.virtualSize+r.spaceBetween,"px"))),T&&e.grid.updateWrapperSize(E,h,t),!r.centeredSlides){for(var V=[],B=0;B<h.length;B+=1){var j=h[B];r.roundLengths&&(j=Math.floor(j)),h[B]<=e.virtualSize-a&&V.push(j)}h=V,Math.floor(e.virtualSize-a)-Math.floor(h[h.length-1])>1&&h.push(e.virtualSize-a)}if(0===h.length&&(h=[0]),0!==r.spaceBetween){var z=e.isHorizontal()&&o?"marginLeft":t("marginRight");l.filter((function(e,t){return!r.cssMode||t!==l.length-1})).css(K({},z,"".concat(k,"px")))}if(r.centeredSlides&&r.centeredSlidesBounds){var q=0;p.forEach((function(e){q+=e+(r.spaceBetween?r.spaceBetween:0)}));var G=(q-=r.spaceBetween)-a;h=h.map((function(e){return e<0?-v:e>G?G+m:e}))}if(r.centerInsufficientSlides){var W=0;if(p.forEach((function(e){W+=e+(r.spaceBetween?r.spaceBetween:0)})),(W-=r.spaceBetween)<a){var H=(a-W)/2;h.forEach((function(e,t){h[t]=e-H})),d.forEach((function(e,t){d[t]=e+H}))}}if(Object.assign(e,{slides:l,snapGrid:h,slidesGrid:d,slidesSizesGrid:p}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){Z(e.wrapperEl,"--swiper-centered-offset-before","".concat(-h[0],"px")),Z(e.wrapperEl,"--swiper-centered-offset-after","".concat(e.size/2-p[p.length-1]/2,"px"));var Q=-e.snapGrid[0],Y=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map((function(e){return e+Q})),e.slidesGrid=e.slidesGrid.map((function(e){return e+Y}))}if(f!==c&&e.emit("slidesLengthChange"),h.length!==y&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),d.length!==g&&e.emit("slidesGridLengthChange"),r.watchSlidesProgress&&e.updateSlidesOffset(),!u&&!r.cssMode&&("slide"===r.effect||"fade"===r.effect)){var X="".concat(r.containerModifierClass,"backface-hidden"),J=e.$el.hasClass(X);f<=r.maxBackfaceHiddenSlides?J||e.$el.addClass(X):J&&e.$el.removeClass(X)}}},updateAutoHeight:function(e){var t,n=this,r=[],i=n.virtual&&n.params.virtual.enabled,a=0;"number"===typeof e?n.setTransition(e):!0===e&&n.setTransition(n.params.speed);var o=function(e){return i?n.slides.filter((function(t){return parseInt(t.getAttribute("data-swiper-slide-index"),10)===e}))[0]:n.slides.eq(e)[0]};if("auto"!==n.params.slidesPerView&&n.params.slidesPerView>1)if(n.params.centeredSlides)n.visibleSlides.each((function(e){r.push(e)}));else for(t=0;t<Math.ceil(n.params.slidesPerView);t+=1){var s=n.activeIndex+t;if(s>n.slides.length&&!i)break;r.push(o(s))}else r.push(o(n.activeIndex));for(t=0;t<r.length;t+=1)if("undefined"!==typeof r[t]){var u=r[t].offsetHeight;a=u>a?u:a}(a||0===a)&&n.$wrapperEl.css("height","".concat(a,"px"))},updateSlidesOffset:function(){for(var e=this.slides,t=0;t<e.length;t+=1)e[t].swiperSlideOffset=this.isHorizontal()?e[t].offsetLeft:e[t].offsetTop},updateSlidesProgress:function(e){void 0===e&&(e=this&&this.translate||0);var t=this,n=t.params,r=t.slides,i=t.rtlTranslate,a=t.snapGrid;if(0!==r.length){"undefined"===typeof r[0].swiperSlideOffset&&t.updateSlidesOffset();var o=-e;i&&(o=e),r.removeClass(n.slideVisibleClass),t.visibleSlidesIndexes=[],t.visibleSlides=[];for(var s=0;s<r.length;s+=1){var u=r[s],c=u.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(c-=r[0].swiperSlideOffset);var l=(o+(n.centeredSlides?t.minTranslate():0)-c)/(u.swiperSlideSize+n.spaceBetween),f=(o-a[0]+(n.centeredSlides?t.minTranslate():0)-c)/(u.swiperSlideSize+n.spaceBetween),h=-(o-c),d=h+t.slidesSizesGrid[s];(h>=0&&h<t.size-1||d>1&&d<=t.size||h<=0&&d>=t.size)&&(t.visibleSlides.push(u),t.visibleSlidesIndexes.push(s),r.eq(s).addClass(n.slideVisibleClass)),u.progress=i?-l:l,u.originalProgress=i?-f:f}t.visibleSlides=G(t.visibleSlides)}},updateProgress:function(e){var t=this;if("undefined"===typeof e){var n=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*n||0}var r=t.params,i=t.maxTranslate()-t.minTranslate(),a=t.progress,o=t.isBeginning,s=t.isEnd,u=o,c=s;0===i?(a=0,o=!0,s=!0):(o=(a=(e-t.minTranslate())/i)<=0,s=a>=1),Object.assign(t,{progress:a,isBeginning:o,isEnd:s}),(r.watchSlidesProgress||r.centeredSlides&&r.autoHeight)&&t.updateSlidesProgress(e),o&&!u&&t.emit("reachBeginning toEdge"),s&&!c&&t.emit("reachEnd toEdge"),(u&&!o||c&&!s)&&t.emit("fromEdge"),t.emit("progress",a)},updateSlidesClasses:function(){var e,t=this,n=t.slides,r=t.params,i=t.$wrapperEl,a=t.activeIndex,o=t.realIndex,s=t.virtual&&r.virtual.enabled;n.removeClass("".concat(r.slideActiveClass," ").concat(r.slideNextClass," ").concat(r.slidePrevClass," ").concat(r.slideDuplicateActiveClass," ").concat(r.slideDuplicateNextClass," ").concat(r.slideDuplicatePrevClass)),(e=s?t.$wrapperEl.find(".".concat(r.slideClass,'[data-swiper-slide-index="').concat(a,'"]')):n.eq(a)).addClass(r.slideActiveClass),r.loop&&(e.hasClass(r.slideDuplicateClass)?i.children(".".concat(r.slideClass,":not(.").concat(r.slideDuplicateClass,')[data-swiper-slide-index="').concat(o,'"]')).addClass(r.slideDuplicateActiveClass):i.children(".".concat(r.slideClass,".").concat(r.slideDuplicateClass,'[data-swiper-slide-index="').concat(o,'"]')).addClass(r.slideDuplicateActiveClass));var u=e.nextAll(".".concat(r.slideClass)).eq(0).addClass(r.slideNextClass);r.loop&&0===u.length&&(u=n.eq(0)).addClass(r.slideNextClass);var c=e.prevAll(".".concat(r.slideClass)).eq(0).addClass(r.slidePrevClass);r.loop&&0===c.length&&(c=n.eq(-1)).addClass(r.slidePrevClass),r.loop&&(u.hasClass(r.slideDuplicateClass)?i.children(".".concat(r.slideClass,":not(.").concat(r.slideDuplicateClass,')[data-swiper-slide-index="').concat(u.attr("data-swiper-slide-index"),'"]')).addClass(r.slideDuplicateNextClass):i.children(".".concat(r.slideClass,".").concat(r.slideDuplicateClass,'[data-swiper-slide-index="').concat(u.attr("data-swiper-slide-index"),'"]')).addClass(r.slideDuplicateNextClass),c.hasClass(r.slideDuplicateClass)?i.children(".".concat(r.slideClass,":not(.").concat(r.slideDuplicateClass,')[data-swiper-slide-index="').concat(c.attr("data-swiper-slide-index"),'"]')).addClass(r.slideDuplicatePrevClass):i.children(".".concat(r.slideClass,".").concat(r.slideDuplicateClass,'[data-swiper-slide-index="').concat(c.attr("data-swiper-slide-index"),'"]')).addClass(r.slideDuplicatePrevClass)),t.emitSlidesClasses()},updateActiveIndex:function(e){var t,n=this,r=n.rtlTranslate?n.translate:-n.translate,i=n.slidesGrid,a=n.snapGrid,o=n.params,s=n.activeIndex,u=n.realIndex,c=n.snapIndex,l=e;if("undefined"===typeof l){for(var f=0;f<i.length;f+=1)"undefined"!==typeof i[f+1]?r>=i[f]&&r<i[f+1]-(i[f+1]-i[f])/2?l=f:r>=i[f]&&r<i[f+1]&&(l=f+1):r>=i[f]&&(l=f);o.normalizeSlideIndex&&(l<0||"undefined"===typeof l)&&(l=0)}if(a.indexOf(r)>=0)t=a.indexOf(r);else{var h=Math.min(o.slidesPerGroupSkip,l);t=h+Math.floor((l-h)/o.slidesPerGroup)}if(t>=a.length&&(t=a.length-1),l!==s){var d=parseInt(n.slides.eq(l).attr("data-swiper-slide-index")||l,10);Object.assign(n,{snapIndex:t,realIndex:d,previousIndex:s,activeIndex:l}),n.emit("activeIndexChange"),n.emit("snapIndexChange"),u!==d&&n.emit("realIndexChange"),(n.initialized||n.params.runCallbacksOnInit)&&n.emit("slideChange")}else t!==c&&(n.snapIndex=t,n.emit("snapIndexChange"))},updateClickedSlide:function(e){var t,n=this,r=n.params,i=G(e).closest(".".concat(r.slideClass))[0],a=!1;if(i)for(var o=0;o<n.slides.length;o+=1)if(n.slides[o]===i){a=!0,t=o;break}if(!i||!a)return n.clickedSlide=void 0,void(n.clickedIndex=void 0);n.clickedSlide=i,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(G(i).attr("data-swiper-slide-index"),10):n.clickedIndex=t,r.slideToClickedSlide&&void 0!==n.clickedIndex&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}};var ae={getTranslate:function(e){void 0===e&&(e=this.isHorizontal()?"x":"y");var t=this,n=t.params,r=t.rtlTranslate,i=t.translate,a=t.$wrapperEl;if(n.virtualTranslate)return r?-i:i;if(n.cssMode)return i;var o=Q(a[0],e);return r&&(o=-o),o||0},setTranslate:function(e,t){var n=this,r=n.rtlTranslate,i=n.params,a=n.$wrapperEl,o=n.wrapperEl,s=n.progress,u=0,c=0;n.isHorizontal()?u=r?-e:e:c=e,i.roundLengths&&(u=Math.floor(u),c=Math.floor(c)),i.cssMode?o[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-u:-c:i.virtualTranslate||a.transform("translate3d(".concat(u,"px, ").concat(c,"px, ").concat(0,"px)")),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?u:c;var l=n.maxTranslate()-n.minTranslate();(0===l?0:(e-n.minTranslate())/l)!==s&&n.updateProgress(e),n.emit("setTranslate",n.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(e,t,n,r,i){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===n&&(n=!0),void 0===r&&(r=!0);var a=this,o=a.params,s=a.wrapperEl;if(a.animating&&o.preventInteractionOnTransition)return!1;var u,c=a.minTranslate(),l=a.maxTranslate();if(u=r&&e>c?c:r&&e<l?l:e,a.updateProgress(u),o.cssMode){var f=a.isHorizontal();if(0===t)s[f?"scrollLeft":"scrollTop"]=-u;else{var h;if(!a.support.smoothScroll)return $({swiper:a,targetPosition:-u,side:f?"left":"top"}),!0;s.scrollTo((K(h={},f?"left":"top",-u),K(h,"behavior","smooth"),h))}return!0}return 0===t?(a.setTransition(0),a.setTranslate(u),n&&(a.emit("beforeTransitionStart",t,i),a.emit("transitionEnd"))):(a.setTransition(t),a.setTranslate(u),n&&(a.emit("beforeTransitionStart",t,i),a.emit("transitionStart")),a.animating||(a.animating=!0,a.onTranslateToWrapperTransitionEnd||(a.onTranslateToWrapperTransitionEnd=function(e){a&&!a.destroyed&&e.target===this&&(a.$wrapperEl[0].removeEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.$wrapperEl[0].removeEventListener("webkitTransitionEnd",a.onTranslateToWrapperTransitionEnd),a.onTranslateToWrapperTransitionEnd=null,delete a.onTranslateToWrapperTransitionEnd,n&&a.emit("transitionEnd"))}),a.$wrapperEl[0].addEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.$wrapperEl[0].addEventListener("webkitTransitionEnd",a.onTranslateToWrapperTransitionEnd))),!0}};function oe(e){var t=e.swiper,n=e.runCallbacks,r=e.direction,i=e.step,a=t.activeIndex,o=t.previousIndex,s=r;if(s||(s=a>o?"next":a<o?"prev":"reset"),t.emit("transition".concat(i)),n&&a!==o){if("reset"===s)return void t.emit("slideResetTransition".concat(i));t.emit("slideChangeTransition".concat(i)),"next"===s?t.emit("slideNextTransition".concat(i)):t.emit("slidePrevTransition".concat(i))}}var se={slideTo:function(e,t,n,r,i){if(void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===n&&(n=!0),"number"!==typeof e&&"string"!==typeof e)throw new Error("The 'index' argument cannot have type other than 'number' or 'string'. [".concat(typeof e,"] given."));if("string"===typeof e){var a=parseInt(e,10);if(!isFinite(a))throw new Error("The passed-in 'index' (string) couldn't be converted to 'number'. [".concat(e,"] given."));e=a}var o=this,s=e;s<0&&(s=0);var u=o.params,c=o.snapGrid,l=o.slidesGrid,f=o.previousIndex,h=o.activeIndex,d=o.rtlTranslate,p=o.wrapperEl,v=o.enabled;if(o.animating&&u.preventInteractionOnTransition||!v&&!r&&!i)return!1;var m=Math.min(o.params.slidesPerGroupSkip,s),y=m+Math.floor((s-m)/o.params.slidesPerGroup);y>=c.length&&(y=c.length-1),(h||u.initialSlide||0)===(f||0)&&n&&o.emit("beforeSlideChangeStart");var g,k=-c[y];if(o.updateProgress(k),u.normalizeSlideIndex)for(var w=0;w<l.length;w+=1){var b=-Math.floor(100*k),x=Math.floor(100*l[w]),E=Math.floor(100*l[w+1]);"undefined"!==typeof l[w+1]?b>=x&&b<E-(E-x)/2?s=w:b>=x&&b<E&&(s=w+1):b>=x&&(s=w)}if(o.initialized&&s!==h){if(!o.allowSlideNext&&k<o.translate&&k<o.minTranslate())return!1;if(!o.allowSlidePrev&&k>o.translate&&k>o.maxTranslate()&&(h||0)!==s)return!1}if(g=s>h?"next":s<h?"prev":"reset",d&&-k===o.translate||!d&&k===o.translate)return o.updateActiveIndex(s),u.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),"slide"!==u.effect&&o.setTranslate(k),"reset"!==g&&(o.transitionStart(n,g),o.transitionEnd(n,g)),!1;if(u.cssMode){var T=o.isHorizontal(),I=d?k:-k;if(0===t){var S=o.virtual&&o.params.virtual.enabled;S&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),p[T?"scrollLeft":"scrollTop"]=I,S&&requestAnimationFrame((function(){o.wrapperEl.style.scrollSnapType="",o._swiperImmediateVirtual=!1}))}else{var _;if(!o.support.smoothScroll)return $({swiper:o,targetPosition:I,side:T?"left":"top"}),!0;p.scrollTo((K(_={},T?"left":"top",I),K(_,"behavior","smooth"),_))}return!0}return o.setTransition(t),o.setTranslate(k),o.updateActiveIndex(s),o.updateSlidesClasses(),o.emit("beforeTransitionStart",t,r),o.transitionStart(n,g),0===t?o.transitionEnd(n,g):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(e){o&&!o.destroyed&&e.target===this&&(o.$wrapperEl[0].removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.$wrapperEl[0].removeEventListener("webkitTransitionEnd",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(n,g))}),o.$wrapperEl[0].addEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.$wrapperEl[0].addEventListener("webkitTransitionEnd",o.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function(e,t,n,r){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===n&&(n=!0);var i=this,a=e;return i.params.loop&&(a+=i.loopedSlides),i.slideTo(a,t,n,r)},slideNext:function(e,t,n){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var r=this,i=r.animating,a=r.enabled,o=r.params;if(!a)return r;var s=o.slidesPerGroup;"auto"===o.slidesPerView&&1===o.slidesPerGroup&&o.slidesPerGroupAuto&&(s=Math.max(r.slidesPerViewDynamic("current",!0),1));var u=r.activeIndex<o.slidesPerGroupSkip?1:s;if(o.loop){if(i&&o.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}return o.rewind&&r.isEnd?r.slideTo(0,e,t,n):r.slideTo(r.activeIndex+u,e,t,n)},slidePrev:function(e,t,n){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var r=this,i=r.params,a=r.animating,o=r.snapGrid,s=r.slidesGrid,u=r.rtlTranslate;if(!r.enabled)return r;if(i.loop){if(a&&i.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}function c(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}var l,f=c(u?r.translate:-r.translate),h=o.map((function(e){return c(e)})),d=o[h.indexOf(f)-1];"undefined"===typeof d&&i.cssMode&&(o.forEach((function(e,t){f>=e&&(l=t)})),"undefined"!==typeof l&&(d=o[l>0?l-1:l]));var p=0;if("undefined"!==typeof d&&((p=s.indexOf(d))<0&&(p=r.activeIndex-1),"auto"===i.slidesPerView&&1===i.slidesPerGroup&&i.slidesPerGroupAuto&&(p=p-r.slidesPerViewDynamic("previous",!0)+1,p=Math.max(p,0))),i.rewind&&r.isBeginning){var v=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(v,e,t,n)}return r.slideTo(p,e,t,n)},slideReset:function(e,t,n){return void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),this.slideTo(this.activeIndex,e,t,n)},slideToClosest:function(e,t,n,r){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),void 0===r&&(r=.5);var i=this,a=i.activeIndex,o=Math.min(i.params.slidesPerGroupSkip,a),s=o+Math.floor((a-o)/i.params.slidesPerGroup),u=i.rtlTranslate?i.translate:-i.translate;if(u>=i.snapGrid[s]){var c=i.snapGrid[s];u-c>(i.snapGrid[s+1]-c)*r&&(a+=i.params.slidesPerGroup)}else{var l=i.snapGrid[s-1];u-l<=(i.snapGrid[s]-l)*r&&(a-=i.params.slidesPerGroup)}return a=Math.max(a,0),a=Math.min(a,i.slidesGrid.length-1),i.slideTo(a,e,t,n)},slideToClickedSlide:function(){var e,t=this,n=t.params,r=t.$wrapperEl,i="auto"===n.slidesPerView?t.slidesPerViewDynamic():n.slidesPerView,a=t.clickedIndex;if(n.loop){if(t.animating)return;e=parseInt(G(t.clickedSlide).attr("data-swiper-slide-index"),10),n.centeredSlides?a<t.loopedSlides-i/2||a>t.slides.length-t.loopedSlides+i/2?(t.loopFix(),a=r.children(".".concat(n.slideClass,'[data-swiper-slide-index="').concat(e,'"]:not(.').concat(n.slideDuplicateClass,")")).eq(0).index(),W((function(){t.slideTo(a)}))):t.slideTo(a):a>t.slides.length-i?(t.loopFix(),a=r.children(".".concat(n.slideClass,'[data-swiper-slide-index="').concat(e,'"]:not(.').concat(n.slideDuplicateClass,")")).eq(0).index(),W((function(){t.slideTo(a)}))):t.slideTo(a)}else t.slideTo(a)}};var ue={loopCreate:function(){var e=this,t=b(),n=e.params,r=e.$wrapperEl,i=r.children().length>0?G(r.children()[0].parentNode):r;i.children(".".concat(n.slideClass,".").concat(n.slideDuplicateClass)).remove();var a=i.children(".".concat(n.slideClass));if(n.loopFillGroupWithBlank){var o=n.slidesPerGroup-a.length%n.slidesPerGroup;if(o!==n.slidesPerGroup){for(var s=0;s<o;s+=1){var u=G(t.createElement("div")).addClass("".concat(n.slideClass," ").concat(n.slideBlankClass));i.append(u)}a=i.children(".".concat(n.slideClass))}}"auto"!==n.slidesPerView||n.loopedSlides||(n.loopedSlides=a.length),e.loopedSlides=Math.ceil(parseFloat(n.loopedSlides||n.slidesPerView,10)),e.loopedSlides+=n.loopAdditionalSlides,e.loopedSlides>a.length&&(e.loopedSlides=a.length);var c=[],l=[];a.each((function(t,n){var r=G(t);n<e.loopedSlides&&l.push(t),n<a.length&&n>=a.length-e.loopedSlides&&c.push(t),r.attr("data-swiper-slide-index",n)}));for(var f=0;f<l.length;f+=1)i.append(G(l[f].cloneNode(!0)).addClass(n.slideDuplicateClass));for(var h=c.length-1;h>=0;h-=1)i.prepend(G(c[h].cloneNode(!0)).addClass(n.slideDuplicateClass))},loopFix:function(){var e=this;e.emit("beforeLoopFix");var t,n=e.activeIndex,r=e.slides,i=e.loopedSlides,a=e.allowSlidePrev,o=e.allowSlideNext,s=e.snapGrid,u=e.rtlTranslate;e.allowSlidePrev=!0,e.allowSlideNext=!0;var c=-s[n]-e.getTranslate();if(n<i)t=r.length-3*i+n,t+=i,e.slideTo(t,0,!1,!0)&&0!==c&&e.setTranslate((u?-e.translate:e.translate)-c);else if(n>=r.length-i){t=-r.length+n+i,t+=i,e.slideTo(t,0,!1,!0)&&0!==c&&e.setTranslate((u?-e.translate:e.translate)-c)}e.allowSlidePrev=a,e.allowSlideNext=o,e.emit("loopFix")},loopDestroy:function(){var e=this,t=e.$wrapperEl,n=e.params,r=e.slides;t.children(".".concat(n.slideClass,".").concat(n.slideDuplicateClass,",.").concat(n.slideClass,".").concat(n.slideBlankClass)).remove(),r.removeAttr("data-swiper-slide-index")}};var ce={setGrabCursor:function(e){var t=this;if(!(t.support.touch||!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)){var n="container"===t.params.touchEventsTarget?t.el:t.wrapperEl;n.style.cursor="move",n.style.cursor=e?"-webkit-grabbing":"-webkit-grab",n.style.cursor=e?"-moz-grabbin":"-moz-grab",n.style.cursor=e?"grabbing":"grab"}},unsetGrabCursor:function(){var e=this;e.support.touch||e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e["container"===e.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="")}};function le(e){var t=this,n=b(),r=E(),i=t.touchEventsData,a=t.params,o=t.touches;if(t.enabled&&(!t.animating||!a.preventInteractionOnTransition)){!t.animating&&a.cssMode&&a.loop&&t.loopFix();var s=e;s.originalEvent&&(s=s.originalEvent);var u=G(s.target);if(("wrapper"!==a.touchEventsTarget||u.closest(t.wrapperEl).length)&&(i.isTouchEvent="touchstart"===s.type,(i.isTouchEvent||!("which"in s)||3!==s.which)&&!(!i.isTouchEvent&&"button"in s&&s.button>0)&&(!i.isTouched||!i.isMoved))){!!a.noSwipingClass&&""!==a.noSwipingClass&&s.target&&s.target.shadowRoot&&e.path&&e.path[0]&&(u=G(e.path[0]));var c=a.noSwipingSelector?a.noSwipingSelector:".".concat(a.noSwipingClass),l=!(!s.target||!s.target.shadowRoot);if(a.noSwiping&&(l?function(e,t){return void 0===t&&(t=this),function t(n){return n&&n!==b()&&n!==E()?(n.assignedSlot&&(n=n.assignedSlot),n.closest(e)||t(n.getRootNode().host)):null}(t)}(c,s.target):u.closest(c)[0]))t.allowClick=!0;else if(!a.swipeHandler||u.closest(a.swipeHandler)[0]){o.currentX="touchstart"===s.type?s.targetTouches[0].pageX:s.pageX,o.currentY="touchstart"===s.type?s.targetTouches[0].pageY:s.pageY;var f=o.currentX,h=o.currentY,d=a.edgeSwipeDetection||a.iOSEdgeSwipeDetection,p=a.edgeSwipeThreshold||a.iOSEdgeSwipeThreshold;if(d&&(f<=p||f>=r.innerWidth-p)){if("prevent"!==d)return;e.preventDefault()}if(Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=f,o.startY=h,i.touchStartTime=H(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,a.threshold>0&&(i.allowThresholdMove=!1),"touchstart"!==s.type){var v=!0;u.is(i.focusableElements)&&(v=!1,"SELECT"===u[0].nodeName&&(i.isTouched=!1)),n.activeElement&&G(n.activeElement).is(i.focusableElements)&&n.activeElement!==u[0]&&n.activeElement.blur();var m=v&&t.allowTouchMove&&a.touchStartPreventDefault;!a.touchStartForcePreventDefault&&!m||u[0].isContentEditable||s.preventDefault()}t.params.freeMode&&t.params.freeMode.enabled&&t.freeMode&&t.animating&&!a.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",s)}}}}function fe(e){var t=b(),n=this,r=n.touchEventsData,i=n.params,a=n.touches,o=n.rtlTranslate;if(n.enabled){var s=e;if(s.originalEvent&&(s=s.originalEvent),r.isTouched){if(!r.isTouchEvent||"touchmove"===s.type){var u="touchmove"===s.type&&s.targetTouches&&(s.targetTouches[0]||s.changedTouches[0]),c="touchmove"===s.type?u.pageX:s.pageX,l="touchmove"===s.type?u.pageY:s.pageY;if(s.preventedByNestedSwiper)return a.startX=c,void(a.startY=l);if(!n.allowTouchMove)return G(s.target).is(r.focusableElements)||(n.allowClick=!1),void(r.isTouched&&(Object.assign(a,{startX:c,startY:l,currentX:c,currentY:l}),r.touchStartTime=H()));if(r.isTouchEvent&&i.touchReleaseOnEdges&&!i.loop)if(n.isVertical()){if(l<a.startY&&n.translate<=n.maxTranslate()||l>a.startY&&n.translate>=n.minTranslate())return r.isTouched=!1,void(r.isMoved=!1)}else if(c<a.startX&&n.translate<=n.maxTranslate()||c>a.startX&&n.translate>=n.minTranslate())return;if(r.isTouchEvent&&t.activeElement&&s.target===t.activeElement&&G(s.target).is(r.focusableElements))return r.isMoved=!0,void(n.allowClick=!1);if(r.allowTouchCallbacks&&n.emit("touchMove",s),!(s.targetTouches&&s.targetTouches.length>1)){a.currentX=c,a.currentY=l;var f=a.currentX-a.startX,h=a.currentY-a.startY;if(!(n.params.threshold&&Math.sqrt(Math.pow(f,2)+Math.pow(h,2))<n.params.threshold)){var d;if("undefined"===typeof r.isScrolling)n.isHorizontal()&&a.currentY===a.startY||n.isVertical()&&a.currentX===a.startX?r.isScrolling=!1:f*f+h*h>=25&&(d=180*Math.atan2(Math.abs(h),Math.abs(f))/Math.PI,r.isScrolling=n.isHorizontal()?d>i.touchAngle:90-d>i.touchAngle);if(r.isScrolling&&n.emit("touchMoveOpposite",s),"undefined"===typeof r.startMoving&&(a.currentX===a.startX&&a.currentY===a.startY||(r.startMoving=!0)),r.isScrolling)r.isTouched=!1;else if(r.startMoving){n.allowClick=!1,!i.cssMode&&s.cancelable&&s.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&s.stopPropagation(),r.isMoved||(i.loop&&!i.cssMode&&n.loopFix(),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating&&n.$wrapperEl.trigger("webkitTransitionEnd transitionend"),r.allowMomentumBounce=!1,!i.grabCursor||!0!==n.allowSlideNext&&!0!==n.allowSlidePrev||n.setGrabCursor(!0),n.emit("sliderFirstMove",s)),n.emit("sliderMove",s),r.isMoved=!0;var p=n.isHorizontal()?f:h;a.diff=p,p*=i.touchRatio,o&&(p=-p),n.swipeDirection=p>0?"prev":"next",r.currentTranslate=p+r.startTranslate;var v=!0,m=i.resistanceRatio;if(i.touchReleaseOnEdges&&(m=0),p>0&&r.currentTranslate>n.minTranslate()?(v=!1,i.resistance&&(r.currentTranslate=n.minTranslate()-1+Math.pow(-n.minTranslate()+r.startTranslate+p,m))):p<0&&r.currentTranslate<n.maxTranslate()&&(v=!1,i.resistance&&(r.currentTranslate=n.maxTranslate()+1-Math.pow(n.maxTranslate()-r.startTranslate-p,m))),v&&(s.preventedByNestedSwiper=!0),!n.allowSlideNext&&"next"===n.swipeDirection&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&"prev"===n.swipeDirection&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),n.allowSlidePrev||n.allowSlideNext||(r.currentTranslate=r.startTranslate),i.threshold>0){if(!(Math.abs(p)>i.threshold||r.allowThresholdMove))return void(r.currentTranslate=r.startTranslate);if(!r.allowThresholdMove)return r.allowThresholdMove=!0,a.startX=a.currentX,a.startY=a.currentY,r.currentTranslate=r.startTranslate,void(a.diff=n.isHorizontal()?a.currentX-a.startX:a.currentY-a.startY)}i.followFinger&&!i.cssMode&&((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),n.params.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}}}}}else r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",s)}}function he(e){var t=this,n=t.touchEventsData,r=t.params,i=t.touches,a=t.rtlTranslate,o=t.slidesGrid;if(t.enabled){var s=e;if(s.originalEvent&&(s=s.originalEvent),n.allowTouchCallbacks&&t.emit("touchEnd",s),n.allowTouchCallbacks=!1,!n.isTouched)return n.isMoved&&r.grabCursor&&t.setGrabCursor(!1),n.isMoved=!1,void(n.startMoving=!1);r.grabCursor&&n.isMoved&&n.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);var u,c=H(),l=c-n.touchStartTime;if(t.allowClick){var f=s.path||s.composedPath&&s.composedPath();t.updateClickedSlide(f&&f[0]||s.target),t.emit("tap click",s),l<300&&c-n.lastClickTime<300&&t.emit("doubleTap doubleClick",s)}if(n.lastClickTime=H(),W((function(){t.destroyed||(t.allowClick=!0)})),!n.isTouched||!n.isMoved||!t.swipeDirection||0===i.diff||n.currentTranslate===n.startTranslate)return n.isTouched=!1,n.isMoved=!1,void(n.startMoving=!1);if(n.isTouched=!1,n.isMoved=!1,n.startMoving=!1,u=r.followFinger?a?t.translate:-t.translate:-n.currentTranslate,!r.cssMode)if(t.params.freeMode&&r.freeMode.enabled)t.freeMode.onTouchEnd({currentPos:u});else{for(var h=0,d=t.slidesSizesGrid[0],p=0;p<o.length;p+=p<r.slidesPerGroupSkip?1:r.slidesPerGroup){var v=p<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;"undefined"!==typeof o[p+v]?u>=o[p]&&u<o[p+v]&&(h=p,d=o[p+v]-o[p]):u>=o[p]&&(h=p,d=o[o.length-1]-o[o.length-2])}var m=null,y=null;r.rewind&&(t.isBeginning?y=t.params.virtual&&t.params.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(m=0));var g=(u-o[h])/d,k=h<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(l>r.longSwipesMs){if(!r.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(g>=r.longSwipesRatio?t.slideTo(r.rewind&&t.isEnd?m:h+k):t.slideTo(h)),"prev"===t.swipeDirection&&(g>1-r.longSwipesRatio?t.slideTo(h+k):null!==y&&g<0&&Math.abs(g)>r.longSwipesRatio?t.slideTo(y):t.slideTo(h))}else{if(!r.shortSwipes)return void t.slideTo(t.activeIndex);t.navigation&&(s.target===t.navigation.nextEl||s.target===t.navigation.prevEl)?s.target===t.navigation.nextEl?t.slideTo(h+k):t.slideTo(h):("next"===t.swipeDirection&&t.slideTo(null!==m?m:h+k),"prev"===t.swipeDirection&&t.slideTo(null!==y?y:h))}}}}function de(){var e=this,t=e.params,n=e.el;if(!n||0!==n.offsetWidth){t.breakpoints&&e.setBreakpoint();var r=e.allowSlideNext,i=e.allowSlidePrev,a=e.snapGrid;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses(),("auto"===t.slidesPerView||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.run(),e.allowSlidePrev=i,e.allowSlideNext=r,e.params.watchOverflow&&a!==e.snapGrid&&e.checkOverflow()}}function pe(e){var t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function ve(){var e=this,t=e.wrapperEl,n=e.rtlTranslate;if(e.enabled){e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,-0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();var r=e.maxTranslate()-e.minTranslate();(0===r?0:(e.translate-e.minTranslate())/r)!==e.progress&&e.updateProgress(n?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}}var me=!1;function ye(){}var ge=function(e,t){var n=b(),r=e.params,i=e.touchEvents,a=e.el,o=e.wrapperEl,s=e.device,u=e.support,c=!!r.nested,l="on"===t?"addEventListener":"removeEventListener",f=t;if(u.touch){var h=!("touchstart"!==i.start||!u.passiveListener||!r.passiveListeners)&&{passive:!0,capture:!1};a[l](i.start,e.onTouchStart,h),a[l](i.move,e.onTouchMove,u.passiveListener?{passive:!1,capture:c}:c),a[l](i.end,e.onTouchEnd,h),i.cancel&&a[l](i.cancel,e.onTouchEnd,h)}else a[l](i.start,e.onTouchStart,!1),n[l](i.move,e.onTouchMove,c),n[l](i.end,e.onTouchEnd,!1);(r.preventClicks||r.preventClicksPropagation)&&a[l]("click",e.onClick,!0),r.cssMode&&o[l]("scroll",e.onScroll),r.updateOnWindowResize?e[f](s.ios||s.android?"resize orientationchange observerUpdate":"resize observerUpdate",de,!0):e[f]("observerUpdate",de,!0)};var ke={attachEvents:function(){var e=this,t=b(),n=e.params,r=e.support;e.onTouchStart=le.bind(e),e.onTouchMove=fe.bind(e),e.onTouchEnd=he.bind(e),n.cssMode&&(e.onScroll=ve.bind(e)),e.onClick=pe.bind(e),r.touch&&!me&&(t.addEventListener("touchstart",ye),me=!0),ge(e,"on")},detachEvents:function(){ge(this,"off")}},we=function(e,t){return e.grid&&t.grid&&t.grid.rows>1};var be={setBreakpoint:function(){var e=this,t=e.activeIndex,n=e.initialized,r=e.loopedSlides,i=void 0===r?0:r,a=e.params,o=e.$el,s=a.breakpoints;if(s&&(!s||0!==Object.keys(s).length)){var u=e.getBreakpoint(s,e.params.breakpointsBase,e.el);if(u&&e.currentBreakpoint!==u){var c=(u in s?s[u]:void 0)||e.originalParams,l=we(e,a),f=we(e,c),h=a.enabled;l&&!f?(o.removeClass("".concat(a.containerModifierClass,"grid ").concat(a.containerModifierClass,"grid-column")),e.emitContainerClasses()):!l&&f&&(o.addClass("".concat(a.containerModifierClass,"grid")),(c.grid.fill&&"column"===c.grid.fill||!c.grid.fill&&"column"===a.grid.fill)&&o.addClass("".concat(a.containerModifierClass,"grid-column")),e.emitContainerClasses());var d=c.direction&&c.direction!==a.direction,p=a.loop&&(c.slidesPerView!==a.slidesPerView||d);d&&n&&e.changeDirection(),J(e.params,c);var v=e.params.enabled;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),h&&!v?e.disable():!h&&v&&e.enable(),e.currentBreakpoint=u,e.emit("_beforeBreakpoint",c),p&&n&&(e.loopDestroy(),e.loopCreate(),e.updateSlides(),e.slideTo(t-i+e.loopedSlides,0,!1)),e.emit("breakpoint",c)}}},getBreakpoint:function(e,t,n){if(void 0===t&&(t="window"),e&&("container"!==t||n)){var r=!1,i=E(),a="window"===t?i.innerHeight:n.clientHeight,o=Object.keys(e).map((function(e){if("string"===typeof e&&0===e.indexOf("@")){var t=parseFloat(e.substr(1));return{value:a*t,point:e}}return{value:e,point:e}}));o.sort((function(e,t){return parseInt(e.value,10)-parseInt(t.value,10)}));for(var s=0;s<o.length;s+=1){var u=o[s],c=u.point,l=u.value;"window"===t?i.matchMedia("(min-width: ".concat(l,"px)")).matches&&(r=c):l<=n.clientWidth&&(r=c)}return r||"max"}}};var xe={addClasses:function(){var e=this,t=e.classNames,n=e.params,r=e.rtl,i=e.$el,a=e.device,o=e.support,s=function(e,t){var n=[];return e.forEach((function(e){"object"===typeof e?Object.keys(e).forEach((function(r){e[r]&&n.push(t+r)})):"string"===typeof e&&n.push(t+e)})),n}(["initialized",n.direction,{"pointer-events":!o.touch},{"free-mode":e.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&"column"===n.grid.fill},{android:a.android},{ios:a.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides}],n.containerModifierClass);t.push.apply(t,p(s)),i.addClass(p(t).join(" ")),e.emitContainerClasses()},removeClasses:function(){var e=this,t=e.$el,n=e.classNames;t.removeClass(n.join(" ")),e.emitContainerClasses()}};var Ee={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function Te(e,t){return function(n){void 0===n&&(n={});var r=Object.keys(n)[0],i=n[r];"object"===typeof i&&null!==i?(["navigation","pagination","scrollbar"].indexOf(r)>=0&&!0===e[r]&&(e[r]={auto:!0}),r in e&&"enabled"in i?(!0===e[r]&&(e[r]={enabled:!0}),"object"!==typeof e[r]||"enabled"in e[r]||(e[r].enabled=!0),e[r]||(e[r]={enabled:!1}),J(t,n)):J(t,n)):J(t,n)}}var Ie={eventsEmitter:re,update:ie,translate:ae,transition:{setTransition:function(e,t){var n=this;n.params.cssMode||n.$wrapperEl.transition(e),n.emit("setTransition",e,t)},transitionStart:function(e,t){void 0===e&&(e=!0);var n=this,r=n.params;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),oe({swiper:n,runCallbacks:e,direction:t,step:"Start"}))},transitionEnd:function(e,t){void 0===e&&(e=!0);var n=this,r=n.params;n.animating=!1,r.cssMode||(n.setTransition(0),oe({swiper:n,runCallbacks:e,direction:t,step:"End"}))}},slide:se,loop:ue,grabCursor:ce,events:ke,breakpoints:be,checkOverflow:{checkOverflow:function(){var e=this,t=e.isLocked,n=e.params,r=n.slidesOffsetBefore;if(r){var i=e.slides.length-1,a=e.slidesGrid[i]+e.slidesSizesGrid[i]+2*r;e.isLocked=e.size>a}else e.isLocked=1===e.snapGrid.length;!0===n.allowSlideNext&&(e.allowSlideNext=!e.isLocked),!0===n.allowSlidePrev&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}},classes:xe,images:{loadImage:function(e,t,n,r,i,a){var o,s=E();function u(){a&&a()}G(e).parent("picture")[0]||e.complete&&i?u():t?((o=new s.Image).onload=u,o.onerror=u,r&&(o.sizes=r),n&&(o.srcset=n),t&&(o.src=t)):u()},preloadImages:function(){var e=this;function t(){"undefined"!==typeof e&&null!==e&&e&&!e.destroyed&&(void 0!==e.imagesLoaded&&(e.imagesLoaded+=1),e.imagesLoaded===e.imagesToLoad.length&&(e.params.updateOnImagesReady&&e.update(),e.emit("imagesReady")))}e.imagesToLoad=e.$el.find("img");for(var n=0;n<e.imagesToLoad.length;n+=1){var r=e.imagesToLoad[n];e.loadImage(r,r.currentSrc||r.getAttribute("src"),r.srcset||r.getAttribute("srcset"),r.sizes||r.getAttribute("sizes"),!0,t)}}}},Se={},_e=function(){function e(){var t,n;v(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];if(1===i.length&&i[0].constructor&&"Object"===Object.prototype.toString.call(i[0]).slice(8,-1)?n=i[0]:(t=i[0],n=i[1]),n||(n={}),n=J({},n),t&&!n.el&&(n.el=t),n.el&&G(n.el).length>1){var o=[];return G(n.el).each((function(t){var r=J({},n,{el:t});o.push(new e(r))})),o}var s,u=this;(u.__swiper__=!0,u.support=ee(),u.device=te({userAgent:n.userAgent}),u.browser=ne(),u.eventsListeners={},u.eventsAnyListeners=[],u.modules=p(u.__modules__),n.modules&&Array.isArray(n.modules))&&(s=u.modules).push.apply(s,p(n.modules));var c={};u.modules.forEach((function(e){e({swiper:u,extendParams:Te(n,c),on:u.on.bind(u),once:u.once.bind(u),off:u.off.bind(u),emit:u.emit.bind(u)})}));var l=J({},Ee,c);return u.params=J({},l,Se,n),u.originalParams=J({},u.params),u.passedParams=J({},n),u.params&&u.params.on&&Object.keys(u.params.on).forEach((function(e){u.on(e,u.params.on[e])})),u.params&&u.params.onAny&&u.onAny(u.params.onAny),u.$=G,Object.assign(u,{enabled:u.params.enabled,el:t,classNames:[],slides:G(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:function(){return"horizontal"===u.params.direction},isVertical:function(){return"vertical"===u.params.direction},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:u.params.allowSlideNext,allowSlidePrev:u.params.allowSlidePrev,touchEvents:function(){var e=["touchstart","touchmove","touchend","touchcancel"],t=["pointerdown","pointermove","pointerup"];return u.touchEventsTouch={start:e[0],move:e[1],end:e[2],cancel:e[3]},u.touchEventsDesktop={start:t[0],move:t[1],end:t[2]},u.support.touch||!u.params.simulateTouch?u.touchEventsTouch:u.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:u.params.focusableElements,lastClickTime:H(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:u.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),u.emit("_swiper"),u.params.init&&u.init(),u}return y(e,[{key:"enable",value:function(){var e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}},{key:"disable",value:function(){var e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}},{key:"setProgress",value:function(e,t){var n=this;e=Math.min(Math.max(e,0),1);var r=n.minTranslate(),i=(n.maxTranslate()-r)*e+r;n.translateTo(i,"undefined"===typeof t?0:t),n.updateActiveIndex(),n.updateSlidesClasses()}},{key:"emitContainerClasses",value:function(){var e=this;if(e.params._emitClasses&&e.el){var t=e.el.className.split(" ").filter((function(t){return 0===t.indexOf("swiper")||0===t.indexOf(e.params.containerModifierClass)}));e.emit("_containerClasses",t.join(" "))}}},{key:"getSlideClasses",value:function(e){var t=this;return e.className.split(" ").filter((function(e){return 0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass)})).join(" ")}},{key:"emitSlidesClasses",value:function(){var e=this;if(e.params._emitClasses&&e.el){var t=[];e.slides.each((function(n){var r=e.getSlideClasses(n);t.push({slideEl:n,classNames:r}),e.emit("_slideClass",n,r)})),e.emit("_slideClasses",t)}}},{key:"slidesPerViewDynamic",value:function(e,t){void 0===e&&(e="current"),void 0===t&&(t=!1);var n=this,r=n.params,i=n.slides,a=n.slidesGrid,o=n.slidesSizesGrid,s=n.size,u=n.activeIndex,c=1;if(r.centeredSlides){for(var l,f=i[u].swiperSlideSize,h=u+1;h<i.length;h+=1)i[h]&&!l&&(c+=1,(f+=i[h].swiperSlideSize)>s&&(l=!0));for(var d=u-1;d>=0;d-=1)i[d]&&!l&&(c+=1,(f+=i[d].swiperSlideSize)>s&&(l=!0))}else if("current"===e)for(var p=u+1;p<i.length;p+=1){(t?a[p]+o[p]-a[u]<s:a[p]-a[u]<s)&&(c+=1)}else for(var v=u-1;v>=0;v-=1){a[u]-a[v]<s&&(c+=1)}return c}},{key:"update",value:function(){var e=this;if(e&&!e.destroyed){var t=e.snapGrid,n=e.params;n.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.params.freeMode&&e.params.freeMode.enabled?(r(),e.params.autoHeight&&e.updateAutoHeight()):(("auto"===e.params.slidesPerView||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0))||r(),n.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}function r(){var t=e.rtlTranslate?-1*e.translate:e.translate,n=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(n),e.updateActiveIndex(),e.updateSlidesClasses()}}},{key:"changeDirection",value:function(e,t){void 0===t&&(t=!0);var n=this,r=n.params.direction;return e||(e="horizontal"===r?"vertical":"horizontal"),e===r||"horizontal"!==e&&"vertical"!==e||(n.$el.removeClass("".concat(n.params.containerModifierClass).concat(r)).addClass("".concat(n.params.containerModifierClass).concat(e)),n.emitContainerClasses(),n.params.direction=e,n.slides.each((function(t){"vertical"===e?t.style.width="":t.style.height=""})),n.emit("changeDirection"),t&&n.update()),n}},{key:"mount",value:function(e){var t=this;if(t.mounted)return!0;var n=G(e||t.params.el);if(!(e=n[0]))return!1;e.swiper=t;var r=function(){return".".concat((t.params.wrapperClass||"").trim().split(" ").join("."))},i=function(){if(e&&e.shadowRoot&&e.shadowRoot.querySelector){var t=G(e.shadowRoot.querySelector(r()));return t.children=function(e){return n.children(e)},t}return n.children(r())}();if(0===i.length&&t.params.createElements){var a=b().createElement("div");i=G(a),a.className=t.params.wrapperClass,n.append(a),n.children(".".concat(t.params.slideClass)).each((function(e){i.append(e)}))}return Object.assign(t,{$el:n,el:e,$wrapperEl:i,wrapperEl:i[0],mounted:!0,rtl:"rtl"===e.dir.toLowerCase()||"rtl"===n.css("direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===e.dir.toLowerCase()||"rtl"===n.css("direction")),wrongRTL:"-webkit-box"===i.css("display")}),!0}},{key:"init",value:function(e){var t=this;return t.initialized||!1===t.mount(e)||(t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.params.loop&&t.loopCreate(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.preloadImages&&t.preloadImages(),t.params.loop?t.slideTo(t.params.initialSlide+t.loopedSlides,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.attachEvents(),t.initialized=!0,t.emit("init"),t.emit("afterInit")),t}},{key:"destroy",value:function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);var n=this,r=n.params,i=n.$el,a=n.$wrapperEl,o=n.slides;return"undefined"===typeof n.params||n.destroyed||(n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),r.loop&&n.loopDestroy(),t&&(n.removeClasses(),i.removeAttr("style"),a.removeAttr("style"),o&&o.length&&o.removeClass([r.slideVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),n.emit("destroy"),Object.keys(n.eventsListeners).forEach((function(e){n.off(e)})),!1!==e&&(n.$el[0].swiper=null,function(e){var t=e;Object.keys(t).forEach((function(e){try{t[e]=null}catch(n){}try{delete t[e]}catch(n){}}))}(n)),n.destroyed=!0),null}}],[{key:"extendDefaults",value:function(e){J(Se,e)}},{key:"extendedDefaults",get:function(){return Se}},{key:"defaults",get:function(){return Ee}},{key:"installModule",value:function(t){e.prototype.__modules__||(e.prototype.__modules__=[]);var n=e.prototype.__modules__;"function"===typeof t&&n.indexOf(t)<0&&n.push(t)}},{key:"use",value:function(t){return Array.isArray(t)?(t.forEach((function(t){return e.installModule(t)})),e):(e.installModule(t),e)}}]),e}();Object.keys(Ie).forEach((function(e){Object.keys(Ie[e]).forEach((function(t){_e.prototype[t]=Ie[e][t]}))})),_e.use([function(e){var t=e.swiper,n=e.on,r=e.emit,i=E(),a=null,o=null,s=function(){t&&!t.destroyed&&t.initialized&&(r("beforeResize"),r("resize"))},u=function(){t&&!t.destroyed&&t.initialized&&r("orientationchange")};n("init",(function(){t.params.resizeObserver&&"undefined"!==typeof i.ResizeObserver?t&&!t.destroyed&&t.initialized&&(a=new ResizeObserver((function(e){o=i.requestAnimationFrame((function(){var n=t.width,r=t.height,i=n,a=r;e.forEach((function(e){var n=e.contentBoxSize,r=e.contentRect,o=e.target;o&&o!==t.el||(i=r?r.width:(n[0]||n).inlineSize,a=r?r.height:(n[0]||n).blockSize)})),i===n&&a===r||s()}))})),a.observe(t.el)):(i.addEventListener("resize",s),i.addEventListener("orientationchange",u))})),n("destroy",(function(){o&&i.cancelAnimationFrame(o),a&&a.unobserve&&t.el&&(a.unobserve(t.el),a=null),i.removeEventListener("resize",s),i.removeEventListener("orientationchange",u)}))},function(e){var t=e.swiper,n=e.extendParams,r=e.on,i=e.emit,a=[],o=E(),s=function(e,t){void 0===t&&(t={});var n=new(o.MutationObserver||o.WebkitMutationObserver)((function(e){if(1!==e.length){var t=function(){i("observerUpdate",e[0])};o.requestAnimationFrame?o.requestAnimationFrame(t):o.setTimeout(t,0)}else i("observerUpdate",e[0])}));n.observe(e,{attributes:"undefined"===typeof t.attributes||t.attributes,childList:"undefined"===typeof t.childList||t.childList,characterData:"undefined"===typeof t.characterData||t.characterData}),a.push(n)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",(function(){if(t.params.observer){if(t.params.observeParents)for(var e=t.$el.parents(),n=0;n<e.length;n+=1)s(e[n]);s(t.$el[0],{childList:t.params.observeSlideChildren}),s(t.$wrapperEl[0],{attributes:!1})}})),r("destroy",(function(){a.forEach((function(e){e.disconnect()})),a.splice(0,a.length)}))}]);var Ce=_e;function Ae(e){return void 0===e&&(e=""),".".concat(e.trim().replace(/([\.:!\/])/g,"\\$1").replace(/ /g,"."))}function Ne(e){var t,n=e.swiper,r=e.extendParams,i=e.on,a=e.emit,o="swiper-pagination";r({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:function(e){return e},formatFractionTotal:function(e){return e},bulletClass:"".concat(o,"-bullet"),bulletActiveClass:"".concat(o,"-bullet-active"),modifierClass:"".concat(o,"-"),currentClass:"".concat(o,"-current"),totalClass:"".concat(o,"-total"),hiddenClass:"".concat(o,"-hidden"),progressbarFillClass:"".concat(o,"-progressbar-fill"),progressbarOppositeClass:"".concat(o,"-progressbar-opposite"),clickableClass:"".concat(o,"-clickable"),lockClass:"".concat(o,"-lock"),horizontalClass:"".concat(o,"-horizontal"),verticalClass:"".concat(o,"-vertical")}}),n.pagination={el:null,$el:null,bullets:[]};var s=0;function u(){return!n.params.pagination.el||!n.pagination.el||!n.pagination.$el||0===n.pagination.$el.length}function c(e,t){var r=n.params.pagination.bulletActiveClass;e[t]().addClass("".concat(r,"-").concat(t))[t]().addClass("".concat(r,"-").concat(t,"-").concat(t))}function l(){var e=n.rtl,r=n.params.pagination;if(!u()){var i,o=n.virtual&&n.params.virtual.enabled?n.virtual.slides.length:n.slides.length,l=n.pagination.$el,f=n.params.loop?Math.ceil((o-2*n.loopedSlides)/n.params.slidesPerGroup):n.snapGrid.length;if(n.params.loop?((i=Math.ceil((n.activeIndex-n.loopedSlides)/n.params.slidesPerGroup))>o-1-2*n.loopedSlides&&(i-=o-2*n.loopedSlides),i>f-1&&(i-=f),i<0&&"bullets"!==n.params.paginationType&&(i=f+i)):i="undefined"!==typeof n.snapIndex?n.snapIndex:n.activeIndex||0,"bullets"===r.type&&n.pagination.bullets&&n.pagination.bullets.length>0){var h,d,p,v=n.pagination.bullets;if(r.dynamicBullets&&(t=v.eq(0)[n.isHorizontal()?"outerWidth":"outerHeight"](!0),l.css(n.isHorizontal()?"width":"height","".concat(t*(r.dynamicMainBullets+4),"px")),r.dynamicMainBullets>1&&void 0!==n.previousIndex&&((s+=i-(n.previousIndex-n.loopedSlides||0))>r.dynamicMainBullets-1?s=r.dynamicMainBullets-1:s<0&&(s=0)),h=Math.max(i-s,0),p=((d=h+(Math.min(v.length,r.dynamicMainBullets)-1))+h)/2),v.removeClass(["","-next","-next-next","-prev","-prev-prev","-main"].map((function(e){return"".concat(r.bulletActiveClass).concat(e)})).join(" ")),l.length>1)v.each((function(e){var t=G(e),n=t.index();n===i&&t.addClass(r.bulletActiveClass),r.dynamicBullets&&(n>=h&&n<=d&&t.addClass("".concat(r.bulletActiveClass,"-main")),n===h&&c(t,"prev"),n===d&&c(t,"next"))}));else{var m=v.eq(i),y=m.index();if(m.addClass(r.bulletActiveClass),r.dynamicBullets){for(var g=v.eq(h),k=v.eq(d),w=h;w<=d;w+=1)v.eq(w).addClass("".concat(r.bulletActiveClass,"-main"));if(n.params.loop)if(y>=v.length){for(var b=r.dynamicMainBullets;b>=0;b-=1)v.eq(v.length-b).addClass("".concat(r.bulletActiveClass,"-main"));v.eq(v.length-r.dynamicMainBullets-1).addClass("".concat(r.bulletActiveClass,"-prev"))}else c(g,"prev"),c(k,"next");else c(g,"prev"),c(k,"next")}}if(r.dynamicBullets){var x=Math.min(v.length,r.dynamicMainBullets+4),E=(t*x-t)/2-p*t,T=e?"right":"left";v.css(n.isHorizontal()?T:"top","".concat(E,"px"))}}if("fraction"===r.type&&(l.find(Ae(r.currentClass)).text(r.formatFractionCurrent(i+1)),l.find(Ae(r.totalClass)).text(r.formatFractionTotal(f))),"progressbar"===r.type){var I;I=r.progressbarOpposite?n.isHorizontal()?"vertical":"horizontal":n.isHorizontal()?"horizontal":"vertical";var S=(i+1)/f,_=1,C=1;"horizontal"===I?_=S:C=S,l.find(Ae(r.progressbarFillClass)).transform("translate3d(0,0,0) scaleX(".concat(_,") scaleY(").concat(C,")")).transition(n.params.speed)}"custom"===r.type&&r.renderCustom?(l.html(r.renderCustom(n,i+1,f)),a("paginationRender",l[0])):a("paginationUpdate",l[0]),n.params.watchOverflow&&n.enabled&&l[n.isLocked?"addClass":"removeClass"](r.lockClass)}}function f(){var e=n.params.pagination;if(!u()){var t=n.virtual&&n.params.virtual.enabled?n.virtual.slides.length:n.slides.length,r=n.pagination.$el,i="";if("bullets"===e.type){var o=n.params.loop?Math.ceil((t-2*n.loopedSlides)/n.params.slidesPerGroup):n.snapGrid.length;n.params.freeMode&&n.params.freeMode.enabled&&!n.params.loop&&o>t&&(o=t);for(var s=0;s<o;s+=1)e.renderBullet?i+=e.renderBullet.call(n,s,e.bulletClass):i+="<".concat(e.bulletElement,' class="').concat(e.bulletClass,'"></').concat(e.bulletElement,">");r.html(i),n.pagination.bullets=r.find(Ae(e.bulletClass))}"fraction"===e.type&&(i=e.renderFraction?e.renderFraction.call(n,e.currentClass,e.totalClass):'<span class="'.concat(e.currentClass,'"></span>')+" / "+'<span class="'.concat(e.totalClass,'"></span>'),r.html(i)),"progressbar"===e.type&&(i=e.renderProgressbar?e.renderProgressbar.call(n,e.progressbarFillClass):'<span class="'.concat(e.progressbarFillClass,'"></span>'),r.html(i)),"custom"!==e.type&&a("paginationRender",n.pagination.$el[0])}}function h(){n.params.pagination=function(e,t,n,r){var i=b();return e.params.createElements&&Object.keys(r).forEach((function(a){if(!n[a]&&!0===n.auto){var o=e.$el.children(".".concat(r[a]))[0];o||((o=i.createElement("div")).className=r[a],e.$el.append(o)),n[a]=o,t[a]=o}})),n}(n,n.originalParams.pagination,n.params.pagination,{el:"swiper-pagination"});var e=n.params.pagination;if(e.el){var t=G(e.el);0!==t.length&&(n.params.uniqueNavElements&&"string"===typeof e.el&&t.length>1&&(t=n.$el.find(e.el)).length>1&&(t=t.filter((function(e){return G(e).parents(".swiper")[0]===n.el}))),"bullets"===e.type&&e.clickable&&t.addClass(e.clickableClass),t.addClass(e.modifierClass+e.type),t.addClass(n.isHorizontal()?e.horizontalClass:e.verticalClass),"bullets"===e.type&&e.dynamicBullets&&(t.addClass("".concat(e.modifierClass).concat(e.type,"-dynamic")),s=0,e.dynamicMainBullets<1&&(e.dynamicMainBullets=1)),"progressbar"===e.type&&e.progressbarOpposite&&t.addClass(e.progressbarOppositeClass),e.clickable&&t.on("click",Ae(e.bulletClass),(function(e){e.preventDefault();var t=G(this).index()*n.params.slidesPerGroup;n.params.loop&&(t+=n.loopedSlides),n.slideTo(t)})),Object.assign(n.pagination,{$el:t,el:t[0]}),n.enabled||t.addClass(e.lockClass))}}function d(){var e=n.params.pagination;if(!u()){var t=n.pagination.$el;t.removeClass(e.hiddenClass),t.removeClass(e.modifierClass+e.type),t.removeClass(n.isHorizontal()?e.horizontalClass:e.verticalClass),n.pagination.bullets&&n.pagination.bullets.removeClass&&n.pagination.bullets.removeClass(e.bulletActiveClass),e.clickable&&t.off("click",Ae(e.bulletClass))}}i("init",(function(){h(),f(),l()})),i("activeIndexChange",(function(){(n.params.loop||"undefined"===typeof n.snapIndex)&&l()})),i("snapIndexChange",(function(){n.params.loop||l()})),i("slidesLengthChange",(function(){n.params.loop&&(f(),l())})),i("snapGridLengthChange",(function(){n.params.loop||(f(),l())})),i("destroy",(function(){d()})),i("enable disable",(function(){var e=n.pagination.$el;e&&e[n.enabled?"removeClass":"addClass"](n.params.pagination.lockClass)})),i("lock unlock",(function(){l()})),i("click",(function(e,t){var r=t.target,i=n.pagination.$el;if(n.params.pagination.el&&n.params.pagination.hideOnClick&&i.length>0&&!G(r).hasClass(n.params.pagination.bulletClass)){if(n.navigation&&(n.navigation.nextEl&&r===n.navigation.nextEl||n.navigation.prevEl&&r===n.navigation.prevEl))return;var o=i.hasClass(n.params.pagination.hiddenClass);a(!0===o?"paginationShow":"paginationHide"),i.toggleClass(n.params.pagination.hiddenClass)}})),Object.assign(n.pagination,{render:f,update:l,init:h,destroy:d})}function Oe(e){return"object"===typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function Pe(e,t){var n=["__proto__","constructor","prototype"];Object.keys(t).filter((function(e){return n.indexOf(e)<0})).forEach((function(n){"undefined"===typeof e[n]?e[n]=t[n]:Oe(t[n])&&Oe(e[n])&&Object.keys(t[n]).length>0?t[n].__swiper__?e[n]=t[n]:Pe(e[n],t[n]):e[n]=t[n]}))}function De(e){return void 0===e&&(e={}),e.navigation&&"undefined"===typeof e.navigation.nextEl&&"undefined"===typeof e.navigation.prevEl}function Re(e){return void 0===e&&(e={}),e.pagination&&"undefined"===typeof e.pagination.el}function Le(e){return void 0===e&&(e={}),e.scrollbar&&"undefined"===typeof e.scrollbar.el}function Me(e){void 0===e&&(e="");var t=e.split(" ").map((function(e){return e.trim()})).filter((function(e){return!!e})),n=[];return t.forEach((function(e){n.indexOf(e)<0&&n.push(e)})),n.join(" ")}var Fe=["modules","init","_direction","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_preloadImages","updateOnImagesReady","_loop","_loopAdditionalSlides","_loopedSlides","_loopFillGroupWithBlank","loopPreventsSlide","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideBlankClass","slideActiveClass","slideDuplicateActiveClass","slideVisibleClass","slideDuplicateClass","slideNextClass","slideDuplicateNextClass","slidePrevClass","slideDuplicatePrevClass","wrapperClass","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","lazy","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom"];function Ue(e,t){var n=t.slidesPerView;if(t.breakpoints){var r=Ce.prototype.getBreakpoint(t.breakpoints),i=r in t.breakpoints?t.breakpoints[r]:void 0;i&&i.slidesPerView&&(n=i.slidesPerView)}var a=Math.ceil(parseFloat(t.loopedSlides||n,10));return(a+=t.loopAdditionalSlides)>e.length&&(a=e.length),a}function Ve(e){var n=[];return t.Children.toArray(e).forEach((function(e){e.type&&"SwiperSlide"===e.type.displayName?n.push(e):e.props&&e.props.children&&Ve(e.props.children).forEach((function(e){return n.push(e)}))})),n}function Be(e){var n=[],r={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return t.Children.toArray(e).forEach((function(e){if(e.type&&"SwiperSlide"===e.type.displayName)n.push(e);else if(e.props&&e.props.slot&&r[e.props.slot])r[e.props.slot].push(e);else if(e.props&&e.props.children){var t=Ve(e.props.children);t.length>0?t.forEach((function(e){return n.push(e)})):r["container-end"].push(e)}else r["container-end"].push(e)})),{slides:n,slots:r}}function je(e){var t,n,r,i,a,o=e.swiper,s=e.slides,u=e.passedParams,c=e.changedParams,l=e.nextEl,f=e.prevEl,h=e.scrollbarEl,d=e.paginationEl,p=c.filter((function(e){return"children"!==e&&"direction"!==e})),v=o.params,m=o.pagination,y=o.navigation,g=o.scrollbar,k=o.virtual,w=o.thumbs;c.includes("thumbs")&&u.thumbs&&u.thumbs.swiper&&v.thumbs&&!v.thumbs.swiper&&(t=!0),c.includes("controller")&&u.controller&&u.controller.control&&v.controller&&!v.controller.control&&(n=!0),c.includes("pagination")&&u.pagination&&(u.pagination.el||d)&&(v.pagination||!1===v.pagination)&&m&&!m.el&&(r=!0),c.includes("scrollbar")&&u.scrollbar&&(u.scrollbar.el||h)&&(v.scrollbar||!1===v.scrollbar)&&g&&!g.el&&(i=!0),c.includes("navigation")&&u.navigation&&(u.navigation.prevEl||f)&&(u.navigation.nextEl||l)&&(v.navigation||!1===v.navigation)&&y&&!y.prevEl&&!y.nextEl&&(a=!0);(p.forEach((function(e){if(Oe(v[e])&&Oe(u[e]))Pe(v[e],u[e]);else{var t=u[e];!0!==t&&!1!==t||"navigation"!==e&&"pagination"!==e&&"scrollbar"!==e?v[e]=u[e]:!1===t&&o[n=e]&&(o[n].destroy(),"navigation"===n?(v[n].prevEl=void 0,v[n].nextEl=void 0,o[n].prevEl=void 0,o[n].nextEl=void 0):(v[n].el=void 0,o[n].el=void 0))}var n})),p.includes("controller")&&!n&&o.controller&&o.controller.control&&v.controller&&v.controller.control&&(o.controller.control=v.controller.control),c.includes("children")&&k&&v.virtual.enabled?(k.slides=s,k.update(!0)):c.includes("children")&&o.lazy&&o.params.lazy.enabled&&o.lazy.load(),t)&&(w.init()&&w.update(!0));n&&(o.controller.control=v.controller.control),r&&(d&&(v.pagination.el=d),m.init(),m.render(),m.update()),i&&(h&&(v.scrollbar.el=h),g.init(),g.updateSize(),g.setTranslate()),a&&(l&&(v.navigation.nextEl=l),f&&(v.navigation.prevEl=f),y.init(),y.update()),c.includes("allowSlideNext")&&(o.allowSlideNext=u.allowSlideNext),c.includes("allowSlidePrev")&&(o.allowSlidePrev=u.allowSlidePrev),c.includes("direction")&&o.changeDirection(u.direction,!1),o.update()}function ze(e,n){return"undefined"===typeof window?(0,t.useEffect)(e,n):(0,t.useLayoutEffect)(e,n)}var qe=(0,t.createContext)(null),Ge=(0,t.createContext)(null),Ke=["className","tag","wrapperTag","children","onSwiper"];function We(){return We=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},We.apply(this,arguments)}var He=(0,t.forwardRef)((function(e,n){var r=void 0===e?{}:e,i=r.className,a=r.tag,o=void 0===a?"div":a,s=r.wrapperTag,u=void 0===s?"div":s,c=r.children,l=r.onSwiper,d=h(r,Ke),v=!1,m=f((0,t.useState)("swiper"),2),y=m[0],g=m[1],k=f((0,t.useState)(null),2),w=k[0],b=k[1],x=f((0,t.useState)(!1),2),E=x[0],T=x[1],I=(0,t.useRef)(!1),S=(0,t.useRef)(null),_=(0,t.useRef)(null),C=(0,t.useRef)(null),A=(0,t.useRef)(null),N=(0,t.useRef)(null),O=(0,t.useRef)(null),P=(0,t.useRef)(null),D=(0,t.useRef)(null),R=function(e){void 0===e&&(e={});var t={on:{}},n={},r={};Pe(t,Ce.defaults),Pe(t,Ce.extendedDefaults),t._emitClasses=!0,t.init=!1;var i={},a=Fe.map((function(e){return e.replace(/_/,"")}));return Object.keys(e).forEach((function(o){a.indexOf(o)>=0?Oe(e[o])?(t[o]={},r[o]={},Pe(t[o],e[o]),Pe(r[o],e[o])):(t[o]=e[o],r[o]=e[o]):0===o.search(/on[A-Z]/)&&"function"===typeof e[o]?n["".concat(o[2].toLowerCase()).concat(o.substr(3))]=e[o]:i[o]=e[o]})),["navigation","pagination","scrollbar"].forEach((function(e){!0===t[e]&&(t[e]={}),!1===t[e]&&delete t[e]})),{params:t,passedParams:r,rest:i,events:n}}(d),L=R.params,M=R.passedParams,F=R.rest,U=R.events,V=Be(c),B=V.slides,j=V.slots,z=function(){T(!E)};Object.assign(L.on,{_containerClasses:function(e,t){g(t)}});var q=function(){if(Object.assign(L.on,U),v=!0,_.current=new Ce(L),_.current.loopCreate=function(){},_.current.loopDestroy=function(){},L.loop&&(_.current.loopedSlides=Ue(B,L)),_.current.virtual&&_.current.params.virtual.enabled){_.current.virtual.slides=B;var e={cache:!1,slides:B,renderExternal:b,renderExternalUpdate:!1};Pe(_.current.params.virtual,e),Pe(_.current.originalParams.virtual,e)}};S.current||q(),_.current&&_.current.on("_beforeBreakpoint",z);return(0,t.useEffect)((function(){return function(){_.current&&_.current.off("_beforeBreakpoint",z)}})),(0,t.useEffect)((function(){!I.current&&_.current&&(_.current.emitSlidesClasses(),I.current=!0)})),ze((function(){if(n&&(n.current=S.current),S.current)return _.current.destroyed&&q(),function(e,t){var n=e.el,r=e.nextEl,i=e.prevEl,a=e.paginationEl,o=e.scrollbarEl,s=e.swiper;De(t)&&r&&i&&(s.params.navigation.nextEl=r,s.originalParams.navigation.nextEl=r,s.params.navigation.prevEl=i,s.originalParams.navigation.prevEl=i),Re(t)&&a&&(s.params.pagination.el=a,s.originalParams.pagination.el=a),Le(t)&&o&&(s.params.scrollbar.el=o,s.originalParams.scrollbar.el=o),s.init(n)}({el:S.current,nextEl:N.current,prevEl:O.current,paginationEl:P.current,scrollbarEl:D.current,swiper:_.current},L),l&&l(_.current),function(){_.current&&!_.current.destroyed&&_.current.destroy(!0,!1)}}),[]),ze((function(){!v&&U&&_.current&&Object.keys(U).forEach((function(e){_.current.on(e,U[e])}));var e=function(e,t,n,r){var i=[];if(!t)return i;var a=function(e){i.indexOf(e)<0&&i.push(e)},o=r.map((function(e){return e.key})),s=n.map((function(e){return e.key}));return o.join("")!==s.join("")&&a("children"),r.length!==n.length&&a("children"),Fe.filter((function(e){return"_"===e[0]})).map((function(e){return e.replace(/_/,"")})).forEach((function(n){if(n in e&&n in t)if(Oe(e[n])&&Oe(t[n])){var r=Object.keys(e[n]),i=Object.keys(t[n]);r.length!==i.length?a(n):(r.forEach((function(r){e[n][r]!==t[n][r]&&a(n)})),i.forEach((function(r){e[n][r]!==t[n][r]&&a(n)})))}else e[n]!==t[n]&&a(n)})),i}(M,C.current,B,A.current);return C.current=M,A.current=B,e.length&&_.current&&!_.current.destroyed&&je({swiper:_.current,slides:B,passedParams:M,changedParams:e,nextEl:N.current,prevEl:O.current,scrollbarEl:D.current,paginationEl:P.current}),function(){U&&_.current&&Object.keys(U).forEach((function(e){_.current.off(e,U[e])}))}})),ze((function(){var e;!(e=_.current)||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.lazy&&e.params.lazy.enabled&&e.lazy.load(),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())}),[w]),t.createElement(o,We({ref:S,className:Me("".concat(y).concat(i?" ".concat(i):""))},F),t.createElement(Ge.Provider,{value:_.current},j["container-start"],De(L)&&t.createElement(t.Fragment,null,t.createElement("div",{ref:O,className:"swiper-button-prev"}),t.createElement("div",{ref:N,className:"swiper-button-next"})),Le(L)&&t.createElement("div",{ref:D,className:"swiper-scrollbar"}),Re(L)&&t.createElement("div",{ref:P,className:"swiper-pagination"}),t.createElement(u,{className:"swiper-wrapper"},j["wrapper-start"],L.virtual?function(e,n,r){if(!r)return null;var i=e.isHorizontal()?K({},e.rtlTranslate?"right":"left","".concat(r.offset,"px")):{top:"".concat(r.offset,"px")};return n.filter((function(e,t){return t>=r.from&&t<=r.to})).map((function(n){return t.cloneElement(n,{swiper:e,style:i})}))}(_.current,B,w):!L.loop||_.current&&_.current.destroyed?B.map((function(e){return t.cloneElement(e,{swiper:_.current})})):function(e,n,r){var i=n.map((function(n,r){return t.cloneElement(n,{swiper:e,"data-swiper-slide-index":r})}));function a(e,n,i){return t.cloneElement(e,{key:"".concat(e.key,"-duplicate-").concat(n,"-").concat(i),className:"".concat(e.props.className||""," ").concat(r.slideDuplicateClass)})}if(r.loopFillGroupWithBlank){var o=r.slidesPerGroup-i.length%r.slidesPerGroup;if(o!==r.slidesPerGroup)for(var s=0;s<o;s+=1){var u=t.createElement("div",{className:"".concat(r.slideClass," ").concat(r.slideBlankClass)});i.push(u)}}"auto"!==r.slidesPerView||r.loopedSlides||(r.loopedSlides=i.length);var c=Ue(i,r),l=[],f=[];return i.forEach((function(e,t){t<c&&f.push(a(e,t,"prepend")),t<i.length&&t>=i.length-c&&l.push(a(e,t,"append"))})),e&&(e.loopedSlides=c),[].concat(l,p(i),f)}(_.current,B,L),j["wrapper-end"]),j["container-end"]))}));He.displayName="Swiper";var Qe=["tag","children","className","swiper","zoom","virtualIndex"];function Ye(){return Ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ye.apply(this,arguments)}var Xe=(0,t.forwardRef)((function(e,n){var r=void 0===e?{}:e,i=r.tag,a=void 0===i?"div":i,o=r.children,s=r.className,u=void 0===s?"":s,c=r.swiper,l=r.zoom,d=r.virtualIndex,p=h(r,Qe),v=(0,t.useRef)(null),m=f((0,t.useState)("swiper-slide"),2),y=m[0],g=m[1];function k(e,t,n){t===v.current&&g(n)}ze((function(){if(n&&(n.current=v.current),v.current&&c){if(!c.destroyed)return c.on("_slideClass",k),function(){c&&c.off("_slideClass",k)};"swiper-slide"!==y&&g("swiper-slide")}})),ze((function(){c&&v.current&&g(c.getSlideClasses(v.current))}),[c]);var w={isActive:y.indexOf("swiper-slide-active")>=0||y.indexOf("swiper-slide-duplicate-active")>=0,isVisible:y.indexOf("swiper-slide-visible")>=0,isDuplicate:y.indexOf("swiper-slide-duplicate")>=0,isPrev:y.indexOf("swiper-slide-prev")>=0||y.indexOf("swiper-slide-duplicate-prev")>=0,isNext:y.indexOf("swiper-slide-next")>=0||y.indexOf("swiper-slide-duplicate-next")>=0},b=function(){return"function"===typeof o?o(w):o};return t.createElement(a,Ye({ref:v,className:Me("".concat(y).concat(u?" ".concat(u):"")),"data-swiper-slide-index":d},p),t.createElement(qe.Provider,{value:w},l?t.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":"number"===typeof l?l:void 0},b()):b()))}));Xe.displayName="SwiperSlide";var Je=function(e){var n=(0,t.useCallback)((function(){return[1,2,3].map((function(e){return(0,i.jsx)("div",{children:(0,i.jsx)("img",{className:"image-size",src:a})})}))}),[]),r=(0,t.useCallback)((function(){return[1,2,3].map((function(e){return(0,i.jsx)(Xe,{children:(0,i.jsx)("img",{className:"image-size",src:a})})}))}),[]);return(0,i.jsxs)("div",{className:"contents-container",children:[(0,i.jsx)("div",{className:"is-web",children:n()}),(0,i.jsx)("div",{className:"is-mobile",children:(0,i.jsx)(He,{spaceBetween:0,slidesPerView:1,loop:!0,pagination:{clickable:!0},modules:[Ne],children:r()})})]})},Ze=function(){return(0,i.jsxs)("div",{className:"app-container",children:[(0,i.jsx)(o,{}),(0,i.jsx)(Je,{})]})};function $e(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=c(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}var et=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},tt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(et(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},nt=function(e){var t=et(e);return tt.encodeByteArray(t,!0)},rt=function(e){return nt(e).replace(/\./g,"")},it=function(e){try{return tt.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function at(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=at(e[n],t[n]));return e}var ot=function(){function e(){var t=this;v(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return y(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function st(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[rt(JSON.stringify({alg:"none",type:"JWT"})),rt(JSON.stringify(a)),""].join(".")}function ut(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function ct(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ut())}function lt(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function ft(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function ht(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function dt(){var e=ut();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function pt(){return"object"===typeof indexedDB}var vt=function(e){C(n,e);var t=O(n);function n(e,r,i){var a;return v(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(I(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(I(a),mt.prototype.create),a}return y(n)}(D(Error)),mt=function(){function e(t,n,r){v(this,e),this.service=t,this.serviceName=n,this.errors=r}return y(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?yt(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new vt(n,a,t);return o}}]),e}();function yt(e,t){return e.replace(gt,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var gt=/\{\$([^}]+)}/g;function kt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function wt(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(bt(s)&&bt(u)){if(!wt(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function bt(e){return null!==e&&"object"===typeof e}function xt(e){for(var t=[],n=function(){var e=f(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Et(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=f(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Tt(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function It(e,t){var n=new St(e,t);return n.subscribe.bind(n)}var St=function(){function e(t,n){var r=this;v(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return y(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=$e(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=_t),void 0===r.error&&(r.error=_t),void 0===r.complete&&(r.complete=_t);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function _t(){}function Ct(e){return e&&e._delegate?e._delegate:e}function At(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function Nt(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){At(a,r,i,o,s,"next",e)}function s(e){At(a,r,i,o,s,"throw",e)}o(void 0)}))}}var Ot=n(757),Pt=n.n(Ot),Dt=function(){function e(t,n,r){v(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return y(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Rt="[DEFAULT]",Lt=function(){function e(t,n){v(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return y(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new ot;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Rt})}catch(u){}var t,n=$e(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=f(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Nt(Ot.mark((function e(){var t;return Ot.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(p(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),p(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=$e(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=f(i.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);r===l&&c.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=$e(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(ET){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Rt?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(ET){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt;return this.component?this.component.multipleInstances?e:Rt:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Mt,Ft,Ut=function(){function e(t){v(this,e),this.name=t,this.providers=new Map}return y(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Lt(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Vt=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ft||(Ft={}));var Bt={debug:Ft.DEBUG,verbose:Ft.VERBOSE,info:Ft.INFO,warn:Ft.WARN,error:Ft.ERROR,silent:Ft.SILENT},jt=Ft.INFO,zt=(K(Mt={},Ft.DEBUG,"log"),K(Mt,Ft.VERBOSE,"log"),K(Mt,Ft.INFO,"info"),K(Mt,Ft.WARN,"warn"),K(Mt,Ft.ERROR,"error"),Mt),qt=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=zt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Gt=function(){function e(t){v(this,e),this.name=t,this._logLevel=jt,this._logHandler=qt,this._userLogHandler=null,Vt.push(this)}return y(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Ft))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Bt[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ft.DEBUG].concat(t)),this._logHandler.apply(this,[this,Ft.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ft.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Ft.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ft.INFO].concat(t)),this._logHandler.apply(this,[this,Ft.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ft.WARN].concat(t)),this._logHandler.apply(this,[this,Ft.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ft.ERROR].concat(t)),this._logHandler.apply(this,[this,Ft.ERROR].concat(t))}}]),e}();var Kt,Wt,Ht=n(348),Qt=function(){function e(t){v(this,e),this.container=t}return y(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Yt="@firebase/app",Xt="0.7.18",Jt=new Gt("@firebase/app"),Zt="[DEFAULT]",$t=(K(Kt={},Yt,"fire-core"),K(Kt,"@firebase/app-compat","fire-core-compat"),K(Kt,"@firebase/analytics","fire-analytics"),K(Kt,"@firebase/analytics-compat","fire-analytics-compat"),K(Kt,"@firebase/app-check","fire-app-check"),K(Kt,"@firebase/app-check-compat","fire-app-check-compat"),K(Kt,"@firebase/auth","fire-auth"),K(Kt,"@firebase/auth-compat","fire-auth-compat"),K(Kt,"@firebase/database","fire-rtdb"),K(Kt,"@firebase/database-compat","fire-rtdb-compat"),K(Kt,"@firebase/functions","fire-fn"),K(Kt,"@firebase/functions-compat","fire-fn-compat"),K(Kt,"@firebase/installations","fire-iid"),K(Kt,"@firebase/installations-compat","fire-iid-compat"),K(Kt,"@firebase/messaging","fire-fcm"),K(Kt,"@firebase/messaging-compat","fire-fcm-compat"),K(Kt,"@firebase/performance","fire-perf"),K(Kt,"@firebase/performance-compat","fire-perf-compat"),K(Kt,"@firebase/remote-config","fire-rc"),K(Kt,"@firebase/remote-config-compat","fire-rc-compat"),K(Kt,"@firebase/storage","fire-gcs"),K(Kt,"@firebase/storage-compat","fire-gcs-compat"),K(Kt,"@firebase/firestore","fire-fst"),K(Kt,"@firebase/firestore-compat","fire-fst-compat"),K(Kt,"fire-js","fire-js"),K(Kt,"firebase","fire-js-all"),Kt),en=new Map,tn=new Map;function nn(e,t){try{e.container.addComponent(t)}catch(n){Jt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function rn(e,t){e.container.addOrOverwriteComponent(t)}function an(e){var t=e.name;if(tn.has(t))return Jt.debug("There were multiple attempts to register component ".concat(t,".")),!1;tn.set(t,e);var n,r=$e(en.values());try{for(r.s();!(n=r.n()).done;){nn(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function on(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function sn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Zt;on(e,t).clearInstance(n)}function un(){tn.clear()}var cn=(K(Wt={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),K(Wt,"bad-app-name","Illegal App name: '{$appName}"),K(Wt,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),K(Wt,"app-deleted","Firebase App named '{$appName}' already deleted"),K(Wt,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),K(Wt,"invalid-log-argument","First argument to `onLog` must be null or a function."),K(Wt,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),K(Wt,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),K(Wt,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),K(Wt,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),Wt),ln=new mt("app","Firebase",cn),fn=function(){function e(t,n,r){var i=this;v(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Dt("app",(function(){return i}),"PUBLIC"))}return y(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw ln.create("app-deleted",{appName:this._name})}}]),e}(),hn="9.6.8";function dn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Zt,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw ln.create("bad-app-name",{appName:String(i)});var a=en.get(i);if(a){if(wt(e,a.options)&&wt(r,a.config))return a;throw ln.create("duplicate-app",{appName:i})}var o,s=new Ut(i),u=$e(tn.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new fn(e,r,s);return en.set(i,l),l}function pn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zt,t=en.get(e);if(!t)throw ln.create("no-app",{appName:e});return t}function vn(){return Array.from(en.values())}function mn(e){return yn.apply(this,arguments)}function yn(){return yn=Nt(Ot.mark((function e(t){var n;return Ot.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!en.has(n)){e.next=6;break}return en.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),yn.apply(this,arguments)}function gn(e,t,n){var r,i=null!==(r=$t[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Jt.warn(s.join(" "))}an(new Dt("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function kn(e,t){if(null!==e&&"function"!==typeof e)throw ln.create("invalid-log-argument");!function(e,t){var n,r=$e(Vt);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Bt[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Ft[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function wn(e){var t;t=e,Vt.forEach((function(e){e.setLogLevel(t)}))}var bn="firebase-heartbeat-store",xn=null;function En(){return xn||(xn=(0,Ht.openDb)("firebase-heartbeat-database",1,(function(e){if(0===e.oldVersion)e.createObjectStore(bn)})).catch((function(e){throw ln.create("storage-open",{originalErrorMessage:e.message})}))),xn}function Tn(e){return In.apply(this,arguments)}function In(){return In=Nt(Ot.mark((function e(t){var n;return Ot.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,En();case 3:return n=e.sent,e.abrupt("return",n.transaction(bn).objectStore(bn).get(Nn(t)));case 7:throw e.prev=7,e.t0=e.catch(0),ln.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),In.apply(this,arguments)}function Sn(e,t){return _n.apply(this,arguments)}function _n(){return _n=Nt(Ot.mark((function e(t,n){var r,i,a;return Ot.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,En();case 3:return r=e.sent,i=r.transaction(bn,"readwrite"),a=i.objectStore(bn),e.next=8,a.put(n,Nn(t));case 8:return e.abrupt("return",i.complete);case 11:throw e.prev=11,e.t0=e.catch(0),ln.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),_n.apply(this,arguments)}function Cn(e){return An.apply(this,arguments)}function An(){return An=Nt(Ot.mark((function e(t){var n,r;return Ot.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,En();case 3:return n=e.sent,r=n.transaction(bn,"readwrite"),e.next=7,r.objectStore(bn).delete(Nn(t));case 7:return e.abrupt("return",r.complete);case 10:throw e.prev=10,e.t0=e.catch(0),ln.create("storage-delete",{originalErrorMessage:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),An.apply(this,arguments)}function Nn(e){return"".concat(e.name,"!").concat(e.options.appId)}var On=function(){function e(t){var n=this;v(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Mn(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return y(e,[{key:"triggerHeartbeat",value:function(){var e=Nt(Ot.mark((function e(){var t,n,r;return Ot.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Pn(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(!this._heartbeatsCache.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.push({date:r,userAgent:n});case 12:return this._heartbeatsCache=this._heartbeatsCache.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Nt(Ot.mark((function e(){var t,n,r,i;return Ot.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache){e.next=5;break}return e.abrupt("return","");case 5:if(t=Dn(this._heartbeatsCache),n=t.heartbeatsToSend,r=t.unsentEntries,i=nt(JSON.stringify({version:2,heartbeats:n})),!(r.length>0)){e.next=13;break}return this._heartbeatsCache=r,e.next=11,this._storage.overwrite(this._heartbeatsCache);case 11:e.next=15;break;case 13:this._heartbeatsCache=null,this._storage.deleteAll();case 15:return e.abrupt("return",i);case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Pn(){return(new Date).toISOString().substring(0,10)}function Dn(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=$e(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.userAgent===e.userAgent}));if(a){if(a.dates.push(e.date),Fn(r)>n)return a.dates.pop(),"break"}else if(r.push({userAgent:e.userAgent,dates:[e.date]}),Fn(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var s=o();if("break"===s)break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Rn,Ln,Mn=function(){function e(t){v(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return y(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Nt(Ot.mark((function e(){return Ot.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(pt()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Nt(Ot.mark((function e(){var t;return Ot.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",[]);case 7:return e.next=9,Tn(this.app);case 9:return t=e.sent,e.abrupt("return",(null===t||void 0===t?void 0:t.heartbeats)||[]);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Nt(Ot.mark((function e(t){return Ot.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.abrupt("return",Sn(this.app,{heartbeats:t}));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Nt(Ot.mark((function e(t){var n;return Ot.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return n=e.sent,e.abrupt("return",Sn(this.app,{heartbeats:[].concat(p(n),p(t))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Nt(Ot.mark((function e(t){var n;return Ot.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return n=e.sent,e.abrupt("return",Sn(this.app,{heartbeats:n.filter((function(e){return!t.includes(e)}))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteAll",value:function(){var e=Nt(Ot.mark((function e(){return Ot.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.abrupt("return",Cn(this.app));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Fn(e){return nt(JSON.stringify({version:2,heartbeats:e})).length}Rn="",an(new Dt("platform-logger",(function(e){return new Qt(e)}),"PRIVATE")),an(new Dt("heartbeat",(function(e){return new On(e)}),"PRIVATE")),gn(Yt,Xt,Rn),gn(Yt,Xt,"esm2017"),gn("fire-js","");var Un=function(){function e(t,n){var r=this;v(this,e),this._delegate=t,this.firebase=n,nn(t,new Dt("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return y(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),mn(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zt;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zt;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){nn(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){rn(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Vn=(K(Ln={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),K(Ln,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Ln),Bn=new mt("app-compat","Firebase",Vn);var jn=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=dn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(kt(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:gn,setLogLevel:wn,onLog:kn,apps:null,SDK_VERSION:hn,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(an(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Bn.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&at(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!kt(n,e=e||Zt))throw Bn.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Un);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){at(n,e)},createSubscribe:It,ErrorFactory:mt,deepExtend:at}),n}(),zn=new Gt("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){zn.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var qn=self.firebase.SDK_VERSION;qn&&qn.indexOf("LITE")>=0&&zn.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Gn=jn;!function(e){gn("@firebase/app-compat","0.1.19",e)}();function Kn(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=A(e)););return e}function Wn(){return Wn="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Kn(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Wn.apply(this,arguments)}Gn.registerVersion("firebase","9.6.8","app-compat");function Hn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Qn;Object.create;var Yn="facebook.com",Xn="github.com",Jn="google.com",Zn="password",$n="twitter.com",er="EMAIL_SIGNIN",tr="PASSWORD_RESET",nr="RECOVER_EMAIL",rr="REVERT_SECOND_FACTOR_ADDITION",ir="VERIFY_AND_CHANGE_EMAIL",ar="VERIFY_EMAIL";function or(){return K({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var sr=function(){var e;return K(e={},"admin-restricted-operation","This operation is restricted to administrators only."),K(e,"argument-error",""),K(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),K(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),K(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),K(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),K(e,"cordova-not-ready","Cordova framework is not ready."),K(e,"cors-unsupported","This browser is not supported."),K(e,"credential-already-in-use","This credential is already associated with a different user account."),K(e,"custom-token-mismatch","The custom token corresponds to a different audience."),K(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),K(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),K(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),K(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),K(e,"email-already-in-use","The email address is already in use by another account."),K(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),K(e,"expired-action-code","The action code has expired."),K(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),K(e,"internal-error","An internal AuthError has occurred."),K(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),K(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),K(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),K(e,"invalid-auth-event","An internal AuthError has occurred."),K(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),K(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),K(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),K(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),K(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),K(e,"invalid-email","The email address is badly formatted."),K(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),K(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),K(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),K(e,"invalid-credential","The supplied auth credential is malformed or has expired."),K(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),K(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),K(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),K(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),K(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),K(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),K(e,"wrong-password","The password is invalid or the user does not have a password."),K(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),K(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),K(e,"invalid-provider-id","The specified provider ID is invalid."),K(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),K(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),K(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),K(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),K(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),K(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),K(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),K(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),K(e,"missing-continue-uri","A continue URL must be provided in the request."),K(e,"missing-iframe-start","An internal AuthError has occurred."),K(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),K(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),K(e,"missing-multi-factor-info","No second factor identifier is provided."),K(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),K(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),K(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),K(e,"app-deleted","This instance of FirebaseApp has been deleted."),K(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),K(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),K(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),K(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),K(e,"no-auth-event","An internal AuthError has occurred."),K(e,"no-such-provider","User was not linked to an account with the given provider."),K(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),K(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),K(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),K(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),K(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),K(e,"provider-already-linked","User can only be linked to one identity for the given provider."),K(e,"quota-exceeded","The project's quota for this operation has been exceeded."),K(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),K(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),K(e,"rejected-credential","The request contains malformed or mismatching credentials."),K(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),K(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),K(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),K(e,"timeout","The operation has timed out."),K(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),K(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),K(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),K(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),K(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),K(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),K(e,"unverified-email","The operation requires a verified email."),K(e,"user-cancelled","The user did not grant your application the permissions it requested."),K(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),K(e,"user-disabled","The user account has been disabled by an administrator."),K(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),K(e,"user-signed-out",""),K(e,"weak-password","The password must be 6 characters long or more."),K(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),K(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},ur=or,cr=new mt("auth","Firebase",or()),lr=new Gt("@firebase/auth");function fr(e){if(lr.logLevel<=Ft.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];lr.error.apply(lr,["Auth (".concat(hn,"): ").concat(e)].concat(n))}}function hr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw mr.apply(void 0,[e].concat(n))}function dr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return mr.apply(void 0,[e].concat(n))}function pr(e,t,n){var r=Object.assign(Object.assign({},ur()),K({},t,n));return new mt("auth","Firebase",r).create(t,{appName:e.name})}function vr(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&hr(e,"argument-error"),pr(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function mr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=p(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(p(o)))}return cr.create.apply(cr,[e].concat(n))}function yr(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw mr.apply(void 0,[t].concat(r))}}function gr(e){var t="INTERNAL ASSERTION FAILED: "+e;throw fr(t),new Error(t)}function kr(e,t){e||gr(t)}var wr=new Map;function br(e){kr(e instanceof Function,"Expected a class definition");var t=wr.get(e);return t?(kr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,wr.set(e,t),t)}function xr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Er(){return"http:"===Tr()||"https:"===Tr()}function Tr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Ir=function(){function e(t,n){v(this,e),this.shortDelay=t,this.longDelay=n,kr(n>t,"Short delay should be less than long delay!"),this.isMobile=ct()||ht()}return y(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Er()||ft()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Sr(e,t){kr(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var _r=function(){function e(){v(this,e)}return y(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Cr=(K(Qn={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),K(Qn,"MISSING_CUSTOM_TOKEN","internal-error"),K(Qn,"INVALID_IDENTIFIER","invalid-email"),K(Qn,"MISSING_CONTINUE_URI","internal-error"),K(Qn,"INVALID_PASSWORD","wrong-password"),K(Qn,"MISSING_PASSWORD","internal-error"),K(Qn,"EMAIL_EXISTS","email-already-in-use"),K(Qn,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),K(Qn,"INVALID_IDP_RESPONSE","invalid-credential"),K(Qn,"INVALID_PENDING_TOKEN","invalid-credential"),K(Qn,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),K(Qn,"MISSING_REQ_TYPE","internal-error"),K(Qn,"EMAIL_NOT_FOUND","user-not-found"),K(Qn,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),K(Qn,"EXPIRED_OOB_CODE","expired-action-code"),K(Qn,"INVALID_OOB_CODE","invalid-action-code"),K(Qn,"MISSING_OOB_CODE","internal-error"),K(Qn,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),K(Qn,"INVALID_ID_TOKEN","invalid-user-token"),K(Qn,"TOKEN_EXPIRED","user-token-expired"),K(Qn,"USER_NOT_FOUND","user-token-expired"),K(Qn,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),K(Qn,"INVALID_CODE","invalid-verification-code"),K(Qn,"INVALID_SESSION_INFO","invalid-verification-id"),K(Qn,"INVALID_TEMPORARY_PROOF","invalid-credential"),K(Qn,"MISSING_SESSION_INFO","missing-verification-id"),K(Qn,"SESSION_EXPIRED","code-expired"),K(Qn,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),K(Qn,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),K(Qn,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),K(Qn,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),K(Qn,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),K(Qn,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),K(Qn,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),K(Qn,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),K(Qn,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),K(Qn,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),K(Qn,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Qn),Ar=new Ir(3e4,6e4);function Nr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Or(e,t,n,r){return Pr.apply(this,arguments)}function Pr(){return Pr=Nt(Pt().mark((function e(t,n,r,i){var a,o=arguments;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Dr(t,a,Nt(Pt().mark((function e(){var a,o,s,u;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=xt(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",_r.fetch()(Fr(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Pr.apply(this,arguments)}function Dr(e,t,n){return Rr.apply(this,arguments)}function Rr(){return(Rr=Nt(Pt().mark((function e(t,n,r){var i,a,o,s,u,c,l,h,d,p;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Cr),n),e.prev=2,a=new Ur(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw Vr(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,c=u.split(" : "),l=f(c,2),h=l[0],d=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Vr(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=25;break}throw Vr(t,"email-already-in-use",s);case 25:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw pr(t,p,d);case 30:hr(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof vt)){e.next=37;break}throw e.t0;case 37:hr(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])})))).apply(this,arguments)}function Lr(e,t,n,r){return Mr.apply(this,arguments)}function Mr(){return Mr=Nt(Pt().mark((function e(t,n,r,i){var a,o,s=arguments;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,Or(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&hr(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Mr.apply(this,arguments)}function Fr(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Sr(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Ur=function(){function e(t){var n=this;v(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(dr(n.auth,"network-request-failed"))}),Ar.get())}))}return y(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Vr(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=dr(e,t,r);return i.customData._tokenResponse=n,i}function Br(e,t){return jr.apply(this,arguments)}function jr(){return(jr=Nt(Pt().mark((function e(t,n){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Or(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zr(e,t){return qr.apply(this,arguments)}function qr(){return(qr=Nt(Pt().mark((function e(t,n){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Or(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gr(e,t){return Kr.apply(this,arguments)}function Kr(){return(Kr=Nt(Pt().mark((function e(t,n){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Or(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wr(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Hr(){return Hr=Nt(Pt().mark((function e(t){var n,r,i,a,o,s,u=arguments;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=Ct(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,yr((a=Yr(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Wr(Qr(a.auth_time)),issuedAtTime:Wr(Qr(a.iat)),expirationTime:Wr(Qr(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Hr.apply(this,arguments)}function Qr(e){return 1e3*Number(e)}function Yr(e){var t=f(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return fr("JWT malformed, contained fewer than 3 sections"),null;try{var a=it(r);return a?JSON.parse(a):(fr("Failed to decode base64 JWT payload"),null)}catch(o){return fr("Caught error parsing JWT payload as JSON",o),null}}function Xr(e,t){return Jr.apply(this,arguments)}function Jr(){return Jr=Nt(Pt().mark((function e(t,n){var r=arguments;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof vt&&Zr(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Jr.apply(this,arguments)}function Zr(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var $r=function(){function e(t){v(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return y(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Nt(Pt().mark((function t(){return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Nt(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),ei=function(){function e(t,n){v(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return y(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Wr(this.lastLoginAt),this.creationTime=Wr(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function ti(e){return ni.apply(this,arguments)}function ni(){return ni=Nt(Pt().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Xr(t,Gr(r,{idToken:i}));case 6:yr(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?ai(o.providerUserInfo):[],u=ii(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new ei(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),ni.apply(this,arguments)}function ri(){return(ri=Nt(Pt().mark((function e(t){var n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ct(t),e.next=3,ti(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ii(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(p(n),p(t))}function ai(e){return e.map((function(e){var t=e.providerId,n=Hn(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function oi(e,t){return si.apply(this,arguments)}function si(){return(si=Nt(Pt().mark((function e(t,n){var r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dr(t,{},Nt(Pt().mark((function e(){var r,i,a,o,s,u;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xt({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=Fr(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",_r.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ui=function(){function e(){v(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return y(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){yr(e.idToken,"internal-error"),yr("undefined"!==typeof e.idToken,"internal-error"),yr("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Yr(e);return yr(t,"internal-error"),yr("undefined"!==typeof t.exp,"internal-error"),yr("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Nt(Pt().mark((function e(t){var n,r=arguments;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],yr(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Nt(Pt().mark((function e(t,n){var r,i,a,o;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oi(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return gr("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(yr("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(yr("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(yr("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function ci(e,t){yr("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var li=function(){function e(t){v(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Hn(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $r(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?p(a.providerData):[],this.metadata=new ei(a.createdAt||void 0,a.lastLoginAt||void 0)}return y(e,[{key:"getIdToken",value:function(){var e=Nt(Pt().mark((function e(t){var n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xr(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(yr(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Hr.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return ri.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(yr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){yr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Nt(Pt().mark((function e(t){var n,r,i=arguments;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,ti(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Nt(Pt().mark((function e(){var t;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Xr(this,Br(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,w=n.emailVerified,b=n.isAnonymous,x=n.providerData,E=n.stsTokenManager;yr(k&&E,t,"internal-error");var T=ui.fromJSON(this.name,E);yr("string"===typeof k,t,"internal-error"),ci(f,t.name),ci(h,t.name),yr("boolean"===typeof w,t,"internal-error"),yr("boolean"===typeof b,t,"internal-error"),ci(d,t.name),ci(p,t.name),ci(v,t.name),ci(m,t.name),ci(y,t.name),ci(g,t.name);var I=new e({uid:k,auth:t,email:h,emailVerified:w,displayName:f,isAnonymous:b,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:T,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(I.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:function(){var t=Nt(Pt().mark((function t(n,r){var i,a,o,s=arguments;return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new ui).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,ti(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),fi=function(){function e(){v(this,e),this.type="NONE",this.storage={}}return y(e,[{key:"_isAvailable",value:function(){var e=Nt(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Nt(Pt().mark((function e(t,n){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Nt(Pt().mark((function e(t){var n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Nt(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();fi.type="NONE";var hi=fi;function di(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var pi=function(){function e(t,n,r){v(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=di(this.userKey,a.apiKey,o),this.fullPersistenceKey=di("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return y(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Nt(Pt().mark((function e(){var t;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?li._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Nt(Pt().mark((function e(t){var n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Nt(Pt().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(br(hi),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Nt(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||br(hi),s=di(i,n.config.apiKey,n.name),u=null,c=$e(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=li._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Nt(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function vi(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ki(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(mi(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(bi(t))return"Blackberry";if(xi(t))return"Webos";if(yi(t))return"Safari";if((t.includes("chrome/")||gi(t))&&!t.includes("edge/"))return"Chrome";if(wi(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function mi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut();return/firefox\//i.test(e)}function yi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function gi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut();return/crios\//i.test(e)}function ki(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut();return/iemobile/i.test(e)}function wi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut();return/android/i.test(e)}function bi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut();return/blackberry/i.test(e)}function xi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut();return/webos/i.test(e)}function Ei(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut();return/iphone|ipad|ipod/i.test(e)}function Ti(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut();return Ei(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Ii(){return dt()&&10===document.documentMode}function Si(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut();return Ei(e)||wi(e)||xi(e)||bi(e)||/windows phone/i.test(e)||ki(e)}function _i(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=vi(ut());break;case"Worker":t="".concat(vi(ut()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(hn,"/").concat(r)}var Ci=function(){function e(t,n){v(this,e),this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ni(this),this.idTokenSubscription=new Ni(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cr,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}return y(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=br(t)),this._initializationPromise=this.queue(Nt(Pt().mark((function r(){var i,a;return Pt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,pi.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Nt(Pt().mark((function e(){var t;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Nt(Pt().mark((function e(t){var n,r,i,a,o;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return yr(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Nt(Pt().mark((function e(t){var n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Nt(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ti(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Nt(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Nt(Pt().mark((function e(t){var n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Ct(t):null)&&yr(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Nt(Pt().mark((function e(t){var n=this;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&yr(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(Nt(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Nt(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Nt(Pt().mark((function n(){return Pt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(br(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new mt("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Nt(Pt().mark((function e(t,n){var r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Nt(Pt().mark((function e(t){var n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return yr(n=t&&br(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,pi.create(this,[br(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Nt(Pt().mark((function e(t){var n,r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Nt(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Nt(Pt().mark((function e(t){var n=this;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Nt(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return yr(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Nt(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return yr(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_i(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Nt(Pt().mark((function e(){var t;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=K({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ai(e){return Ct(e)}var Ni=function(){function e(t){var n=this;v(this,e),this.auth=t,this.observer=null,this.addObserver=It((function(e){return n.observer=e}))}return y(e,[{key:"next",get:function(){return yr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Oi(e,t,n){var r=Ai(e);yr(r._canInitEmulator,r,"emulator-config-failed"),yr(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Pi(t),o=function(e){var t=Pi(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Di(r.substr(a.length+1))}}var o=f(r.split(":"),2);return{host:o[0],port:Di(o[1])}}(t),s=o.host,u=o.port,c=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Pi(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Di(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Ri=function(){function e(t,n){v(this,e),this.providerId=t,this.signInMethod=n}return y(e,[{key:"toJSON",value:function(){return gr("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return gr("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return gr("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return gr("not implemented")}}]),e}();function Li(e,t){return Mi.apply(this,arguments)}function Mi(){return(Mi=Nt(Pt().mark((function e(t,n){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Or(t,"POST","/v1/accounts:resetPassword",Nr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fi(e,t){return Ui.apply(this,arguments)}function Ui(){return(Ui=Nt(Pt().mark((function e(t,n){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Or(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vi(e,t){return Bi.apply(this,arguments)}function Bi(){return(Bi=Nt(Pt().mark((function e(t,n){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Or(t,"POST","/v1/accounts:update",Nr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ji(e,t){return zi.apply(this,arguments)}function zi(){return(zi=Nt(Pt().mark((function e(t,n){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lr(t,"POST","/v1/accounts:signInWithPassword",Nr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qi(e,t){return Gi.apply(this,arguments)}function Gi(){return(Gi=Nt(Pt().mark((function e(t,n){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Or(t,"POST","/v1/accounts:sendOobCode",Nr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ki(e,t){return Wi.apply(this,arguments)}function Wi(){return(Wi=Nt(Pt().mark((function e(t,n){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qi(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hi(e,t){return Qi.apply(this,arguments)}function Qi(){return(Qi=Nt(Pt().mark((function e(t,n){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qi(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yi(e,t){return Xi.apply(this,arguments)}function Xi(){return(Xi=Nt(Pt().mark((function e(t,n){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qi(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ji(e,t){return Zi.apply(this,arguments)}function Zi(){return(Zi=Nt(Pt().mark((function e(t,n){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qi(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $i(e,t){return ea.apply(this,arguments)}function ea(){return(ea=Nt(Pt().mark((function e(t,n){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lr(t,"POST","/v1/accounts:signInWithEmailLink",Nr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ta(e,t){return na.apply(this,arguments)}function na(){return(na=Nt(Pt().mark((function e(t,n){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lr(t,"POST","/v1/accounts:signInWithEmailLink",Nr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ra=function(e){C(n,e);var t=O(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return v(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return y(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Nt(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",ji(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",$i(t,{email:this._email,oobCode:this._password}));case 5:hr(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Nt(Pt().mark((function e(t,n){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Fi(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",ta(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:hr(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Ri);function ia(e,t){return aa.apply(this,arguments)}function aa(){return(aa=Nt(Pt().mark((function e(t,n){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lr(t,"POST","/v1/accounts:signInWithIdp",Nr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var oa=function(e){C(n,e);var t=O(n);function n(){var e;return v(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return y(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return ia(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,ia(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,ia(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=xt(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):hr("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Hn(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Ri);function sa(e,t){return ua.apply(this,arguments)}function ua(){return(ua=Nt(Pt().mark((function e(t,n){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Or(t,"POST","/v1/accounts:sendVerificationCode",Nr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ca(){return(ca=Nt(Pt().mark((function e(t,n){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lr(t,"POST","/v1/accounts:signInWithPhoneNumber",Nr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function la(){return(la=Nt(Pt().mark((function e(t,n){var r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lr(t,"POST","/v1/accounts:signInWithPhoneNumber",Nr(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Vr(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var fa=K({},"USER_NOT_FOUND","user-not-found");function ha(){return(ha=Nt(Pt().mark((function e(t,n){var r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Lr(t,"POST","/v1/accounts:signInWithPhoneNumber",Nr(t,r),fa));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var da=function(e){C(n,e);var t=O(n);function n(e){var r;return v(this,n),(r=t.call(this,"phone","phone")).params=e,r}return y(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return ca.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return la.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return ha.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Ri);var pa=function(){function e(t){var n,r,i,a,o,s;v(this,e);var u=Et(Tt(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);yr(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return y(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Et(Tt(e)).link,n=t?Et(Tt(t)).deep_link_id:null,r=Et(Tt(e)).deep_link_id;return(r?Et(Tt(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(ET){return null}}}]),e}();var va=function(){function e(){v(this,e),this.providerId=e.PROVIDER_ID}return y(e,null,[{key:"credential",value:function(e,t){return ra._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=pa.parseLink(t);return yr(n,"argument-error"),ra._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();va.PROVIDER_ID="password",va.EMAIL_PASSWORD_SIGN_IN_METHOD="password",va.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var ma=function(){function e(t){v(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return y(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),ya=function(e){C(n,e);var t=O(n);function n(){var e;return v(this,n),(e=t.apply(this,arguments)).scopes=[],e}return y(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return p(this.scopes)}}]),n}(ma),ga=function(e){C(n,e);var t=O(n);function n(){return v(this,n),t.apply(this,arguments)}return y(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return yr(e.idToken||e.accessToken,"argument-error"),oa._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return yr("providerId"in t&&"signInMethod"in t,"argument-error"),oa._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(c){return null}}}]),n}(ya),ka=function(e){C(n,e);var t=O(n);function n(){return v(this,n),t.call(this,"facebook.com")}return y(n,null,[{key:"credential",value:function(e){return oa._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(ET){return null}}}]),n}(ya);ka.FACEBOOK_SIGN_IN_METHOD="facebook.com",ka.PROVIDER_ID="facebook.com";var wa=function(e){C(n,e);var t=O(n);function n(){var e;return v(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return y(n,null,[{key:"credential",value:function(e,t){return oa._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(ET){return null}}}]),n}(ya);wa.GOOGLE_SIGN_IN_METHOD="google.com",wa.PROVIDER_ID="google.com";var ba=function(e){C(n,e);var t=O(n);function n(){return v(this,n),t.call(this,"github.com")}return y(n,null,[{key:"credential",value:function(e){return oa._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(ET){return null}}}]),n}(ya);ba.GITHUB_SIGN_IN_METHOD="github.com",ba.PROVIDER_ID="github.com";var xa=function(e){C(n,e);var t=O(n);function n(e,r){var i;return v(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return y(n,[{key:"_getIdTokenResponse",value:function(e){return ia(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,ia(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,ia(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Ri),Ea=function(e){C(n,e);var t=O(n);function n(e){return v(this,n),yr(e.startsWith("saml."),"argument-error"),t.call(this,e)}return y(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=xa.fromJSON(e);return yr(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return xa._create(r,n)}catch(i){return null}}}]),n}(ma),Ta=function(e){C(n,e);var t=O(n);function n(){return v(this,n),t.call(this,"twitter.com")}return y(n,null,[{key:"credential",value:function(e,t){return oa._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(ET){return null}}}]),n}(ya);function Ia(e,t){return Sa.apply(this,arguments)}function Sa(){return(Sa=Nt(Pt().mark((function e(t,n){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lr(t,"POST","/v1/accounts:signUp",Nr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Ta.TWITTER_SIGN_IN_METHOD="twitter.com",Ta.PROVIDER_ID="twitter.com";var _a=function(){function e(t){v(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return y(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Nt(Pt().mark((function t(n,r,i){var a,o,s,u,c=arguments;return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,li._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=Ca(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Nt(Pt().mark((function t(n,r,i){var a;return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Ca(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Ca(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Aa(){return Aa=Nt(Pt().mark((function e(t){var n,r,i,a;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ai(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new _a({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Ia(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,_a._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Aa.apply(this,arguments)}var Na=function(e){C(n,e);var t=O(n);function n(e,r,i,a){var o,s;return v(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(I(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return y(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(vt);function Oa(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Na._fromErrorAndOperation(e,n,t,r);throw n}))}function Pa(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Da(e,t){return Ra.apply(this,arguments)}function Ra(){return Ra=Nt(Pt().mark((function e(t,n){var r,i,a,o;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ct(t),e.next=3,Fa(!0,r,n);case 3:return e.t0=zr,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Pa(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Ra.apply(this,arguments)}function La(e,t){return Ma.apply(this,arguments)}function Ma(){return Ma=Nt(Pt().mark((function e(t,n){var r,i,a=arguments;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Xr,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",_a._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Ma.apply(this,arguments)}function Fa(e,t,n){return Ua.apply(this,arguments)}function Ua(){return(Ua=Nt(Pt().mark((function e(t,n,r){var i,a;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ti(n);case 2:i=Pa(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",yr(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Va(e,t){return Ba.apply(this,arguments)}function Ba(){return Ba=Nt(Pt().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Xr(t,Oa(i,a,n,t),r);case 6:return yr((o=e.sent).idToken,i,"internal-error"),yr(s=Yr(o.idToken),i,"internal-error"),u=s.sub,yr(t.uid===u,i,"user-mismatch"),e.abrupt("return",_a._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&hr(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Ba.apply(this,arguments)}function ja(e,t){return za.apply(this,arguments)}function za(){return za=Nt(Pt().mark((function e(t,n){var r,i,a,o,s=arguments;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,Oa(t,i,n);case 4:return a=e.sent,e.next=7,_a._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),za.apply(this,arguments)}function qa(e,t){return Ga.apply(this,arguments)}function Ga(){return(Ga=Nt(Pt().mark((function e(t,n){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ja(Ai(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ka(e,t){return Wa.apply(this,arguments)}function Wa(){return(Wa=Nt(Pt().mark((function e(t,n){var r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ct(t),e.next=3,Fa(!1,r,n.providerId);case 3:return e.abrupt("return",La(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ha(e,t){return Qa.apply(this,arguments)}function Qa(){return(Qa=Nt(Pt().mark((function e(t,n){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Va(Ct(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ya(e,t){return Xa.apply(this,arguments)}function Xa(){return(Xa=Nt(Pt().mark((function e(t,n){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lr(t,"POST","/v1/accounts:signInWithCustomToken",Nr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ja(){return(Ja=Nt(Pt().mark((function e(t,n){var r,i,a;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ai(t),e.next=3,Ya(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,_a._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Za=function(){function e(t,n){v(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return y(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?$a._fromServerResponse(e,t):hr(e,"internal-error")}}]),e}(),$a=function(e){C(n,e);var t=O(n);function n(e){var r;return v(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return y(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Za);function eo(e,t,n){var r;yr((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),yr("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(yr(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(yr(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function to(){return(to=Nt(Pt().mark((function e(t,n,r){var i,a;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ct(t),a={requestType:"PASSWORD_RESET",email:n},r&&eo(i,a,r),e.next=5,Hi(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function no(){return(no=Nt(Pt().mark((function e(t,n,r){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Li(Ct(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ro(){return(ro=Nt(Pt().mark((function e(t,n){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vi(Ct(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function io(e,t){return ao.apply(this,arguments)}function ao(){return(ao=Nt(Pt().mark((function e(t,n){var r,i,a,o;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ct(t),e.next=3,Li(r,{oobCode:n});case 3:i=e.sent,yr(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return yr(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:yr(i.mfaInfo,r,"internal-error");case 13:yr(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Za._fromServerResponse(Ai(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oo(){return oo=Nt(Pt().mark((function e(t,n){var r,i;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,io(Ct(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),oo.apply(this,arguments)}function so(e,t,n){return uo.apply(this,arguments)}function uo(){return(uo=Nt(Pt().mark((function e(t,n,r){var i,a,o;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ai(t),e.next=3,Ia(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,_a._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function co(){return(co=Nt(Pt().mark((function e(t,n,r){var i,a;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ct(t),a={requestType:"EMAIL_SIGNIN",email:n},yr(r.handleCodeInApp,i,"argument-error"),r&&eo(i,a,r),e.next=6,Yi(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lo(){return(lo=Nt(Pt().mark((function e(t,n,r){var i,a;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ct(t),yr((a=va.credentialWithLink(n,r||xr()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",qa(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fo(e,t){return ho.apply(this,arguments)}function ho(){return(ho=Nt(Pt().mark((function e(t,n){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Or(t,"POST","/v1/accounts:createAuthUri",Nr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function po(){return(po=Nt(Pt().mark((function e(t,n){var r,i,a,o;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Er()?xr():"http://localhost",i={identifier:n,continueUri:r},e.next=4,fo(Ct(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vo(){return(vo=Nt(Pt().mark((function e(t,n){var r,i,a,o;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ct(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&eo(r.auth,a,n),e.next=8,Ki(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mo(){return(mo=Nt(Pt().mark((function e(t,n,r){var i,a,o,s;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ct(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&eo(i.auth,o,r),e.next=8,Ji(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yo(e,t){return go.apply(this,arguments)}function go(){return(go=Nt(Pt().mark((function e(t,n){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Or(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ko(){return(ko=Nt(Pt().mark((function e(t,n){var r,i,a,o,s,u,c;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Ct(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Xr(a,yo(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wo(e,t,n){return bo.apply(this,arguments)}function bo(){return(bo=Nt(Pt().mark((function e(t,n,r){var i,a,o,s;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Xr(t,Fi(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xo=y((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};v(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Eo=function(e){C(n,e);var t=O(n);function n(e,r,i,a){var o;return v(this,n),(o=t.call(this,e,r,i)).username=a,o}return y(n)}(xo),To=function(e){C(n,e);var t=O(n);function n(e,r){return v(this,n),t.call(this,e,"facebook.com",r)}return y(n)}(xo),Io=function(e){C(n,e);var t=O(n);function n(e,r){return v(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return y(n)}(Eo),So=function(e){C(n,e);var t=O(n);function n(e,r){return v(this,n),t.call(this,e,"google.com",r)}return y(n)}(xo),_o=function(e){C(n,e);var t=O(n);function n(e,r,i){return v(this,n),t.call(this,e,"twitter.com",r,i)}return y(n)}(Eo);function Co(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Yr(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new xo(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new To(a,i);case"github.com":return new Io(a,i);case"google.com":return new So(a,i);case"twitter.com":return new _o(a,i,e.screenName||null);case"custom":case"anonymous":return new xo(a,null);default:return new xo(a,r,i)}}(n)}var Ao=function(){function e(t,n){v(this,e),this.type=t,this.credential=n}return y(e,[{key:"toJSON",value:function(){return{multiFactorSession:K({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),No=function(){function e(t,n,r){v(this,e),this.session=t,this.hints=n,this.signInResolver=r}return y(e,[{key:"resolveSignIn",value:function(){var e=Nt(Pt().mark((function e(t){var n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Ai(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Za._fromServerResponse(r,e)}));yr(i.mfaPendingCredential,r,"internal-error");var o=Ao._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Nt(Pt().mark((function e(t){var a,s,u;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,_a._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return yr(n.user,r,"internal-error"),e.abrupt("return",_a._forOperation(n.user,n.operationType,s));case 17:hr(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Oo(e,t){return Or(e,"POST","/v2/accounts/mfaEnrollment:start",Nr(e,t))}var Po=function(){function e(t){var n=this;v(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Za._fromServerResponse(t.auth,e)})))}))}return y(e,[{key:"getSession",value:function(){var e=Nt(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Ao,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Nt(Pt().mark((function e(t,n){var r,i,a;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Xr(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Nt(Pt().mark((function e(t){var n,r,i;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,Xr(this.user,Or(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",Nr(a,{idToken:r,mfaEnrollmentId:n})));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var a}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Do=new WeakMap;var Ro="__sak",Lo=function(){function e(t,n){v(this,e),this.storageRetriever=t,this.type=n}return y(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Ro,"1"),this.storage.removeItem(Ro),Promise.resolve(!0)):Promise.resolve(!1)}catch(ET){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Mo=function(e){C(n,e);var t=O(n);function n(){var e;return v(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=ut();return yi(e)||Ei(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Si(),e._shouldAllowMigration=!0,e}return y(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Ii()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Nt(Pt().mark((function e(t,r){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wn(A(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Nt(Pt().mark((function e(t){var r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wn(A(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Nt(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wn(A(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Lo);Mo.type="LOCAL";var Fo=Mo,Uo=function(e){C(n,e);var t=O(n);function n(){return v(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return y(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Lo);Uo.type="SESSION";var Vo=Uo;function Bo(e){return Promise.all(e.map(function(){var e=Nt(Pt().mark((function e(t){var n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var jo=function(){function e(t){v(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return y(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Nt(Pt().mark((function e(t){var n,r,i,a,o,s,u,c;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=Nt(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Bo(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function zo(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}jo.receivers=[];var qo=function(){function e(t){v(this,e),this.target=t,this.handlers=new Set}return y(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Nt(Pt().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=zo("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Go(){return window}function Ko(){return"undefined"!==typeof Go().WorkerGlobalScope&&"function"===typeof Go().importScripts}function Wo(){return Ho.apply(this,arguments)}function Ho(){return(Ho=Nt(Pt().mark((function e(){var t;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Qo(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Yo="firebaseLocalStorageDb",Xo="firebaseLocalStorage",Jo="fbase_key",Zo=function(){function e(t){v(this,e),this.request=t}return y(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function $o(e,t){return e.transaction([Xo],t?"readwrite":"readonly").objectStore(Xo)}function es(){var e=indexedDB.deleteDatabase(Yo);return new Zo(e).toPromise()}function ts(){var e=indexedDB.open(Yo,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Xo,{keyPath:Jo})}catch(r){n(r)}})),e.addEventListener("success",Nt(Pt().mark((function n(){var r;return Pt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Xo)){n.next=12;break}return r.close(),n.next=5,es();case 5:return n.t0=t,n.next=8,ts();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function ns(e,t,n){return rs.apply(this,arguments)}function rs(){return rs=Nt(Pt().mark((function e(t,n,r){var i,a;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=$o(t,!0).put((K(i={},Jo,n),K(i,"value",r),i)),e.abrupt("return",new Zo(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),rs.apply(this,arguments)}function is(e,t){return as.apply(this,arguments)}function as(){return as=Nt(Pt().mark((function e(t,n){var r,i;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$o(t,!1).get(n),e.next=3,new Zo(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),as.apply(this,arguments)}function os(e,t){var n=$o(e,!0).delete(t);return new Zo(n).toPromise()}var ss=function(){function e(){v(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return y(e,[{key:"_openDb",value:function(){var e=Nt(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,ts();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Nt(Pt().mark((function e(t){var n,r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Nt(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ko()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Nt(Pt().mark((function e(){var t=this;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=jo._getInstance(Ko()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Nt(Pt().mark((function e(n,r){var i;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Nt(Pt().mark((function e(t,n){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Nt(Pt().mark((function e(){var t,n,r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wo();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new qo(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Nt(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Qo()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Nt(Pt().mark((function e(){var t;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,ts();case 5:return t=e.sent,e.next=8,ns(t,Ro,"1");case 8:return e.next=10,os(t,Ro);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Nt(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Nt(Pt().mark((function e(t,n){var r=this;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Nt(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return ns(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Nt(Pt().mark((function e(t){var n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return is(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Nt(Pt().mark((function e(t){var n=this;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Nt(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return os(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Nt(Pt().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=$o(e,!1).getAll();return new Zo(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=$e(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Nt(Pt().mark((function t(){return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();ss.type="LOCAL";var us=ss;function cs(e,t){return Or(e,"POST","/v2/accounts/mfaSignIn:start",Nr(e,t))}function ls(e){return fs.apply(this,arguments)}function fs(){return(fs=Nt(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Or(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hs(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=dr("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function ds(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var ps=1e12,vs=function(){function e(t){v(this,e),this.auth=t,this.counter=ps,this._widgets=new Map}return y(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new ms(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||ps;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||ps;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Nt(Pt().mark((function e(t){var n,r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||ps,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ms=function(){function e(t,n,r){var i=this;v(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;yr(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return y(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var ys=ds("rcb"),gs=new Ir(3e4,6e4),ks="https://www.google.com/recaptcha/api.js?",ws=function(){function e(){v(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Go().grecaptcha}return y(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return yr(bs(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Go().grecaptcha):new Promise((function(r,i){var a=Go().setTimeout((function(){i(dr(e,"network-request-failed"))}),gs.get());Go()[ys]=function(){Go().clearTimeout(a),delete Go()[ys];var o=Go().grecaptcha;if(o){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(dr(e,"internal-error"))},hs("".concat(ks,"?").concat(xt({onload:ys,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(dr(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!Go().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function bs(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var xs=function(){function e(){v(this,e)}return y(e,[{key:"load",value:function(){var e=Nt(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new vs(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Es="recaptcha",Ts={theme:"light",type:"image"},Is=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Ts),r=arguments.length>2?arguments[2]:void 0;v(this,e),this.parameters=n,this.type=Es,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ai(r),this.isInvisible="invisible"===this.parameters.size,yr("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;yr(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new xs:new ws,this.validateStartingState()}return y(e,[{key:"verify",value:function(){var e=Nt(Pt().mark((function e(){var t,n,r,i=this;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){yr(!this.parameters.sitekey,this.auth,"argument-error"),yr(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),yr("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Go()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){yr(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Nt(Pt().mark((function e(){var t,n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Nt(Pt().mark((function e(){var t;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yr(Er()&&!Ko(),this.auth,"internal-error"),e.next=3,Ss();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,ls(this.auth);case 8:yr(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return yr(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Ss(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var _s=function(){function e(t,n){v(this,e),this.verificationId=t,this.onConfirmation=n}return y(e,[{key:"confirm",value:function(e){var t=da._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Cs(){return(Cs=Nt(Pt().mark((function e(t,n,r){var i,a;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ai(t),e.next=3,Ps(i,n,Ct(r));case 3:return a=e.sent,e.abrupt("return",new _s(a,(function(e){return qa(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function As(e,t,n){return Ns.apply(this,arguments)}function Ns(){return(Ns=Nt(Pt().mark((function e(t,n,r){var i,a;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ct(t),e.next=3,Fa(!1,i,"phone");case 3:return e.next=5,Ps(i.auth,n,Ct(r));case 5:return a=e.sent,e.abrupt("return",new _s(a,(function(e){return Ka(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Os(){return(Os=Nt(Pt().mark((function e(t,n,r){var i,a;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ct(t),e.next=3,Ps(i.auth,n,Ct(r));case 3:return a=e.sent,e.abrupt("return",new _s(a,(function(e){return Ha(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ps(e,t,n){return Ds.apply(this,arguments)}function Ds(){return Ds=Nt(Pt().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,yr("string"===typeof a,t,"argument-error"),yr(r.type===Es,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return yr("enroll"===s.type,t,"internal-error"),e.next=13,Oo(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return yr("signin"===s.type,t,"internal-error"),yr(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,cs(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,sa(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Ds.apply(this,arguments)}function Rs(){return(Rs=Nt(Pt().mark((function e(t,n){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,La(Ct(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ls=function(){function e(t){v(this,e),this.providerId=e.PROVIDER_ID,this.auth=Ai(t)}return y(e,[{key:"verifyPhoneNumber",value:function(e,t){return Ps(this.auth,e,Ct(t))}}],[{key:"credential",value:function(e,t){return da._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?da._fromTokenResponse(n,r):null}}]),e}();function Ms(e,t){return t?br(t):(yr(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ls.PROVIDER_ID="phone",Ls.PHONE_SIGN_IN_METHOD="phone";var Fs=function(e){C(n,e);var t=O(n);function n(e){var r;return v(this,n),(r=t.call(this,"custom","custom")).params=e,r}return y(n,[{key:"_getIdTokenResponse",value:function(e){return ia(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return ia(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return ia(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Ri);function Us(e){return ja(e.auth,new Fs(e),e.bypassAuthState)}function Vs(e){var t=e.auth,n=e.user;return yr(n,t,"internal-error"),Va(n,new Fs(e),e.bypassAuthState)}function Bs(e){return js.apply(this,arguments)}function js(){return(js=Nt(Pt().mark((function e(t){var n,r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,yr(r=t.user,n,"internal-error"),e.abrupt("return",La(r,new Fs(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var zs=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];v(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return y(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Nt(Pt().mark((function t(n,r){return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Nt(Pt().mark((function e(t){var n,r,i,a,o,s,u;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Us;case"linkViaPopup":case"linkViaRedirect":return Bs;case"reauthViaPopup":case"reauthViaRedirect":return Vs;default:hr(this.auth,"internal-error")}}},{key:"resolve",value:function(e){kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),qs=new Ir(2e3,1e4);function Gs(e,t,n){return Ks.apply(this,arguments)}function Ks(){return(Ks=Nt(Pt().mark((function e(t,n,r){var i,a,o;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ai(t),vr(t,n,ma),a=Ms(i,r),o=new Ys(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ws(){return(Ws=Nt(Pt().mark((function e(t,n,r){var i,a,o;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return vr((i=Ct(t)).auth,n,ma),a=Ms(i.auth,r),o=new Ys(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hs(e,t,n){return Qs.apply(this,arguments)}function Qs(){return(Qs=Nt(Pt().mark((function e(t,n,r){var i,a,o;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return vr((i=Ct(t)).auth,n,ma),a=Ms(i.auth,r),o=new Ys(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ys=function(e){C(n,e);var t=O(n);function n(e,r,i,a,o){var s;return v(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=I(s),s}return y(n,[{key:"executeNotNull",value:function(){var e=Nt(Pt().mark((function e(){var t;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return yr(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Nt(Pt().mark((function e(){var t,n=this;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return kr(1===this.filter.length,"Popup operations only handle one event"),t=zo(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(dr(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(dr(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(dr(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,qs.get())}()}}]),n}(zs);Ys.currentPopupAction=null;var Xs=new Map,Js=function(e){C(n,e);var t=O(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return v(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return y(n,[{key:"execute",value:function(){var e=Nt(Pt().mark((function e(){var t,r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Xs.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Zs(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Wn(A(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Xs.set(this.auth._key(),t);case 21:return this.bypassAuthState||Xs.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Nt(Pt().mark((function e(t){var r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Wn(A(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Wn(A(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Nt(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(zs);function Zs(e,t){return $s.apply(this,arguments)}function $s(){return($s=Nt(Pt().mark((function e(t,n){var r,i,a;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ru(n),i=nu(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eu(e,t){return tu.apply(this,arguments)}function tu(){return(tu=Nt(Pt().mark((function e(t,n){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nu(t)._set(ru(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nu(e){return br(e._redirectPersistence)}function ru(e){return di("pendingRedirect",e.config.apiKey,e.name)}function iu(e,t,n){return function(e,t,n){return au.apply(this,arguments)}(e,t,n)}function au(){return(au=Nt(Pt().mark((function e(t,n,r){var i,a;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ai(t),vr(t,n,ma),a=Ms(i,r),e.next=5,eu(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ou(e,t,n){return function(e,t,n){return su.apply(this,arguments)}(e,t,n)}function su(){return(su=Nt(Pt().mark((function e(t,n,r){var i,a,o;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return vr((i=Ct(t)).auth,n,ma),a=Ms(i.auth,r),e.next=5,eu(a,i.auth);case 5:return e.next=7,pu(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uu(e,t,n){return function(e,t,n){return cu.apply(this,arguments)}(e,t,n)}function cu(){return(cu=Nt(Pt().mark((function e(t,n,r){var i,a,o;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return vr((i=Ct(t)).auth,n,ma),a=Ms(i.auth,r),e.next=5,Fa(!1,i,n.providerId);case 5:return e.next=7,eu(a,i.auth);case 7:return e.next=9,pu(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lu(e,t){return fu.apply(this,arguments)}function fu(){return(fu=Nt(Pt().mark((function e(t,n){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ai(t)._initializationPromise;case 2:return e.abrupt("return",hu(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hu(e,t){return du.apply(this,arguments)}function du(){return du=Nt(Pt().mark((function e(t,n){var r,i,a,o,s,u=arguments;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=Ai(t),a=Ms(i,n),o=new Js(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),du.apply(this,arguments)}function pu(e){return vu.apply(this,arguments)}function vu(){return(vu=Nt(Pt().mark((function e(t){var n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=zo("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var mu=function(){function e(t){v(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return y(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gu(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!gu(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(dr(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(yu(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(yu(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function yu(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function gu(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function ku(e){return wu.apply(this,arguments)}function wu(){return wu=Nt(Pt().mark((function e(t){var n,r=arguments;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Or(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),wu.apply(this,arguments)}var bu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xu=/^https?/;function Eu(){return(Eu=Nt(Pt().mark((function e(t){var n,r,i,a,o;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ku(t);case 4:n=e.sent,r=n.authorizedDomains,i=$e(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Tu(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:hr(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function Tu(e){var t=xr(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!xu.test(r))return!1;if(bu.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Iu=new Ir(3e4,6e4);function Su(){var e=Go().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=p(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var _u=null;function Cu(e){return _u=_u||function(e){return new Promise((function(t,n){var r,i,a;function o(){Su(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Su(),n(dr(e,"network-request-failed"))},timeout:Iu.get()})}if(null===(i=null===(r=Go().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Go().gapi)||void 0===a?void 0:a.load)){var s=ds("iframefcb");return Go()[s]=function(){gapi.load?o():n(dr(e,"network-request-failed"))},hs("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw _u=null,e}))}(e),_u}var Au=new Ir(5e3,15e3),Nu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ou=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Pu(e){var t=e.config;yr(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Sr(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:hn},i=Ou.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(xt(r).slice(1))}function Du(e){return Ru.apply(this,arguments)}function Ru(){return Ru=Nt(Pt().mark((function e(t){var n,r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cu(t);case 2:return n=e.sent,yr(r=Go().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Pu(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Nu,dontclear:!0},(function(e){return new Promise(function(){var n=Nt(Pt().mark((function n(r,i){var a,o,s;return Pt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){Go().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=dr(t,"network-request-failed"),o=Go().setTimeout((function(){i(a)}),Au.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Ru.apply(this,arguments)}var Lu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Mu="_blank",Fu="http://localhost",Uu=function(){function e(t){v(this,e),this.window=t,this.associatedEvent=null}return y(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Vu(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},Lu),{width:r.toString(),height:i.toString(),top:a,left:o}),c=ut().toLowerCase();n&&(s=gi(c)?Mu:n),mi(c)&&(t=t||Fu,u.scrollbars="yes");var l=Object.entries(u).reduce((function(e,t){var n=f(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Ti(c)&&"_self"!==s)return Bu(t||"",s),new Uu(null);var h=window.open(t||"",s,l);yr(h,e,"popup-blocked");try{h.focus()}catch(d){}return new Uu(h)}function Bu(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var ju="__/auth/handler",zu="emulator/auth/handler";function qu(e,t,n,r,i,a){yr(e.config.authDomain,e,"auth-domain-config-required"),yr(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:hn,eventId:i};if(t instanceof ma){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,u=Object.entries(a||{});s<u.length;s++){var c=f(u[s],2),l=c[0],h=c[1];o[l]=h}}if(t instanceof ya){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(ju);return Sr(t,zu)}(e),"?").concat(xt(p).slice(1))}var Gu="webStorageSupport",Ku=function(){function e(){v(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vo,this._completeRedirectFn=hu}return y(e,[{key:"_openPopup",value:function(){var e=Nt(Pt().mark((function e(t,n,r,i){var a,o;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return kr(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=qu(t,n,r,xr(),i),e.abrupt("return",Vu(t,o,zo()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Nt(Pt().mark((function e(t,n,r,i){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=qu(t,n,r,xr(),i),Go().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(kr(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Nt(Pt().mark((function e(t){var n,r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Du(t);case 2:return n=e.sent,r=new mu(t),n.register("authEvent",(function(e){return yr(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Gu,{type:Gu},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),hr(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Eu.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Si()||yi()||Ei()}}]),e}(),Wu=Ku,Hu=function(e){C(n,e);var t=O(n);function n(e){var r;return v(this,n),(r=t.call(this,"phone")).credential=e,r}return y(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Or(e,"POST","/v2/accounts/mfaEnrollment:finalize",Nr(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Or(e,"POST","/v2/accounts/mfaSignIn:finalize",Nr(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){v(this,e),this.factorId=t}return y(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return gr("unexpected MultiFactorSessionType")}}}]),e}()),Qu=function(){function e(){v(this,e)}return y(e,null,[{key:"assertion",value:function(e){return Hu._fromCredential(e)}}]),e}();Qu.FACTOR_ID="phone";var Yu,Xu="@firebase/auth",Ju="0.19.9",Zu=function(){function e(t){v(this,e),this.auth=t,this.internalListeners=new Map}return y(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Nt(Pt().mark((function e(t){var n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){yr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function $u(){return window}Yu="Browser",an(new Dt("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=r.options,a=i.apiKey,o=i.authDomain;return function(e){yr(a&&!a.includes(":"),"invalid-api-key",{appName:e.name}),yr(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:e.name});var t={apiKey:a,authDomain:o,clientPlatform:Yu,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_i(Yu)},r=new Ci(e,t);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(br);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(r,n),r}(r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),an(new Dt("auth-internal",(function(e){return function(e){return new Zu(e)}(Ai(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),gn(Xu,Ju,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Yu)),gn(Xu,Ju,"esm2017");function ec(e,t,n){return tc.apply(this,arguments)}function tc(){return tc=Nt(Pt().mark((function e(t,n,r){var i,a,o,s,u;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=$u(),o=a.BuildInfo,kr(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,sc(n.sessionId);case 4:return s=e.sent,u={},Ei()?u.ibi=o.packageName:wi()?u.apn=o.packageName:hr(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",qu(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),tc.apply(this,arguments)}function nc(){return(nc=Nt(Pt().mark((function e(t){var n,r,i;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=$u(),r=n.BuildInfo,i={},Ei()?i.iosBundleId=r.packageName:wi()?i.androidPackageName=r.packageName:hr(t,"operation-not-supported-in-this-environment"),e.next=5,ku(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rc(e){var t=$u().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function ic(e,t,n){return ac.apply(this,arguments)}function ac(){return ac=Nt(Pt().mark((function e(t,n,r){var i,a,o;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=$u(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(dr(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),wi()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),ac.apply(this,arguments)}function oc(e){var t,n,r,i,a,o,s,u,c,l,f=$u();yr("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),yr("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),yr("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),yr("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),yr("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function sc(e){return uc.apply(this,arguments)}function uc(){return(uc=Nt(Pt().mark((function e(t){var n,r,i;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cc(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cc(e){if(kr(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var lc=function(e){C(n,e);var t=O(n);function n(){var e;return v(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return y(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Wn(A(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Nt(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(mu);function fc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:mc(),postBody:null,tenantId:e.tenantId,error:dr(e,"no-auth-event")}}function hc(e,t){return yc()._set(gc(e),t)}function dc(e){return pc.apply(this,arguments)}function pc(){return(pc=Nt(Pt().mark((function e(t){var n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yc()._get(gc(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,yc()._remove(gc(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vc(e,t){var n,r,i=function(e){var t=kc(e),n=t.link?decodeURIComponent(t.link):void 0,r=kc(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return kc(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=kc(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?dr(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function mc(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function yc(){return br(Fo)}function gc(e){return di("authEvent",e.config.apiKey,e.name)}function kc(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=s(t=n)||d(t)||c(t)||l();r[0];return Et(r.slice(1).join("?"))}var wc=function(){function e(){v(this,e),this._redirectPersistence=Vo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=hu}return y(e,[{key:"_initialize",value:function(){var e=Nt(Pt().mark((function e(t){var n,r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new lc(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){hr(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Nt(Pt().mark((function e(t,n,r,i){var a,o,s,u;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return oc(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Xs.clear(),e.next=10,this._originValidation(t);case 10:return o=fc(t,r,i),e.next=13,hc(t,o);case 13:return e.next=15,ec(t,o,n);case 15:return s=e.sent,e.next=18,rc(s);case 18:return u=e.sent,e.abrupt("return",ic(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return nc.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=$u(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Nt(Pt().mark((function n(){return Pt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,dc(e);case 2:t.onEvent(xc());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=Nt(Pt().mark((function n(r){var i,a;return Pt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,dc(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=vc(i,r.url)),t.onEvent(a||xc());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");$u().handleOpenURL=function(){var e=Nt(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),bc=wc;function xc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:dr("no-auth-event")}}function Ec(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Tc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut();return!("file:"!==Ec()&&"ionic:"!==Ec()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ic(){return dt()&&11===(null===document||void 0===document?void 0:document.documentMode)}function Sc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut();return/Edge\/\d+/.test(e)}function _c(){try{var e=self.localStorage,t=zo();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut();return Ic()||Sc(e)}()||pt()}catch(n){return Cc()&&pt()}return!1}function Cc(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Ac(){return("http:"===Ec()||"https:"===Ec()||ft()||Tc())&&!(ht()||lt())&&_c()&&!Cc()}function Nc(){return Tc()&&"undefined"!==typeof document}function Oc(){return Pc.apply(this,arguments)}function Pc(){return(Pc=Nt(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Nc()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Dc={LOCAL:"local",NONE:"none",SESSION:"session"},Rc=yr,Lc="persistence";function Mc(e,t){Rc(Object.values(Dc).includes(t),e,"invalid-persistence-type"),ht()?Rc(t!==Dc.SESSION,e,"unsupported-persistence-type"):lt()?Rc(t===Dc.NONE,e,"unsupported-persistence-type"):Cc()?Rc(t===Dc.NONE||t===Dc.LOCAL&&pt(),e,"unsupported-persistence-type"):Rc(t===Dc.NONE||_c(),e,"unsupported-persistence-type")}function Fc(e){return Uc.apply(this,arguments)}function Uc(){return(Uc=Nt(Pt().mark((function e(t){var n,r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Vc(),r=di(Lc,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vc(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var Bc=yr,jc=function(){function e(){v(this,e),this.browserResolver=br(Wu),this.cordovaResolver=br(bc),this.underlyingResolver=null,this._redirectPersistence=Vo,this._completeRedirectFn=hu}return y(e,[{key:"_initialize",value:function(){var e=Nt(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Nt(Pt().mark((function e(t,n,r,i){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Nt(Pt().mark((function e(t,n,r,i){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Nc()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Bc(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Nt(Pt().mark((function e(){var t;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Oc();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function zc(e){return e.unwrap()}function qc(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new Qc(e,function(e,t){var n,r=Ct(e),i=t;return yr(t.customData.operationType,r,"argument-error"),yr(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),No._fromError(r,i)}(e,t));else if(r){var i=Gc(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function Gc(e){var t=(e instanceof vt?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof vt)&&"temporaryProof"in t&&"phoneNumber"in t)return Ls.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Zn)return null;switch(r){case Jn:n=wa;break;case Yn:n=ka;break;case Xn:n=ba;break;case $n:n=Ta;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?xa._create(r,s):oa._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new ga(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof vt?n.credentialFromError(e):n.credentialFromResult(e)}function Kc(e,t){return t.catch((function(t){throw t instanceof vt&&qc(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Gc(t)),additionalUserInfo:Co(e),user:Yc.getOrCreate(r)}}))}function Wc(e,t){return Hc.apply(this,arguments)}function Hc(){return(Hc=Nt(Pt().mark((function e(t,n){var r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Kc(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Qc=function(){function e(t,n){v(this,e),this.resolver=n,this.auth=t.wrapped()}return y(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Kc(zc(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Yc=function(){function e(t){v(this,e),this._delegate=t,this.multiFactor=function(e){var t=Ct(e);return Do.has(t)||Do.set(t,Po._fromUser(t)),Do.get(t)}(t)}return y(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Nt(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kc(this.auth,Ka(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Nt(Pt().mark((function e(t,n){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wc(this.auth,As(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Nt(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kc(this.auth,Hs(this._delegate,t,jc)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Nt(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fc(Ai(this.auth));case 2:return e.abrupt("return",uu(this._delegate,t,jc));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Nt(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kc(this.auth,Ha(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Wc(this.auth,function(e,t,n){return Os.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Kc(this.auth,function(e,t,n){return Ws.apply(this,arguments)}(this._delegate,e,jc))}},{key:"reauthenticateWithRedirect",value:function(){var e=Nt(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fc(Ai(this.auth));case 2:return e.abrupt("return",ou(this._delegate,t,jc));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return vo.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Nt(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Da(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return wo(Ct(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return wo(Ct(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Rs.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return ko.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return mo.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Yc.USER_MAP=new WeakMap;var Xc=yr,Jc=function(){function e(t,n){if(v(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Xc(r,"invalid-api-key",{appName:t.name}),Xc(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?jc:void 0;this._delegate=n.initialize({options:{persistence:$c(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(sr),this.linkUnderlyingAuth()}return y(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Yc.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Oi(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return ro.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return io(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return no.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Nt(Pt().mark((function e(t,n){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kc(this._delegate,so(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return po.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=pa.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Nt(Pt().mark((function e(){var t;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xc(Ac(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,lu(this._delegate,jc);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Kc(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Ai(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Zc(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Zc(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return co.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return to.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Nt(Pt().mark((function e(t){var n,r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Mc(this._delegate,t),e.t0=t,e.next=e.t0===Dc.SESSION?4:e.t0===Dc.LOCAL?6:e.t0===Dc.NONE?11:13;break;case 4:return n=Vo,e.abrupt("break",14);case 6:return e.next=8,br(us)._isAvailable();case 8:return r=e.sent,n=r?us:Fo,e.abrupt("break",14);case 11:return n=hi,e.abrupt("break",14);case 13:return e.abrupt("return",hr("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Kc(this._delegate,function(e){return Aa.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Kc(this._delegate,qa(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Kc(this._delegate,function(e,t){return Ja.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Kc(this._delegate,function(e,t,n){return qa(Ct(e),va.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Kc(this._delegate,function(e,t,n){return lo.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Wc(this._delegate,function(e,t,n){return Cs.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Nt(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xc(Ac(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Kc(this._delegate,Gs(this._delegate,t,jc)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Nt(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xc(Ac(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Fc(this._delegate);case 3:return e.abrupt("return",iu(this._delegate,t,jc));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return oo.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Zc(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Yc.getOrCreate(e))},error:t,complete:n}}function $c(e,t){var n=function(e,t){var n=Vc();if(!n)return[];var r=di(Lc,e,t);switch(n.getItem(r)){case Dc.NONE:return[hi];case Dc.LOCAL:return[us,Vo];case Dc.SESSION:return[Vo];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(us)||n.push(us),"undefined"!==typeof window)for(var r=0,i=[Fo,Vo];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(hi)||n.push(hi),n}Jc.Persistence=Dc;var el=function(){function e(){v(this,e),this.providerId="phone",this._delegate=new Ls(zc(Gn.auth()))}return y(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Ls.credential(e,t)}}]),e}();el.PHONE_SIGN_IN_METHOD=Ls.PHONE_SIGN_IN_METHOD,el.PROVIDER_ID=Ls.PROVIDER_ID;var tl,nl=yr,rl=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Gn.app();v(this,e),nl(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Is(t,n,i.auth()),this.type=this._delegate.type}return y(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(tl=Gn).INTERNAL.registerComponent(new Dt("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Jc(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:er,PASSWORD_RESET:tr,RECOVER_EMAIL:nr,REVERT_SECOND_FACTOR_ADDITION:rr,VERIFY_AND_CHANGE_EMAIL:ir,VERIFY_EMAIL:ar}},EmailAuthProvider:va,FacebookAuthProvider:ka,GithubAuthProvider:ba,GoogleAuthProvider:wa,OAuthProvider:ga,SAMLAuthProvider:Ea,PhoneAuthProvider:el,PhoneMultiFactorGenerator:Qu,RecaptchaVerifier:rl,TwitterAuthProvider:Ta,Auth:Jc,AuthCredential:Ri,Error:vt}).setInstantiationMode("LAZY").setMultipleInstances(!1)),tl.registerVersion("@firebase/auth-compat","0.2.9");var il,al="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},ol={},sl=sl||{},ul=al||self;function cl(){}function ll(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function fl(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var hl="closure_uid_"+(1e9*Math.random()>>>0),dl=0;function pl(e,t,n){return e.call.apply(e.bind,arguments)}function vl(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function ml(e,t,n){return(ml=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?pl:vl).apply(null,arguments)}function yl(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function gl(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function kl(){this.s=this.s,this.o=this.o}var wl={};kl.prototype.s=!1,kl.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,hl)&&e[hl]||(e[hl]=++dl)}(this);delete wl[e]}},kl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var bl=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},xl=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function El(e){return Array.prototype.concat.apply([],arguments)}function Tl(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Il(e){return/^[\s\xa0]*$/.test(e)}var Sl,_l=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Cl(e,t){return-1!=e.indexOf(t)}function Al(e,t){return e<t?-1:e>t?1:0}e:{var Nl=ul.navigator;if(Nl){var Ol=Nl.userAgent;if(Ol){Sl=Ol;break e}}Sl=""}function Pl(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Dl(e){var t={};for(var n in e)t[n]=e[n];return t}var Rl="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ll(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Rl.length;a++)n=Rl[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ml(e){return Ml[" "](e),e}Ml[" "]=cl;var Fl,Ul=Cl(Sl,"Opera"),Vl=Cl(Sl,"Trident")||Cl(Sl,"MSIE"),Bl=Cl(Sl,"Edge"),jl=Bl||Vl,zl=Cl(Sl,"Gecko")&&!(Cl(Sl.toLowerCase(),"webkit")&&!Cl(Sl,"Edge"))&&!(Cl(Sl,"Trident")||Cl(Sl,"MSIE"))&&!Cl(Sl,"Edge"),ql=Cl(Sl.toLowerCase(),"webkit")&&!Cl(Sl,"Edge");function Gl(){var e=ul.document;return e?e.documentMode:void 0}e:{var Kl="",Wl=function(){var e=Sl;return zl?/rv:([^\);]+)(\)|;)/.exec(e):Bl?/Edge\/([\d\.]+)/.exec(e):Vl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):ql?/WebKit\/(\S+)/.exec(e):Ul?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Wl&&(Kl=Wl?Wl[1]:""),Vl){var Hl=Gl();if(null!=Hl&&Hl>parseFloat(Kl)){Fl=String(Hl);break e}}Fl=Kl}var Ql,Yl={};function Xl(){return function(e){var t=Yl;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=_l(String(Fl)).split("."),n=_l("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Al(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Al(0==a[2].length,0==o[2].length)||Al(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(ul.document&&Vl){var Jl=Gl();Ql=Jl||(parseInt(Fl,10)||void 0)}else Ql=void 0;var Zl=Ql,$l=function(){if(!ul.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ul.addEventListener("test",cl,t),ul.removeEventListener("test",cl,t)}catch(n){}return e}();function ef(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function tf(e,t){if(ef.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(zl){e:{try{Ml(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:nf[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&tf.Z.h.call(this)}}ef.prototype.h=function(){this.defaultPrevented=!0},gl(tf,ef);var nf={2:"touch",3:"pen",4:"mouse"};tf.prototype.h=function(){tf.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var rf="closure_listenable_"+(1e6*Math.random()|0),af=0;function of(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++af,this.ca=this.fa=!1}function sf(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function uf(e){this.src=e,this.g={},this.h=0}function cf(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=bl(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(sf(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function lf(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}uf.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=lf(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new of(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var ff="closure_lm_"+(1e6*Math.random()|0),hf={};function df(e,t,n,r,i){if(r&&r.once)return vf(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)df(e,t[a],n,r,i);return null}return n=xf(n),e&&e[rf]?e.N(t,n,fl(r)?!!r.capture:!!r,i):pf(e,t,n,!1,r,i)}function pf(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=fl(i)?!!i.capture:!!i,s=wf(e);if(s||(e[ff]=s=new uf(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=kf;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)$l||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(gf(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function vf(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)vf(e,t[a],n,r,i);return null}return n=xf(n),e&&e[rf]?e.O(t,n,fl(r)?!!r.capture:!!r,i):pf(e,t,n,!0,r,i)}function mf(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)mf(e,t[a],n,r,i);else r=fl(r)?!!r.capture:!!r,n=xf(n),e&&e[rf]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=lf(a=e.g[t],n,r,i))&&(sf(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=wf(e))&&(t=e.g[t.toString()],e=-1,t&&(e=lf(t,n,r,i)),(n=-1<e?t[e]:null)&&yf(n))}function yf(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[rf])cf(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(gf(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=wf(t))?(cf(n,e),0==n.h&&(n.src=null,t[ff]=null)):sf(e)}}}function gf(e){return e in hf?hf[e]:hf[e]="on"+e}function kf(e,t){if(e.ca)e=!0;else{t=new tf(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&yf(e),e=n.call(r,t)}return e}function wf(e){return(e=e[ff])instanceof uf?e:null}var bf="__closure_events_fn_"+(1e9*Math.random()>>>0);function xf(e){return"function"===typeof e?e:(e[bf]||(e[bf]=function(t){return e.handleEvent(t)}),e[bf])}function Ef(){kl.call(this),this.i=new uf(this),this.P=this,this.I=null}function Tf(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new ef(t,e);else if(t instanceof ef)t.target=t.target||e;else{var i=t;Ll(t=new ef(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=If(o,r,!0,t)&&i}if(i=If(o=t.g=e,r,!0,t)&&i,i=If(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=If(o=t.g=n[a],r,!1,t)&&i}function If(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var s=o.listener,u=o.ia||o.src;o.fa&&cf(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}gl(Ef,kl),Ef.prototype[rf]=!0,Ef.prototype.removeEventListener=function(e,t,n,r){mf(this,e,t,n,r)},Ef.prototype.M=function(){if(Ef.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)sf(n[r]);delete t.g[e],t.h--}}this.I=null},Ef.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ef.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Sf=ul.JSON.stringify;function _f(){var e=Lf,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Cf,Af=function(){function e(){v(this,e),this.h=this.g=null}return y(e,[{key:"add",value:function(e,t){var n=Nf.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Nf=new(function(){function e(t,n){v(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return y(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Of}),(function(e){return e.reset()})),Of=function(){function e(){v(this,e),this.next=this.g=this.h=null}return y(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Pf(e){ul.setTimeout((function(){throw e}),0)}function Df(e,t){Cf||function(){var e=ul.Promise.resolve(void 0);Cf=function(){e.then(Mf)}}(),Rf||(Cf(),Rf=!0),Lf.add(e,t)}var Rf=!1,Lf=new Af;function Mf(){for(var e;e=_f();){try{e.h.call(e.g)}catch(n){Pf(n)}var t=Nf;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Rf=!1}function Ff(e,t){Ef.call(this),this.h=e||1,this.g=t||ul,this.j=ml(this.kb,this),this.l=Date.now()}function Uf(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Vf(e,t,n){if("function"===typeof e)n&&(e=ml(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=ml(e.handleEvent,e)}return 2147483647<Number(t)?-1:ul.setTimeout(e,t||0)}function Bf(e){e.g=Vf((function(){e.g=null,e.i&&(e.i=!1,Bf(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}gl(Ff,Ef),(il=Ff.prototype).da=!1,il.S=null,il.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Tf(this,"tick"),this.da&&(Uf(this),this.start()))}},il.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},il.M=function(){Ff.Z.M.call(this),Uf(this),delete this.g};var jf=function(e){C(n,e);var t=O(n);function n(e,r){var i;return v(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return y(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Bf(this)}},{key:"M",value:function(){Wn(A(n.prototype),"M",this).call(this),this.g&&(ul.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(kl);function zf(e){kl.call(this),this.h=e,this.g={}}gl(zf,kl);var qf=[];function Gf(e,t,n,r){Array.isArray(n)||(n&&(qf[0]=n.toString()),n=qf);for(var i=0;i<n.length;i++){var a=df(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Kf(e){Pl(e.g,(function(e,t){this.g.hasOwnProperty(t)&&yf(e)}),e),e.g={}}function Wf(){this.g=!0}function Hf(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Sf(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}zf.prototype.M=function(){zf.Z.M.call(this),Kf(this)},zf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Wf.prototype.Aa=function(){this.g=!1},Wf.prototype.info=function(){};var Qf={},Yf=null;function Xf(){return Yf=Yf||new Ef}function Jf(e){ef.call(this,Qf.Ma,e)}function Zf(e){var t=Xf();Tf(t,new Jf(t,e))}function $f(e,t){ef.call(this,Qf.STAT_EVENT,e),this.stat=t}function eh(e){var t=Xf();Tf(t,new $f(t,e))}function th(e,t){ef.call(this,Qf.Na,e),this.size=t}function nh(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return ul.setTimeout((function(){e()}),t)}Qf.Ma="serverreachability",gl(Jf,ef),Qf.STAT_EVENT="statevent",gl($f,ef),Qf.Na="timingevent",gl(th,ef);var rh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ih={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ah(){}function oh(e){return e.h||(e.h=e.i())}function sh(){}ah.prototype.h=null;var uh,ch={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function lh(){ef.call(this,"d")}function fh(){ef.call(this,"c")}function hh(){}function dh(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new zf(this),this.P=vh,e=jl?125:void 0,this.W=new Ff(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ph}function ph(){this.i=null,this.g="",this.h=!1}gl(lh,ef),gl(fh,ef),gl(hh,ah),hh.prototype.g=function(){return new XMLHttpRequest},hh.prototype.i=function(){return{}},uh=new hh;var vh=45e3,mh={},yh={};function gh(e,t,n){e.K=1,e.v=jh(Lh(t)),e.s=n,e.U=!0,kh(e,null)}function kh(e,t){e.F=Date.now(),Eh(e),e.A=Lh(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),ed(n.h,"t",r),e.C=0,n=e.l.H,e.h=new ph,e.g=np(e.l,n?t:null,!e.s),0<e.O&&(e.L=new jf(ml(e.Ia,e,e.g),e.O)),Gf(e.V,e.g,"readystatechange",e.gb),t=e.H?Dl(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Zf(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function wh(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function bh(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=xh(e,n))==yh){4==t&&(e.o=4,eh(14),i=!1),Hf(e.j,e.m,null,"[Incomplete Response]");break}if(r==mh){e.o=4,eh(15),Hf(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Hf(e.j,e.m,r,null),Ch(e,r)}wh(e)&&r!=yh&&r!=mh&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,eh(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Qd(t),t.L=!0,eh(11))):(Hf(e.j,e.m,n,"[Invalid Chunked Response]"),_h(e),Sh(e))}function xh(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?yh:(n=Number(t.substring(n,r)),isNaN(n)?mh:(r+=1)+n>t.length?yh:(t=t.substr(r,n),e.C=r+n,t))}function Eh(e){e.Y=Date.now()+e.P,Th(e,e.P)}function Th(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=nh(ml(e.eb,e),t)}function Ih(e){e.B&&(ul.clearTimeout(e.B),e.B=null)}function Sh(e){0==e.l.G||e.I||Jd(e.l,e)}function _h(e){Ih(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Uf(e.W),Kf(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Ch(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||ud(n.i,e)))if(n.I=e.N,!e.J&&ud(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Xd(n),Vd(n)}Hd(n),eh(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=nh(ml(n.ab,n),6e3));if(1>=sd(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else $d(n,11)}else if((e.J||n.g==e)&&Xd(n),!Il(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var s=a[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Cl(l,"spdy")||Cl(l,"quic")||Cl(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(cd(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Bh(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=tp(r,r.H?r.la:null,r.W),d.J){ld(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Ih(p),Eh(p)),r.g=d}else Wd(r);0<n.l.length&&zd(n)}else"stop"!=a[0]&&"close"!=a[0]||$d(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?$d(n,7):Ud(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}Zf(4)}catch(a){}}function Ah(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(ll(e)||"string"===typeof e)xl(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(ll(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(ll(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Nh(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Nh)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Oh(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Ph(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Ph(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Ph(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(il=dh.prototype).setTimeout=function(e){this.P=e},il.gb=function(e){e=e.target;var t=this.L;t&&3==Dd(e)?t.l():this.Ia(e)},il.Ia=function(e){try{if(e==this.g)e:{var t=Dd(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||jl||this.g&&(this.h.h||this.g.ga()||Rd(this.g)))){this.I||4!=t||7==n||Zf(8==n||0>=r?3:2),Ih(this);var i=this.g.ba();this.N=i;t:if(wh(this)){var a=Rd(this.g);e="";var o=a.length,s=4==Dd(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){_h(this),Sh(this);var u="";break t}this.h.i=new ul.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Il(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,eh(12),_h(this),Sh(this);break e}Hf(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ch(this,i)}this.U?(bh(this,t,u),jl&&this.i&&3==t&&(Gf(this.V,this.W,"tick",this.fb),this.W.start())):(Hf(this.j,this.m,u,null),Ch(this,u)),4==t&&_h(this),this.i&&!this.I&&(4==t?Jd(this.l,this):(this.i=!1,Eh(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,eh(12)):(this.o=0,eh(13)),_h(this),Sh(this)}}}catch(t){}},il.fb=function(){if(this.g){var e=Dd(this.g),t=this.g.ga();this.C<t.length&&(Ih(this),bh(this,e,t),this.i&&4!=e&&Eh(this))}},il.cancel=function(){this.I=!0,_h(this)},il.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Zf(3),eh(17)),_h(this),this.o=2,Sh(this)):Th(this,this.Y-e)},(il=Nh.prototype).R=function(){Oh(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},il.T=function(){return Oh(this),this.g.concat()},il.get=function(e,t){return Ph(this.h,e)?this.h[e]:t},il.set=function(e,t){Ph(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},il.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Dh=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Rh(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Rh){this.g=void 0!==t?t:e.g,Mh(this,e.j),this.s=e.s,Fh(this,e.i),Uh(this,e.m),this.l=e.l,t=e.h;var n=new Xh;n.i=t.i,t.g&&(n.g=new Nh(t.g),n.h=t.h),Vh(this,n),this.o=e.o}else e&&(n=String(e).match(Dh))?(this.g=!!t,Mh(this,n[1]||"",!0),this.s=zh(n[2]||""),Fh(this,n[3]||"",!0),Uh(this,n[4]),this.l=zh(n[5]||"",!0),Vh(this,n[6]||"",!0),this.o=zh(n[7]||"")):(this.g=!!t,this.h=new Xh(null,this.g))}function Lh(e){return new Rh(e)}function Mh(e,t,n){e.j=n?zh(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Fh(e,t,n){e.i=n?zh(t,!0):t}function Uh(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Vh(e,t,n){t instanceof Xh?(e.h=t,function(e,t){t&&!e.j&&(Jh(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Zh(this,t),ed(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=qh(t,Qh)),e.h=new Xh(t,e.g))}function Bh(e,t,n){e.h.set(t,n)}function jh(e){return Bh(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function zh(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function qh(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Gh),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Gh(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Rh.prototype.toString=function(){var e=[],t=this.j;t&&e.push(qh(t,Kh,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(qh(t,Kh,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(qh(n,"/"==n.charAt(0)?Hh:Wh,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",qh(n,Yh)),e.join("")};var Kh=/[#\/\?@]/g,Wh=/[#\?:]/g,Hh=/[#\?]/g,Qh=/[#\?@]/g,Yh=/#/g;function Xh(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Jh(e){e.g||(e.g=new Nh,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Zh(e,t){Jh(e),t=td(e,t),Ph(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Ph((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Oh(e)))}function $h(e,t){return Jh(e),t=td(e,t),Ph(e.g.h,t)}function ed(e,t,n){Zh(e,t),0<n.length&&(e.i=null,e.g.set(td(e,t),Tl(n)),e.h+=n.length)}function td(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(il=Xh.prototype).add=function(e,t){Jh(this),this.i=null,e=td(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},il.forEach=function(e,t){Jh(this),this.g.forEach((function(n,r){xl(n,(function(n){e.call(t,n,r,this)}),this)}),this)},il.T=function(){Jh(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},il.R=function(e){Jh(this);var t=[];if("string"===typeof e)$h(this,e)&&(t=El(t,this.g.get(td(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=El(t,e[n])}return t},il.set=function(e,t){return Jh(this),this.i=null,$h(this,e=td(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},il.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},il.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var nd=y((function e(t,n){v(this,e),this.h=t,this.g=n}));function rd(e){this.l=e||ad,ul.PerformanceNavigationTiming?e=0<(e=ul.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(ul.g&&ul.g.Ea&&ul.g.Ea()&&ul.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var id,ad=10;function od(e){return!!e.h||!!e.g&&e.g.size>=e.j}function sd(e){return e.h?1:e.g?e.g.size:0}function ud(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function cd(e,t){e.g?e.g.add(t):e.h=t}function ld(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function fd(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=$e(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Tl(e.i)}function hd(){}function dd(){this.g=new hd}function pd(e,t,n){var r=n||"";try{Ah(e,(function(e,n){var i=e;fl(e)&&(i=Sf(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function vd(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function md(e){this.l=e.$b||null,this.j=e.ib||!1}function yd(e,t){Ef.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=gd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rd.prototype.cancel=function(){if(this.i=fd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=$e(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},hd.prototype.stringify=function(e){return ul.JSON.stringify(e,void 0)},hd.prototype.parse=function(e){return ul.JSON.parse(e,void 0)},gl(md,ah),md.prototype.g=function(){return new yd(this.l,this.j)},md.prototype.i=(id={},function(){return id}),gl(yd,Ef);var gd=0;function kd(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function wd(e){e.readyState=4,e.l=null,e.j=null,e.A=null,bd(e)}function bd(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(il=yd.prototype).open=function(e,t){if(this.readyState!=gd)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,bd(this)},il.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||ul).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},il.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,wd(this)),this.readyState=gd},il.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,bd(this)),this.g&&(this.readyState=3,bd(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof ul.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;kd(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},il.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?wd(this):bd(this),3==this.readyState&&kd(this)}},il.Ua=function(e){this.g&&(this.response=this.responseText=e,wd(this))},il.Ta=function(e){this.g&&(this.response=e,wd(this))},il.ha=function(){this.g&&wd(this)},il.setRequestHeader=function(e,t){this.v.append(e,t)},il.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},il.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(yd.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var xd=ul.JSON.parse;function Ed(e){Ef.call(this),this.headers=new Nh,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Td,this.K=this.L=!1}gl(Ed,Ef);var Td="",Id=/^https?$/i,Sd=["POST","PUT"];function _d(e){return"content-type"==e.toLowerCase()}function Cd(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Ad(e),Od(e)}function Ad(e){e.D||(e.D=!0,Tf(e,"complete"),Tf(e,"error"))}function Nd(e){if(e.h&&"undefined"!=typeof sl&&(!e.C[1]||4!=Dd(e)||2!=e.ba()))if(e.v&&4==Dd(e))Vf(e.Fa,0,e);else if(Tf(e,"readystatechange"),4==Dd(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Dh)[1]||null;if(!a&&ul.self&&ul.self.location){var o=ul.self.location.protocol;a=o.substr(0,o.length-1)}i=!Id.test(a?a.toLowerCase():"")}t=i}if(t)Tf(e,"complete"),Tf(e,"success");else{e.m=6;try{var s=2<Dd(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",Ad(e)}}finally{Od(e)}}}function Od(e,t){if(e.g){Pd(e);var n=e.g,r=e.C[0]?cl:null;e.g=null,e.C=null,t||Tf(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Pd(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(ul.clearTimeout(e.A),e.A=null)}function Dd(e){return e.g?e.g.readyState:0}function Rd(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Td:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Ld(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Pl(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Bh(e,t,n))}function Md(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Fd(e){this.za=0,this.l=[],this.h=new Wf,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Md("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Md("baseRetryDelayMs",5e3,e),this.$a=Md("retryDelaySeedMs",1e4,e),this.Ya=Md("forwardChannelMaxRetries",2,e),this.ra=Md("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new rd(e&&e.concurrentRequestLimit),this.Ca=new dd,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Ud(e){if(Bd(e),3==e.G){var t=e.V++,n=Lh(e.F);Bh(n,"SID",e.J),Bh(n,"RID",t),Bh(n,"TYPE","terminate"),Gd(e,n),(t=new dh(e,e.h,t,void 0)).K=2,t.v=jh(Lh(n)),n=!1,ul.navigator&&ul.navigator.sendBeacon&&(n=ul.navigator.sendBeacon(t.v.toString(),"")),!n&&ul.Image&&((new Image).src=t.v,n=!0),n||(t.g=np(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Eh(t)}ep(e)}function Vd(e){e.g&&(Qd(e),e.g.cancel(),e.g=null)}function Bd(e){Vd(e),e.u&&(ul.clearTimeout(e.u),e.u=null),Xd(e),e.i.cancel(),e.m&&("number"===typeof e.m&&ul.clearTimeout(e.m),e.m=null)}function jd(e,t){e.l.push(new nd(e.Za++,t)),3==e.G&&zd(e)}function zd(e){od(e.i)||e.m||(e.m=!0,Df(e.Ha,e),e.C=0)}function qd(e,t){var n;n=t?t.m:e.V++;var r=Lh(e.F);Bh(r,"SID",e.J),Bh(r,"RID",n),Bh(r,"AID",e.U),Gd(e,r),e.o&&e.s&&Ld(r,e.o,e.s),n=new dh(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Kd(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),cd(e.i,n),gh(n,r,t)}function Gd(e,t){e.j&&Ah({},(function(e,n){Bh(t,n,e)}))}function Kd(e,t,n){n=Math.min(e.l.length,n);var r=e.j?ml(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{pd(l,o,"req"+c+"_")}catch(Np){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Wd(e){e.g||e.u||(e.Y=1,Df(e.Ga,e),e.A=0)}function Hd(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=nh(ml(e.Ga,e),Zd(e,e.A)),e.A++,!0)}function Qd(e){null!=e.B&&(ul.clearTimeout(e.B),e.B=null)}function Yd(e){e.g=new dh(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Lh(e.oa);Bh(t,"RID","rpc"),Bh(t,"SID",e.J),Bh(t,"CI",e.N?"0":"1"),Bh(t,"AID",e.U),Gd(e,t),Bh(t,"TYPE","xmlhttp"),e.o&&e.s&&Ld(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=jh(Lh(t)),n.s=null,n.U=!0,kh(n,e)}function Xd(e){null!=e.v&&(ul.clearTimeout(e.v),e.v=null)}function Jd(e,t){var n=null;if(e.g==t){Xd(e),Qd(e),e.g=null;var r=2}else{if(!ud(e.i,t))return;n=t.D,ld(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Tf(r=Xf(),new th(r,n,t,i)),zd(e)}else Wd(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(sd(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=nh(ml(e.Ha,e,t),Zd(e,e.C)),e.C++,!0))}(e,t)||2==r&&Hd(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:$d(e,5);break;case 4:$d(e,10);break;case 3:$d(e,6);break;default:$d(e,2)}}function Zd(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function $d(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=ml(e.jb,e);n||(n=new Rh("//www.google.com/images/cleardot.gif"),ul.location&&"http"==ul.location.protocol||Mh(n,"https"),jh(n)),function(e,t){var n=new Wf;if(ul.Image){var r=new Image;r.onload=yl(vd,n,r,"TestLoadImage: loaded",!0,t),r.onerror=yl(vd,n,r,"TestLoadImage: error",!1,t),r.onabort=yl(vd,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=yl(vd,n,r,"TestLoadImage: timeout",!1,t),ul.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else eh(2);e.G=0,e.j&&e.j.va(t),ep(e),Bd(e)}function ep(e){e.G=0,e.I=-1,e.j&&(0==fd(e.i).length&&0==e.l.length||(e.i.i.length=0,Tl(e.l),e.l.length=0),e.j.ua())}function tp(e,t,n){var r=function(e){return e instanceof Rh?Lh(e):new Rh(e,void 0)}(n);if(""!=r.i)t&&Fh(r,t+"."+r.i),Uh(r,r.m);else{var i=ul.location;r=function(e,t,n,r){var i=new Rh(null,void 0);return e&&Mh(i,e),t&&Fh(i,t),n&&Uh(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Pl(e.aa,(function(e,t){Bh(r,t,e)})),t=e.D,n=e.sa,t&&n&&Bh(r,t,n),Bh(r,"VER",e.ma),Gd(e,r),r}function np(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Ed(new md({ib:!0})):new Ed(e.qa)).L=e.H,t}function rp(){}function ip(){if(Vl&&!(10<=Number(Zl)))throw Error("Environmental error: no available transport.")}function ap(e,t){Ef.call(this),this.g=new Fd(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Il(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Il(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new up(this)}function op(e){lh.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function sp(){fh.call(this),this.status=1}function up(e){this.g=e}(il=Ed.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():uh.g(),this.C=this.u?oh(this.u):oh(uh),this.g.onreadystatechange=ml(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Cd(this,a)}e=n||"";var i=new Nh(this.headers);r&&Ah(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=_d,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=ul.FormData&&e instanceof ul.FormData,!(0<=bl(Sd,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Pd(this),0<this.B&&((this.K=function(e){return Vl&&Xl()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ml(this.pa,this)):this.A=Vf(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Cd(this,a)}},il.pa=function(){"undefined"!=typeof sl&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Tf(this,"timeout"),this.abort(8))},il.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Tf(this,"complete"),Tf(this,"abort"),Od(this))},il.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Od(this,!0)),Ed.Z.M.call(this)},il.Fa=function(){this.s||(this.F||this.v||this.l?Nd(this):this.cb())},il.cb=function(){Nd(this)},il.ba=function(){try{return 2<Dd(this)?this.g.status:-1}catch(id){return-1}},il.ga=function(){try{return this.g?this.g.responseText:""}catch(id){return""}},il.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),xd(t)}},il.Da=function(){return this.m},il.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(il=Fd.prototype).ma=8,il.G=1,il.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},il.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new dh(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Ll(n=Dl(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Kd(this,t,r),Bh(i=Lh(this.F),"RID",e),Bh(i,"CVER",22),this.D&&Bh(i,"X-HTTP-Session-Id",this.D),Gd(this,i),this.o&&n&&Ld(i,this.o,n),cd(this.i,t),this.Ra&&Bh(i,"TYPE","init"),this.ja?(Bh(i,"$req",r),Bh(i,"SID","null"),t.$=!0,gh(t,i,null)):gh(t,i,r),this.G=2}}else 3==this.G&&(e?qd(this,e):0==this.l.length||od(this.i)||qd(this))},il.Ga=function(){if(this.u=null,Yd(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=nh(ml(this.bb,this),e)}},il.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,eh(10),Vd(this),Yd(this))},il.ab=function(){null!=this.v&&(this.v=null,Vd(this),Hd(this),eh(19))},il.jb=function(e){e?(this.h.info("Successfully pinged google.com"),eh(2)):(this.h.info("Failed to ping google.com"),eh(1))},(il=rp.prototype).xa=function(){},il.wa=function(){},il.va=function(){},il.ua=function(){},il.Oa=function(){},ip.prototype.g=function(e,t){return new ap(e,t)},gl(ap,Ef),ap.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Df(ml(e.hb,e,t))),eh(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=tp(e,null,e.W),zd(e)},ap.prototype.close=function(){Ud(this.g)},ap.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,jd(this.g,t)}else this.v?((t={}).__data__=Sf(e),jd(this.g,t)):jd(this.g,e)},ap.prototype.M=function(){this.g.j=null,delete this.j,Ud(this.g),delete this.g,ap.Z.M.call(this)},gl(op,lh),gl(sp,fh),gl(up,rp),up.prototype.xa=function(){Tf(this.g,"a")},up.prototype.wa=function(e){Tf(this.g,new op(e))},up.prototype.va=function(e){Tf(this.g,new sp(e))},up.prototype.ua=function(){Tf(this.g,"b")},ip.prototype.createWebChannel=ip.prototype.g,ap.prototype.send=ap.prototype.u,ap.prototype.open=ap.prototype.m,ap.prototype.close=ap.prototype.close,rh.NO_ERROR=0,rh.TIMEOUT=8,rh.HTTP_ERROR=6,ih.COMPLETE="complete",sh.EventType=ch,ch.OPEN="a",ch.CLOSE="b",ch.ERROR="c",ch.MESSAGE="d",Ef.prototype.listen=Ef.prototype.N,Ed.prototype.listenOnce=Ed.prototype.O,Ed.prototype.getLastError=Ed.prototype.La,Ed.prototype.getLastErrorCode=Ed.prototype.Da,Ed.prototype.getStatus=Ed.prototype.ba,Ed.prototype.getResponseJson=Ed.prototype.Qa,Ed.prototype.getResponseText=Ed.prototype.ga,Ed.prototype.send=Ed.prototype.ea;var cp=ol.createWebChannelTransport=function(){return new ip},lp=ol.getStatEventTarget=function(){return Xf()},fp=ol.ErrorCode=rh,hp=ol.EventType=ih,dp=ol.Event=Qf,pp=ol.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},vp=ol.FetchXmlHttpFactory=md,mp=ol.WebChannel=sh,yp=ol.XhrIo=Ed,gp="@firebase/firestore",kp=function(){function e(t){v(this,e),this.uid=t}return y(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();kp.UNAUTHENTICATED=new kp(null),kp.GOOGLE_CREDENTIALS=new kp("google-credentials-uid"),kp.FIRST_PARTY=new kp("first-party-uid"),kp.MOCK_USER=new kp("mock-user");var wp="9.6.7",bp=new Gt("@firebase/firestore");function xp(){return bp.logLevel}function Ep(e){if(bp.logLevel<=Ft.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Sp);bp.debug.apply(bp,["Firestore (".concat(wp,"): ").concat(e)].concat(p(i)))}}function Tp(e){if(bp.logLevel<=Ft.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Sp);bp.error.apply(bp,["Firestore (".concat(wp,"): ").concat(e)].concat(p(i)))}}function Ip(e){if(bp.logLevel<=Ft.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Sp);bp.warn.apply(bp,["Firestore (".concat(wp,"): ").concat(e)].concat(p(i)))}}function Sp(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function _p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(wp,") INTERNAL ASSERTION FAILED: ")+e;throw Tp(t),new Error(t)}function Cp(e,t){e||_p()}function Ap(e,t){return e}var Np={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Op=function(e){C(n,e);var t=O(n);function n(e,r){var i;return v(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return y(n)}(vt),Pp=y((function e(){var t=this;v(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Dp=y((function e(t,n){v(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Rp=function(){function e(){v(this,e)}return y(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(kp.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Lp=function(){function e(t){v(this,e),this.token=t,this.changeListener=null}return y(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Mp=function(){function e(t){v(this,e),this.t=t,this.currentUser=kp.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return y(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Pp;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Pp,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Nt(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){Ep("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(Ep("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Pp)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Ep("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Cp("string"==typeof n.accessToken),new Dp(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Cp(null===e||"string"==typeof e),new kp(e)}}]),e}(),Fp=y((function e(t,n,r){v(this,e),this.type="FirstParty",this.user=kp.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Up=function(){function e(t,n,r){v(this,e),this.h=t,this.l=n,this.m=r}return y(e,[{key:"getToken",value:function(){return Promise.resolve(new Fp(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(kp.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Vp=y((function e(t){v(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Bp=function(){function e(t){v(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return y(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Ep("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,Ep("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Ep("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):Ep("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Cp("string"==typeof t.token),e.p=t.token,new Vp(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),jp=function(){function e(t,n){var r=this;v(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return y(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function zp(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}jp.A=-1;var qp=function(){function e(){v(this,e)}return y(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=zp(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Gp(e,t){return e<t?-1:e>t?1:0}function Kp(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Wp(e){return e+"\0"}var Hp=function(){function e(t,n){if(v(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Op(Np.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Op(Np.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Op(Np.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Op(Np.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return y(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Gp(this.nanoseconds,e.nanoseconds):Gp(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Qp=function(){function e(t){v(this,e),this.timestamp=t}return y(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Hp(0,0))}}]),e}();function Yp(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Xp(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Jp(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Zp=function(){function e(t,n,r){v(this,e),void 0===n?n=0:n>t.length&&_p(),void 0===r?r=t.length-n:r>t.length-n&&_p(),this.segments=t,this.offset=n,this.len=r}return y(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),$p=function(e){C(n,e);var t=O(n);function n(){return v(this,n),t.apply(this,arguments)}return y(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new Op(Np.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,p(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Zp),ev=/^[_a-zA-Z][_a-zA-Z0-9]*$/,tv=function(e){C(n,e);var t=O(n);function n(){return v(this,n),t.apply(this,arguments)}return y(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return ev.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Op(Np.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Op(Np.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Op(Np.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new Op(Np.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Zp),nv=function(){function e(t){v(this,e),this.fields=t,t.sort(tv.comparator)}return y(e,[{key:"covers",value:function(e){var t,n=$e(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Kp(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var rv=function(e){function t(e){v(this,t),this.binaryString=e}return y(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Gp(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();rv.EMPTY_BYTE_STRING=new rv("");var iv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function av(e){if(Cp(!!e),"string"==typeof e){var t=0,n=iv.exec(e);if(Cp(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ov(e.seconds),nanos:ov(e.nanos)}}function ov(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function sv(e){return"string"==typeof e?rv.fromBase64String(e):rv.fromUint8Array(e)}function uv(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function cv(e){var t=e.mapValue.fields.__previous_value__;return uv(t)?cv(t):t}function lv(e){var t=av(e.mapValue.fields.__local_write_time__.timestampValue);return new Hp(t.seconds,t.nanos)}var fv=y((function e(t,n,r,i,a,o,s,u){v(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),hv=function(){function e(t,n){v(this,e),this.projectId=t,this.database=n||"(default)"}return y(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function dv(e){return null==e}function pv(e){return 0===e&&1/e==-1/0}function vv(e){return"number"==typeof e&&Number.isInteger(e)&&!pv(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var mv=function(){function e(t){v(this,e),this.path=t}return y(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===$p.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e($p.fromString(t))}},{key:"fromName",value:function(t){return new e($p.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e($p.emptyPath())}},{key:"comparator",value:function(e,t){return $p.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new $p(t.slice()))}}]),e}(),yv={mapValue:{fields:{__type__:{stringValue:"__max___"}}}};function gv(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?uv(e)?4:10:_p()}function kv(e,t){if(e===t)return!0;var n=gv(e);if(n!==gv(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return lv(e).isEqual(lv(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=av(e.timestampValue),r=av(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return sv(e.bytesValue).isEqual(sv(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ov(e.geoPointValue.latitude)===ov(t.geoPointValue.latitude)&&ov(e.geoPointValue.longitude)===ov(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ov(e.integerValue)===ov(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=ov(e.doubleValue),r=ov(t.doubleValue);return n===r?pv(n)===pv(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Kp(e.arrayValue.values||[],t.arrayValue.values||[],kv);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Yp(n)!==Yp(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!kv(n[i],r[i])))return!1;return!0}(e,t);default:return _p()}}function wv(e,t){return void 0!==(e.values||[]).find((function(e){return kv(e,t)}))}function bv(e,t){if(e===t)return 0;var n=gv(e),r=gv(t);if(n!==r)return Gp(n,r);switch(n){case 0:return 0;case 1:return Gp(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=ov(e.integerValue||e.doubleValue),r=ov(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return xv(e.timestampValue,t.timestampValue);case 4:return xv(lv(e),lv(t));case 5:return Gp(e.stringValue,t.stringValue);case 6:return function(e,t){var n=sv(e),r=sv(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Gp(n[i],r[i]);if(0!==a)return a}return Gp(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Gp(ov(e.latitude),ov(t.latitude));return 0!==n?n:Gp(ov(e.longitude),ov(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=bv(n[i],r[i]);if(a)return a}return Gp(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=Gp(r[o],a[o]);if(0!==s)return s;var u=bv(n[r[o]],i[a[o]]);if(0!==u)return u}return Gp(r.length,a.length)}(e.mapValue,t.mapValue);default:throw _p()}}function xv(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Gp(e,t);var n=av(e),r=av(t),i=Gp(n.seconds,r.seconds);return 0!==i?i:Gp(n.nanos,r.nanos)}function Ev(e){return Tv(e)}function Tv(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=av(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?sv(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,mv.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=$e(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Tv(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=$e(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Tv(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):_p();var t,n}function Iv(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Sv(e){return!!e&&"integerValue"in e}function _v(e){return!!e&&"arrayValue"in e}function Cv(e){return!!e&&"nullValue"in e}function Av(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Nv(e){return!!e&&"mapValue"in e}function Ov(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Xp(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Ov(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Ov(e.arrayValue.values[r]);return n}return Object.assign({},e)}var Pv=function(){function e(t){v(this,e),this.value=t}return y(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Nv(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ov(t)}},{key:"setAll",value:function(e){var t=this,n=tv.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Ov(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Nv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return kv(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Nv(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Xp(t,(function(t,n){return e[t]=n}));var r,i=$e(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Ov(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Dv(e){var t=[];return Xp(e.fields,(function(e,n){var r=new tv([e]);if(Nv(n)){var i=Dv(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=$e(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new nv(t)}var Rv=function(){function e(t,n,r,i,a,o){v(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return y(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Pv.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Pv.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Qp.min(),Qp.min(),Pv.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Qp.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Qp.min(),Pv.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Qp.min(),Pv.empty(),2)}}]),e}(),Lv=y((function e(t,n,r,i){v(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));Lv.UNKNOWN_ID=-1;var Mv=y((function e(t,n){v(this,e),this.fieldPath=t,this.kind=n})),Fv=function(){function e(t,n){v(this,e),this.sequenceNumber=t,this.offset=n}return y(e,null,[{key:"empty",value:function(){return new e(0,Uv.min())}}]),e}(),Uv=function(){function e(t,n,r){v(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return y(e,null,[{key:"min",value:function(){return new e(Qp.min(),mv.empty(),-1)}}]),e}(),Vv=y((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;v(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.P=null}));function Bv(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Vv(e,t,n,r,i,a,o)}function jv(e){var t=Ap(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Ev(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),dv(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Ev(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Ev(e)})).join(",")),t.P=n}return t.P}function zv(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!tm(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!kv(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!rm(e.startAt,t.startAt)&&rm(e.endAt,t.endAt)}function qv(e){return mv.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Gv=function(e){C(n,e);var t=O(n);function n(e,r,i){var a;return v(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return y(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.V(bv(t,this.value)):null!==t&&gv(this.value)===gv(t)&&this.V(bv(t,this.value))}},{key:"V",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return _p()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.v(e,t,r):new Kv(e,t,r):"array-contains"===t?new Yv(e,r):"in"===t?new Xv(e,r):"not-in"===t?new Jv(e,r):"array-contains-any"===t?new Zv(e,r):new n(e,t,r)}},{key:"v",value:function(e,t,n){return"in"===t?new Wv(e,n):new Hv(e,n)}}]),n}(function(){return y((function e(){v(this,e)}))}()),Kv=function(e){C(n,e);var t=O(n);function n(e,r,i){var a;return v(this,n),(a=t.call(this,e,r,i)).key=mv.fromName(i.referenceValue),a}return y(n,[{key:"matches",value:function(e){var t=mv.comparator(e.key,this.key);return this.V(t)}}]),n}(Gv),Wv=function(e){C(n,e);var t=O(n);function n(e,r){var i;return v(this,n),(i=t.call(this,e,"in",r)).keys=Qv("in",r),i}return y(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Gv),Hv=function(e){C(n,e);var t=O(n);function n(e,r){var i;return v(this,n),(i=t.call(this,e,"not-in",r)).keys=Qv("not-in",r),i}return y(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Gv);function Qv(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return mv.fromName(e.referenceValue)}))}var Yv=function(e){C(n,e);var t=O(n);function n(e,r){return v(this,n),t.call(this,e,"array-contains",r)}return y(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return _v(t)&&wv(t.arrayValue,this.value)}}]),n}(Gv),Xv=function(e){C(n,e);var t=O(n);function n(e,r){return v(this,n),t.call(this,e,"in",r)}return y(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&wv(this.value.arrayValue,t)}}]),n}(Gv),Jv=function(e){C(n,e);var t=O(n);function n(e,r){return v(this,n),t.call(this,e,"not-in",r)}return y(n,[{key:"matches",value:function(e){if(wv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!wv(this.value.arrayValue,t)}}]),n}(Gv),Zv=function(e){C(n,e);var t=O(n);function n(e,r){return v(this,n),t.call(this,e,"array-contains-any",r)}return y(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!_v(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return wv(t.value.arrayValue,e)}))}}]),n}(Gv),$v=y((function e(t,n){v(this,e),this.position=t,this.inclusive=n})),em=y((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";v(this,e),this.field=t,this.dir=n}));function tm(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function nm(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?mv.comparator(mv.fromName(o.referenceValue),n.key):bv(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function rm(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!kv(e.position[n],t.position[n]))return!1;return!0}var im=y((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;v(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.D=null,this.C=null,this.startAt,this.endAt}));function am(e,t,n,r,i,a,o,s){return new im(e,t,n,r,i,a,o,s)}function om(e){return new im(e)}function sm(e){return!dv(e.limit)&&"F"===e.limitType}function um(e){return!dv(e.limit)&&"L"===e.limitType}function cm(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function lm(e){var t,n=$e(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function fm(e){return null!==e.collectionGroup}function hm(e){var t=Ap(e);if(null===t.D){t.D=[];var n=lm(t),r=cm(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new em(n)),t.D.push(new em(tv.keyField(),"asc"));else{var i,a=!1,o=$e(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.D.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new em(tv.keyField(),u))}}}return t.D}function dm(e){var t=Ap(e);if(!t.C)if("F"===t.limitType)t.C=Bv(t.path,t.collectionGroup,hm(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=$e(hm(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new em(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new $v(t.endAt.position,!t.endAt.inclusive):null,u=t.startAt?new $v(t.startAt.position,!t.startAt.inclusive):null;t.C=Bv(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.C}function pm(e,t,n){return new im(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function vm(e,t){return zv(dm(e),dm(t))&&e.limitType===t.limitType}function mm(e){return"".concat(jv(dm(e)),"|lt:").concat(e.limitType)}function ym(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Ev(t.value));var t})).join(", "),"]")),dv(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Ev(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Ev(e)})).join(",")),"Target(".concat(t,")")}(dm(e)),"; limitType=").concat(e.limitType,")")}function gm(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):mv.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=$e(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=$e(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=nm(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,hm(e),t))&&!(e.endAt&&!function(e,t,n){var r=nm(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,hm(e),t))}(e,t)}function km(e){return function(t,n){var r,i=!1,a=$e(hm(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=wm(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function wm(e,t,n){var r=e.field.isKeyField()?mv.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?bv(r,i):_p()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return _p()}}function bm(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pv(t)?"-0":t}}function xm(e){return{integerValue:""+e}}function Em(e,t){return vv(t)?xm(t):bm(e,t)}var Tm=y((function e(){v(this,e),this._=void 0}));function Im(e,t,n){return e instanceof Cm?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Am?Nm(e,t):e instanceof Om?Pm(e,t):function(e,t){var n=_m(e,t),r=Rm(n)+Rm(e.k);return Sv(n)&&Sv(e.k)?xm(r):bm(e.O,r)}(e,t)}function Sm(e,t,n){return e instanceof Am?Nm(e,t):e instanceof Om?Pm(e,t):n}function _m(e,t){return e instanceof Dm?Sv(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Cm=function(e){C(n,e);var t=O(n);function n(){return v(this,n),t.apply(this,arguments)}return y(n)}(Tm),Am=function(e){C(n,e);var t=O(n);function n(e){var r;return v(this,n),(r=t.call(this)).elements=e,r}return y(n)}(Tm);function Nm(e,t){var n,r=Lm(t),i=$e(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return kv(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Om=function(e){C(n,e);var t=O(n);function n(e){var r;return v(this,n),(r=t.call(this)).elements=e,r}return y(n)}(Tm);function Pm(e,t){var n,r=Lm(t),i=$e(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!kv(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Dm=function(e){C(n,e);var t=O(n);function n(e,r){var i;return v(this,n),(i=t.call(this)).O=e,i.k=r,i}return y(n)}(Tm);function Rm(e){return ov(e.integerValue||e.doubleValue)}function Lm(e){return _v(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Mm=y((function e(t,n){v(this,e),this.field=t,this.transform=n}));var Fm=y((function e(t,n){v(this,e),this.version=t,this.transformResults=n})),Um=function(){function e(t,n){v(this,e),this.updateTime=t,this.exists=n}return y(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Vm(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Bm=y((function e(){v(this,e)}));function jm(e,t,n){e instanceof Wm?function(e,t,n){var r=e.value.clone(),i=Ym(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Hm?function(e,t,n){if(Vm(e.precondition,t)){var r=Ym(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Qm(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function zm(e,t,n){e instanceof Wm?function(e,t,n){if(Vm(e.precondition,t)){var r=e.value.clone(),i=Xm(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Km(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Hm?function(e,t,n){if(Vm(e.precondition,t)){var r=Xm(e.fieldTransforms,n,t),i=t.data;i.setAll(Qm(e)),i.setAll(r),t.convertToFoundDocument(Km(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Vm(e.precondition,t)&&t.convertToNoDocument(Qp.min())}(e,t)}function qm(e,t){var n,r=null,i=$e(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=_m(a.transform,o||null);null!=s&&(null==r&&(r=Pv.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function Gm(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Kp(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Am&&t instanceof Am||e instanceof Om&&t instanceof Om?Kp(e.elements,t.elements,kv):e instanceof Dm&&t instanceof Dm?kv(e.k,t.k):e instanceof Cm&&t instanceof Cm}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Km(e){return e.isFoundDocument()?e.version:Qp.min()}var Wm=function(e){C(n,e);var t=O(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return v(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return y(n)}(Bm),Hm=function(e){C(n,e);var t=O(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return v(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return y(n)}(Bm);function Qm(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Ym(e,t,n){var r=new Map;Cp(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Sm(o,s,n[i]))}return r}function Xm(e,t,n){var r,i=new Map,a=$e(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,Im(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Jm,Zm,$m=function(e){C(n,e);var t=O(n);function n(e,r){var i;return v(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return y(n)}(Bm),ey=function(e){C(n,e);var t=O(n);function n(e,r){var i;return v(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return y(n)}(Bm),ty=y((function e(t){v(this,e),this.count=t}));function ny(e){switch(e){default:return _p();case Np.CANCELLED:case Np.UNKNOWN:case Np.DEADLINE_EXCEEDED:case Np.RESOURCE_EXHAUSTED:case Np.INTERNAL:case Np.UNAVAILABLE:case Np.UNAUTHENTICATED:return!1;case Np.INVALID_ARGUMENT:case Np.NOT_FOUND:case Np.ALREADY_EXISTS:case Np.PERMISSION_DENIED:case Np.FAILED_PRECONDITION:case Np.ABORTED:case Np.OUT_OF_RANGE:case Np.UNIMPLEMENTED:case Np.DATA_LOSS:return!0}}function ry(e){if(void 0===e)return Tp("GRPC error has no .code"),Np.UNKNOWN;switch(e){case Jm.OK:return Np.OK;case Jm.CANCELLED:return Np.CANCELLED;case Jm.UNKNOWN:return Np.UNKNOWN;case Jm.DEADLINE_EXCEEDED:return Np.DEADLINE_EXCEEDED;case Jm.RESOURCE_EXHAUSTED:return Np.RESOURCE_EXHAUSTED;case Jm.INTERNAL:return Np.INTERNAL;case Jm.UNAVAILABLE:return Np.UNAVAILABLE;case Jm.UNAUTHENTICATED:return Np.UNAUTHENTICATED;case Jm.INVALID_ARGUMENT:return Np.INVALID_ARGUMENT;case Jm.NOT_FOUND:return Np.NOT_FOUND;case Jm.ALREADY_EXISTS:return Np.ALREADY_EXISTS;case Jm.PERMISSION_DENIED:return Np.PERMISSION_DENIED;case Jm.FAILED_PRECONDITION:return Np.FAILED_PRECONDITION;case Jm.ABORTED:return Np.ABORTED;case Jm.OUT_OF_RANGE:return Np.OUT_OF_RANGE;case Jm.UNIMPLEMENTED:return Np.UNIMPLEMENTED;case Jm.DATA_LOSS:return Np.DATA_LOSS;default:return _p()}}(Zm=Jm||(Jm={}))[Zm.OK=0]="OK",Zm[Zm.CANCELLED=1]="CANCELLED",Zm[Zm.UNKNOWN=2]="UNKNOWN",Zm[Zm.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zm[Zm.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zm[Zm.NOT_FOUND=5]="NOT_FOUND",Zm[Zm.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zm[Zm.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zm[Zm.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zm[Zm.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zm[Zm.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zm[Zm.ABORTED=10]="ABORTED",Zm[Zm.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zm[Zm.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zm[Zm.INTERNAL=13]="INTERNAL",Zm[Zm.UNAVAILABLE=14]="UNAVAILABLE",Zm[Zm.DATA_LOSS=15]="DATA_LOSS";var iy=function(){function e(t,n){v(this,e),this.comparator=t,this.root=n||oy.EMPTY}return y(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,oy.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,oy.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new ay(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new ay(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new ay(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new ay(this.root,e,this.comparator,!0)}}]),e}(),ay=function(){function e(t,n,r,i){v(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return y(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),oy=function(){function e(t,n,r,i,a){v(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return y(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw _p();if(this.right.isRed())throw _p();var e=this.left.check();if(e!==this.right.check())throw _p();return e+(this.isRed()?0:1)}}]),e}();oy.EMPTY=null,oy.RED=!0,oy.BLACK=!1,oy.EMPTY=new(function(){function e(){v(this,e),this.size=0}return y(e,[{key:"key",get:function(){throw _p()}},{key:"value",get:function(){throw _p()}},{key:"color",get:function(){throw _p()}},{key:"left",get:function(){throw _p()}},{key:"right",get:function(){throw _p()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new oy(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var sy=function(){function e(t){v(this,e),this.comparator=t,this.data=new iy(this.comparator)}return y(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new uy(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new uy(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),uy=function(){function e(t){v(this,e),this.iter=t}return y(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function cy(e){return e.hasNext()?e.getNext():void 0}var ly=new iy(mv.comparator);function fy(){return ly}var hy=new iy(mv.comparator);function dy(){return hy}var py=new iy(mv.comparator),vy=new sy(mv.comparator);function my(){for(var e=vy,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var yy=new sy(Gp);function gy(){return yy}var ky=function(){function e(t,n,r,i,a){v(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return y(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,wy.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Qp.min(),r,gy(),fy(),my())}}]),e}(),wy=function(){function e(t,n,r,i,a){v(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return y(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(rv.EMPTY_BYTE_STRING,n,my(),my(),my())}}]),e}(),by=y((function e(t,n,r,i){v(this,e),this.M=t,this.removedTargetIds=n,this.key=r,this.$=i})),xy=y((function e(t,n){v(this,e),this.targetId=t,this.F=n})),Ey=y((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rv.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;v(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Ty=function(){function e(){v(this,e),this.B=0,this.L=_y(),this.U=rv.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}return y(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}},{key:"H",value:function(){var e=my(),t=my(),n=my();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:_p()}})),new wy(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.K=!1,this.L=_y()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.q=!0}}]),e}(),Iy=function(){function e(t){v(this,e),this.nt=t,this.st=new Map,this.it=fy(),this.rt=Sy(),this.ot=new sy(Gp)}return y(e,[{key:"ct",value:function(e){var t,n=$e(e.M);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.$&&e.$.isFoundDocument()?this.ut(r,e.$):this.at(r,e.key,e.$)}}catch(s){n.e(s)}finally{n.f()}var i,a=$e(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.at(o,e.key,e.$)}}catch(s){a.e(s)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:_p()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.F.count,r=this.wt(t);if(r){var i=r.target;if(qv(i))if(0===n){var a=new mv(i.path);this.at(t,a,Rv.newNoDocument(a,Qp.min()))}else Cp(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&qv(a.target)){var o=new mv(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.at(i,o,Rv.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=my();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new ky(e,n,this.ot,this.it,r);return this.it=fy(),this.rt=Sy(),this.ot=new sy(Gp),i}},{key:"ut",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Et(t.key).add(e))}}},{key:"at",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Et(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new Ty,this.st.set(e,t)),t}},{key:"Et",value:function(e){var t=this.rt.get(e);return t||(t=new sy(Gp),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||Ep("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Tt(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new Ty),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.at(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Sy(){return new iy(mv.comparator)}function _y(){return new iy(mv.comparator)}var Cy={asc:"ASCENDING",desc:"DESCENDING"},Ay={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ny=y((function e(t,n){v(this,e),this.databaseId=t,this.N=n}));function Oy(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Py(e,t){return e.N?t.toBase64():t.toUint8Array()}function Dy(e,t){return Oy(e,t.toTimestamp())}function Ry(e){return Cp(!!e),Qp.fromTimestamp(function(e){var t=av(e);return new Hp(t.seconds,t.nanos)}(e))}function Ly(e,t){return function(e){return new $p(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function My(e){var t=$p.fromString(e);return Cp(ag(t)),t}function Fy(e,t){return Ly(e.databaseId,t.path)}function Uy(e,t){var n=My(t);if(n.get(1)!==e.databaseId.projectId)throw new Op(Np.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Op(Np.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new mv(zy(n))}function Vy(e,t){return Ly(e.databaseId,t)}function By(e){var t=My(e);return 4===t.length?$p.emptyPath():zy(t)}function jy(e){return new $p(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function zy(e){return Cp(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function qy(e,t,n){return{name:Fy(e,t),fields:n.value.mapValue.fields}}function Gy(e,t,n){var r=Uy(e,t.name),i=Ry(t.updateTime),a=new Pv({mapValue:{fields:t.fields}}),o=Rv.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Ky(e,t){return"found"in t?function(e,t){Cp(!!t.found),t.found.name,t.found.updateTime;var n=Uy(e,t.found.name),r=Ry(t.found.updateTime),i=new Pv({mapValue:{fields:t.found.fields}});return Rv.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Cp(!!t.missing),Cp(!!t.readTime);var n=Uy(e,t.missing),r=Ry(t.readTime);return Rv.newNoDocument(n,r)}(e,t):_p()}function Wy(e,t){var n;if(t instanceof Wm)n={update:qy(e,t.key,t.value)};else if(t instanceof $m)n={delete:Fy(e,t.key)};else if(t instanceof Hm)n={update:qy(e,t.key,t.data),updateMask:ig(t.fieldMask)};else{if(!(t instanceof ey))return _p();n={verify:Fy(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Cm)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Am)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Om)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Dm)return{fieldPath:t.field.canonicalString(),increment:n.k};throw _p()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Dy(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:_p()}(e,t.precondition)),n}function Hy(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Um.updateTime(Ry(e.updateTime)):void 0!==e.exists?Um.exists(e.exists):Um.none()}(t.currentDocument):Um.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Cp("REQUEST_TIME"===t.setToServerValue),n=new Cm;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Am(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Om(i)}else"increment"in t?n=new Dm(e,t.increment):_p();var a=tv.fromServerFormat(t.fieldPath);return new Mm(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Uy(e,t.update.name),a=new Pv({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new nv(t.map((function(e){return tv.fromServerFormat(e)})))}(t.updateMask);return new Hm(i,a,o,n,r)}return new Wm(i,a,n,r)}if(t.delete){var s=Uy(e,t.delete);return new $m(s,n)}if(t.verify){var u=Uy(e,t.verify);return new ey(u,n)}return _p()}function Qy(e,t){return{documents:[Vy(e,t.path)]}}function Yy(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Vy(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Vy(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Av(e.value))return{unaryFilter:{field:eg(e.field),op:"IS_NAN"}};if(Cv(e.value))return{unaryFilter:{field:eg(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Av(e.value))return{unaryFilter:{field:eg(e.field),op:"IS_NOT_NAN"}};if(Cv(e.value))return{unaryFilter:{field:eg(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eg(e.field),op:$y(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:eg(e.field),direction:Zy(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.N||dv(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Xy(e){var t=By(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Cp(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Jy(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new em(tg(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return dv(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new $v(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new $v(n,t)}(n.endAt)),am(t,i,s,o,u,"F",c,l)}function Jy(e){return e?void 0!==e.unaryFilter?[rg(e)]:void 0!==e.fieldFilter?[ng(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Jy(e)})).reduce((function(e,t){return e.concat(t)})):_p():[]}function Zy(e){return Cy[e]}function $y(e){return Ay[e]}function eg(e){return{fieldPath:e.canonicalString()}}function tg(e){return tv.fromServerFormat(e.fieldPath)}function ng(e){return Gv.create(tg(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _p()}}(e.fieldFilter.op),e.fieldFilter.value)}function rg(e){switch(e.unaryFilter.op){case"IS_NAN":var t=tg(e.unaryFilter.field);return Gv.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=tg(e.unaryFilter.field);return Gv.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=tg(e.unaryFilter.field);return Gv.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=tg(e.unaryFilter.field);return Gv.create(i,"!=",{nullValue:"NULL_VALUE"});default:return _p()}}function ig(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function ag(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function og(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=ug(t)),t=sg(e.get(n),t);return ug(t)}function sg(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function ug(e){return e+"\x01\x01"}function cg(e){var t=e.length;if(Cp(t>=2),2===t)return Cp("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),$p.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&_p(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:_p()}a=o+2}return new $p(r)}var lg=y((function e(t,n){v(this,e),this.seconds=t,this.nanoseconds=n})),fg=y((function e(t,n,r){v(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r}));fg.store="owner",fg.key="owner";var hg=y((function e(t,n,r){v(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}));hg.store="mutationQueues",hg.keyPath="userId";var dg=y((function e(t,n,r,i,a){v(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=a}));dg.store="mutations",dg.keyPath="batchId",dg.userMutationsIndex="userMutationsIndex",dg.userMutationsKeyPath=["userId","batchId"];var pg=function(){function e(){v(this,e)}return y(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,og(t)]}},{key:"key",value:function(e,t,n){return[e,og(t),n]}}]),e}();pg.store="documentMutations",pg.PLACEHOLDER=new pg;var vg=y((function e(t,n){v(this,e),this.path=t,this.readTime=n})),mg=y((function e(t,n){v(this,e),this.path=t,this.version=n})),yg=y((function e(t,n,r,i,a,o){v(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=a,this.parentPath=o}));yg.store="remoteDocuments",yg.readTimeIndex="readTimeIndex",yg.readTimeIndexPath="readTime",yg.collectionReadTimeIndex="collectionReadTimeIndex",yg.collectionReadTimeIndexPath=["parentPath","readTime"];var gg=y((function e(t){v(this,e),this.byteSize=t}));gg.store="remoteDocumentGlobal",gg.key="remoteDocumentGlobalKey";var kg=y((function e(t,n,r,i,a,o,s){v(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=o,this.query=s}));kg.store="targets",kg.keyPath="targetId",kg.queryTargetsIndexName="queryTargetsIndex",kg.queryTargetsKeyPath=["canonicalId","targetId"];var wg=y((function e(t,n,r){v(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r}));wg.store="targetDocuments",wg.keyPath=["targetId","path"],wg.documentTargetsIndex="documentTargetsIndex",wg.documentTargetsKeyPath=["path","targetId"];var bg=y((function e(t,n,r,i){v(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}));bg.key="targetGlobalKey",bg.store="targetGlobal";var xg=y((function e(t,n){v(this,e),this.collectionId=t,this.parent=n}));xg.store="collectionParents",xg.keyPath=["collectionId","parent"];var Eg=y((function e(t,n,r,i){v(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}));Eg.store="clientMetadata",Eg.keyPath="clientId";var Tg=y((function e(t,n,r){v(this,e),this.bundleId=t,this.createTime=n,this.version=r}));Tg.store="bundles",Tg.keyPath="bundleId";var Ig=y((function e(t,n,r){v(this,e),this.name=t,this.readTime=n,this.bundledQuery=r}));Ig.store="namedQueries",Ig.keyPath="name";var Sg=y((function e(t,n,r){v(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r}));Sg.store="indexConfiguration",Sg.keyPath="indexId",Sg.collectionGroupIndex="collectionGroupIndex",Sg.collectionGroupIndexPath="collectionGroup";var _g=y((function e(t,n,r,i,a,o){v(this,e),this.indexId=t,this.uid=n,this.sequenceNumber=r,this.readTime=i,this.documentKey=a,this.largestBatchId=o}));_g.store="indexState",_g.keyPath=["indexId","uid"],_g.sequenceNumberIndex="sequenceNumberIndex",_g.sequenceNumberIndexPath=["uid","sequenceNumber"];var Cg=y((function e(t,n,r,i,a){v(this,e),this.indexId=t,this.uid=n,this.arrayValue=r,this.directionalValue=i,this.documentKey=a}));Cg.store="indexEntries",Cg.keyPath=["indexId","uid","arrayValue","directionalValue","documentKey"],Cg.documentKeyIndex="documentKeyIndex",Cg.documentKeyIndexPath=["indexId","uid","documentKey"];var Ag=y((function e(t,n,r,i,a,o){v(this,e),this.userId=t,this.collectionPath=n,this.documentId=r,this.collectionGroup=i,this.largestBatchId=a,this.overlayMutation=o}));Ag.store="documentOverlays",Ag.keyPath=["userId","collectionPath","documentId"],Ag.collectionPathOverlayIndex="collectionPathOverlayIndex",Ag.collectionPathOverlayIndexPath=["userId","collectionPath","largestBatchId"],Ag.collectionGroupOverlayIndex="collectionGroupOverlayIndex",Ag.collectionGroupOverlayIndexPath=["userId","collectionGroup","largestBatchId"];var Ng=[hg.store,dg.store,pg.store,yg.store,kg.store,fg.store,bg.store,wg.store].concat([Eg.store]).concat([gg.store]).concat([xg.store]).concat([Tg.store,Ig.store]),Og=[].concat(p(Ng),[Ag.store]),Pg=[].concat(p(Og),[Sg.store,_g.store,Cg.store]),Dg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Rg=function(){function e(){v(this,e),this.onCommittedListeners=[]}return y(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),Lg=function(){function e(t){var n=this;v(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return y(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&_p(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=$e(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),Mg=function(){function e(t,n){var r=this;v(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new Pp,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new Vg(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=Gg(e.target.error);r.At.reject(new Vg(t,n))}}return y(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(Ep("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"Pt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new jg(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Vg(n,t)}}}]),e}(),Fg=function(){function e(t,n,r){v(this,e),this.name=t,this.version=n,this.bt=r,12.2===e.vt(ut())&&Tp("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return y(e,[{key:"xt",value:function(){var e=Nt(Pt().mark((function e(t){var n=this;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Ep("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Vg(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Op(Np.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Op(Np.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Vg(t,n))},i.onupgradeneeded=function(e){Ep("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.bt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){Ep("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Ot&&(this.db.onversionchange=function(e){return n.Ot(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Mt",value:function(e){this.Ot=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Nt(Pt().mark((function e(t,n,r,i){var a,o,s,u,c=this;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(Pt().mark((function e(){var n,o;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.xt(t);case 2:return c.db=e.sent,n=Mg.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.Pt(),e})).catch((function(e){return n.abort(e),Lg.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(s=e.t0)){e.next=8;break}return e.abrupt("return",s.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),u="FirebaseError"!==e.t1.name&&o<3,Ep("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",u),this.close(),u){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Ep("SimpleDb","Removing database:",e),zg(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"Vt",value:function(){if(!pt())return!1;if(e.St())return!0;var t=ut(),n=e.vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/react-election",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_APIKEY:'"AIzaSyDbnDgyv2eQovXO9ugJQD6Ko3fDWnIROYo",',REACT_APP_FIREBASE_APPID:'"1:179754433195:web:a24ef0d1654edd74fd55ee",',REACT_APP_FIREBASE_AUTH_DOMAIN:'"react-election.firebaseapp.com",',REACT_APP_FIREBASE_MEASUREMENTID:"G-VCW1C70TPX",REACT_APP_FIREBASE_MESSAGINGSENDERID:'"179754433195",',REACT_APP_FIREBASE_PROJECTID:'"react-election",',REACT_APP_FIREBASE_STORAGEBUCKET:'"react-election.appspot.com",'})||void 0===e?void 0:e.Ct)}},{key:"Nt",value:function(e,t){return e.store(t)}},{key:"vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Ug=function(){function e(t){v(this,e),this.$t=t,this.Ft=!1,this.Bt=null}return y(e,[{key:"isDone",get:function(){return this.Ft}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.$t=e}},{key:"done",value:function(){this.Ft=!0}},{key:"Ut",value:function(e){this.Bt=e}},{key:"delete",value:function(){return zg(this.$t.delete())}}]),e}(),Vg=function(e){C(n,e);var t=O(n);function n(e,r){var i;return v(this,n),(i=t.call(this,Np.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return y(n)}(Op);function Bg(e){return"IndexedDbTransactionError"===e.name}var jg=function(){function e(t){v(this,e),this.store=t}return y(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Ep("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Ep("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),zg(n)}},{key:"add",value:function(e){return Ep("SimpleDb","ADD",this.store.name,e,e),zg(this.store.add(e))}},{key:"get",value:function(e){var t=this;return zg(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Ep("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Ep("SimpleDb","DELETE",this.store.name,e),zg(this.store.delete(e))}},{key:"count",value:function(){return Ep("SimpleDb","COUNT",this.store.name),zg(this.store.count())}},{key:"qt",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Kt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Lg((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Gt",value:function(e,t){Ep("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Kt(r,(function(e,t,n){return n.delete()}))}},{key:"Qt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Kt(r,t)}},{key:"Wt",value:function(e){var t=this.cursor({});return new Lg((function(n,r){t.onerror=function(e){var t=Gg(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Kt",value:function(e,t){var n=[];return new Lg((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Ug(i),o=t(i.primaryKey,i.value,a);if(o instanceof Lg){var s=o.catch((function(e){return a.done(),Lg.reject(e)}));n.push(s)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return Lg.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function zg(e){return new Lg((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Gg(e.target.error);n(t)}}))}var qg=!1;function Gg(e){var t=Fg.vt(ut());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Op("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return qg||(qg=!0,setTimeout((function(){throw r}),0)),r}}return e}var Kg=function(e){C(n,e);var t=O(n);function n(e,r){var i;return v(this,n),(i=t.call(this)).zt=e,i.currentSequenceNumber=r,i}return y(n)}(Rg);function Wg(e,t){var n=Ap(e);return Fg.Nt(n.zt,t)}var Hg=function(){function e(t,n,r,i){v(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return y(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&jm(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=$e(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&zm(r,e,this.localWriteTime)}}catch(s){n.e(s)}finally{n.f()}var i,a=$e(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&zm(o,e,this.localWriteTime)}}catch(s){a.e(s)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Qp.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),my())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Kp(this.mutations,e.mutations,(function(e,t){return Gm(e,t)}))&&Kp(this.baseMutations,e.baseMutations,(function(e,t){return Gm(e,t)}))}}]),e}(),Qg=function(){function e(t,n,r,i){v(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return y(e,null,[{key:"from",value:function(t,n,r){Cp(t.mutations.length===r.length);for(var i=py,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Yg=function(){function e(t,n){v(this,e),this.largestBatchId=t,this.mutation=n}return y(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Xg=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Qp.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Qp.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:rv.EMPTY_BYTE_STRING;v(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return y(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Jg=y((function e(t){v(this,e),this.Ht=t}));function Zg(e,t){var n;if(t.document)n=Gy(e.Ht,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=mv.fromSegments(t.noDocument.path),i=rk(t.noDocument.readTime);n=Rv.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return _p();var a=mv.fromSegments(t.unknownDocument.path),o=rk(t.unknownDocument.version);n=Rv.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(tk(t.readTime)),n}function $g(e,t){var n=ek(t.readTime),r=t.key.path.popLast().toArray();if(t.isFoundDocument()){var i=function(e,t){return{name:Fy(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Oy(e,t.version.toTimestamp())}}(e.Ht,t),a=t.hasCommittedMutations;return new yg(null,null,i,a,n,r)}if(t.isNoDocument()){var o=t.key.path.toArray(),s=nk(t.version),u=t.hasCommittedMutations;return new yg(null,new vg(o,s),null,u,n,r)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=nk(t.version);return new yg(new mg(c,l),null,null,!0,n,r)}return _p()}function ek(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function tk(e){var t=new Hp(e[0],e[1]);return Qp.fromTimestamp(t)}function nk(e){var t=e.toTimestamp();return new lg(t.seconds,t.nanoseconds)}function rk(e){var t=new Hp(e.seconds,e.nanoseconds);return Qp.fromTimestamp(t)}function ik(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Hy(e.Ht,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Hy(e.Ht,t)})),s=Hp.fromMillis(t.localWriteTimeMs);return new Hg(t.batchId,s,n,o)}function ak(e){var t,n,r=rk(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?rk(e.lastLimboFreeSnapshotVersion):Qp.min();return void 0!==e.query.documents?(Cp(1===(n=e.query).documents.length),t=dm(om(By(n.documents[0])))):t=function(e){return dm(Xy(e))}(e.query),new Xg(t,e.targetId,0,e.lastListenSequenceNumber,r,i,rv.fromBase64String(e.resumeToken))}function ok(e,t){var n,r=nk(t.snapshotVersion),i=nk(t.lastLimboFreeSnapshotVersion);n=qv(t.target)?Qy(e.Ht,t.target):Yy(e.Ht,t.target);var a=t.resumeToken.toBase64();return new kg(t.targetId,jv(t.target),r,a,t.sequenceNumber,i,n)}function sk(e){var t=Xy({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?pm(t,t.limit,"L"):t}function uk(e,t){return new Yg(t.largestBatchId,Hy(e.Ht,t.overlayMutation))}function ck(e,t){var n=t.path.lastSegment();return[e,og(t.path.popLast()),n]}var lk=function(){function e(){v(this,e)}return y(e,[{key:"getBundleMetadata",value:function(e,t){return fk(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:rk(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return fk(e).put({bundleId:(n=t).id,createTime:nk(Ry(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return hk(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:sk(t.bundledQuery),readTime:rk(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return hk(e).put(function(e){return{name:e.name,readTime:nk(Ry(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function fk(e){return Wg(e,Tg.store)}function hk(e){return Wg(e,Ig.store)}var dk=function(){function e(t,n){v(this,e),this.O=t,this.userId=n}return y(e,[{key:"getOverlay",value:function(e,t){var n=this;return pk(e).get(ck(this.userId,t)).next((function(e){return e?uk(n.O,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n){var a=new Yg(t,n);i.push(r.Yt(e,a))})),Lg.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(og(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(pk(e).Gt(Ag.collectionPathOverlayIndex,i))})),Lg.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=new Map,a=og(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return pk(e).qt(Ag.collectionPathOverlayIndex,o).next((function(e){var t,n=$e(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=uk(r.O,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=new Map,s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return pk(e).Qt({index:Ag.collectionGroupOverlayIndex,range:s},(function(e,t,n){var s=uk(a.O,t);o.size<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Yt",value:function(e,t){return pk(e).put(function(e,t,n){var r=f(ck(t,n.mutation.key),3),i=(r[0],r[1]),a=r[2];return new Ag(t,i,a,n.mutation.key.getCollectionGroup(),n.largestBatchId,Wy(e.Ht,n.mutation))}(this.O,this.userId,t))}}],[{key:"Jt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function pk(e){return Wg(e,Ag.store)}var vk=function(){function e(){v(this,e)}return y(e,[{key:"Xt",value:function(e,t){this.Zt(e,t),t.te()}},{key:"Zt",value:function(e,t){if("nullValue"in e)this.ee(t,5);else if("booleanValue"in e)this.ee(t,10),t.ne(e.booleanValue?1:0);else if("integerValue"in e)this.ee(t,15),t.ne(ov(e.integerValue));else if("doubleValue"in e){var n=ov(e.doubleValue);isNaN(n)?this.ee(t,13):(this.ee(t,15),pv(n)?t.ne(0):t.ne(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ee(t,20),"string"==typeof r?t.se(r):(t.se("".concat(r.seconds||"")),t.ne(r.nanos||0))}else if("stringValue"in e)this.ie(e.stringValue,t),this.re(t);else if("bytesValue"in e)this.ee(t,30),t.oe(sv(e.bytesValue)),this.re(t);else if("referenceValue"in e)this.ce(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ee(t,45),t.ne(i.latitude||0),t.ne(i.longitude||0)}else"mapValue"in e?kv(e,yv)?this.ee(t,Number.MAX_SAFE_INTEGER):(this.ue(e.mapValue,t),this.re(t)):"arrayValue"in e?(this.ae(e.arrayValue,t),this.re(t)):_p()}},{key:"ie",value:function(e,t){this.ee(t,25),this.he(e,t)}},{key:"he",value:function(e,t){t.se(e)}},{key:"ue",value:function(e,t){var n=e.fields||{};this.ee(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.ie(a,t),this.Zt(n[a],t)}}},{key:"ae",value:function(e,t){var n=e.values||[];this.ee(t,50);var r,i=$e(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.Zt(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ce",value:function(e,t){var n=this;this.ee(t,37),mv.fromName(e).path.forEach((function(e){n.ee(t,60),n.he(e,t)}))}},{key:"ee",value:function(e,t){e.ne(t)}},{key:"re",value:function(e){e.ne(2)}}]),e}();function mk(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function yk(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=mk(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}vk.le=new vk;var gk=function(){function e(){v(this,e),this.buffer=new Uint8Array(1024),this.position=0}return y(e,[{key:"fe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.de(n.value),n=t.next();this._e()}},{key:"we",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.me(n.value),n=t.next();this.ge()}},{key:"ye",value:function(e){var t,n=$e(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.de(i);else if(i<2048)this.de(960|i>>>6),this.de(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.de(480|i>>>12),this.de(128|63&i>>>6),this.de(128|63&i);else{var a=r.codePointAt(0);this.de(240|a>>>18),this.de(128|63&a>>>12),this.de(128|63&a>>>6),this.de(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this._e()}},{key:"pe",value:function(e){var t,n=$e(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.me(i);else if(i<2048)this.me(960|i>>>6),this.me(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.me(480|i>>>12),this.me(128|63&i>>>6),this.me(128|63&i);else{var a=r.codePointAt(0);this.me(240|a>>>18),this.me(128|63&a>>>12),this.me(128|63&a>>>6),this.me(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ge()}},{key:"Ie",value:function(e){var t=this.Ee(e),n=yk(t);this.Te(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Ae",value:function(e){var t=this.Ee(e),n=yk(t);this.Te(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Re",value:function(){this.Pe(255),this.Pe(255)}},{key:"be",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Te(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Ve",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"de",value:function(e){var t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}},{key:"me",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"_e",value:function(){this.Pe(0),this.Pe(1)}},{key:"ge",value:function(){this.ve(0),this.ve(1)}},{key:"Pe",value:function(e){this.Te(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Te(1),this.buffer[this.position++]=~e}},{key:"Te",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),kk=function(){function e(t){v(this,e),this.Se=t}return y(e,[{key:"oe",value:function(e){this.Se.fe(e)}},{key:"se",value:function(e){this.Se.ye(e)}},{key:"ne",value:function(e){this.Se.Ie(e)}},{key:"te",value:function(){this.Se.Re()}}]),e}(),wk=function(){function e(t){v(this,e),this.Se=t}return y(e,[{key:"oe",value:function(e){this.Se.we(e)}},{key:"se",value:function(e){this.Se.pe(e)}},{key:"ne",value:function(e){this.Se.Ae(e)}},{key:"te",value:function(){this.Se.be()}}]),e}(),bk=function(){function e(){v(this,e),this.Se=new gk,this.De=new kk(this.Se),this.Ce=new wk(this.Se)}return y(e,[{key:"seed",value:function(e){this.Se.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.De:this.Ce}},{key:"Ve",value:function(){return this.Se.Ve()}},{key:"reset",value:function(){this.Se.reset()}}]),e}(),xk=y((function e(t,n,r,i){v(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}));function Ek(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=mv.comparator(e.documentKey,t.documentKey))?n:0!==(n=Tk(e.arrayValue,t.arrayValue))?n:Tk(e.directionalValue,t.directionalValue)}function Tk(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Ik=function(){function e(){v(this,e),this.xe=new Sk}return y(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.xe.add(t),Lg.resolve()}},{key:"getCollectionParents",value:function(e,t){return Lg.resolve(this.xe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Lg.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Lg.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t,n){return Lg.resolve(my())}},{key:"getFieldIndex",value:function(e,t){return Lg.resolve(null)}},{key:"getFieldIndexes",value:function(e,t){return Lg.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Lg.resolve(null)}},{key:"updateCollectionGroup",value:function(e,t,n){return Lg.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Lg.resolve()}}]),e}(),Sk=function(){function e(){v(this,e),this.index={}}return y(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new sy($p.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new sy($p.comparator)).toArray()}}]),e}(),_k=function(){function e(t){v(this,e),this.user=t,this.ke=new Sk,this.uid=t.uid||""}return y(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.ke.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.ke.add(t)}));var a={collectionId:r,parent:og(i)};return Ck(e).put(a)}return Lg.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Wp(t),""],!1,!0);return Ck(e).qt(r).next((function(e){var r,i=$e(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(cg(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=Nk(e),r=function(e){return new Sg(e.indexId,e.collectionGroup,e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]})))}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=Nk(e),r=Ok(e),i=Ak(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t,n){return Lg.resolve(my())}},{key:"getFieldIndex",value:function(e,t){return Lg.resolve(null)}},{key:"Oe",value:function(e,t){var n,r=new bk,i=$e(function(e){return e.fields.filter((function(e){return 2!==e.kind}))}(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.Ne(a.kind);vk.le.Xt(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.Ve()}},{key:"Me",value:function(e){var t=new bk;return vk.le.Xt(e,t.Ne(0)),t.Ve()}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=Nk(e),i=Ok(e);return(t?r.qt(Sg.collectionGroupIndex,IDBKeyRange.bound(t,t)):r.qt()).next((function(e){var t=[];return Lg.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Fv(t.sequenceNumber,new Uv(rk(t.readTime),new mv(cg(t.documentKey)),t.largestBatchId)):Fv.empty(),r=e.fields.map((function(e){var t=f(e,2),n=t[0],r=t[1];return new Mv(tv.fromServerFormat(n),r)}));return new Lv(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){return e.indexState.sequenceNumber-t.indexState.sequenceNumber})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=Nk(e),a=Ok(e);return this.$e(e).next((function(e){return i.qt(Sg.collectionGroupIndex,IDBKeyRange.bound(t,t)).next((function(t){return Lg.forEach(t,(function(t){return a.put(function(e,t,n,r){return new _g(e,t.uid||"",n,nk(r.readTime),og(r.documentKey.path),r.largestBatchId)}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Lg.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Lg.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Lg.forEach(a,(function(r){return n.Fe(e,t,r).next((function(t){var a=n.Be(i,r);return t.isEqual(a)?Lg.resolve():n.Le(e,i,t,a)}))}))}))}))}},{key:"Ue",value:function(e,t,n){return Ak(e).put(new Cg(n.indexId,this.uid,n.arrayValue,n.directionalValue,og(t.key.path)))}},{key:"qe",value:function(e,t,n){return Ak(e).delete([n.indexId,this.uid,n.arrayValue,n.directionalValue,og(t.key.path)])}},{key:"Fe",value:function(e,t,n){var r=Ak(e),i=new sy(Ek);return r.Qt({index:Cg.documentKeyIndex,range:IDBKeyRange.only([n.indexId,this.uid,og(t.path)])},(function(e,r){i=i.add(new xk(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"Be",value:function(e,t){var n=new sy(Ek),r=this.Oe(t,e);if(null==r)return n;var i=function(e){return e.fields.find((function(e){return 2===e.kind}))}(t);if(null!=i){var a=e.data.field(i.fieldPath);if(_v(a)){var o,s=$e(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new xk(t.indexId,e.key,this.Me(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new xk(t.indexId,e.key,new Uint8Array,r));return n}},{key:"Le",value:function(e,t,n,r){var i=this;Ep("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var a=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=cy(a),u=cy(o);s||u;){var c=!1,l=!1;if(s&&u){var f=n(s,u);f<0?l=!0:f>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=cy(o)):l?(i(s),s=cy(a)):(s=cy(a),u=cy(o))}}(n,r,Ek,(function(n){a.push(i.Ue(e,t,n))}),(function(n){a.push(i.qe(e,t,n))})),Lg.waitFor(a)}},{key:"$e",value:function(e){var t=1;return Ok(e).Qt({index:_g.sequenceNumberIndex,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}}]),e}();function Ck(e){return Wg(e,xg.store)}function Ak(e){return Wg(e,Cg.store)}function Nk(e){return Wg(e,Sg.store)}function Ok(e){return Wg(e,_g.store)}var Pk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Dk=function(){function e(t,n,r){v(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return y(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Rk(e,t,n){var r=e.store(dg.store),i=e.store(pg.store),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.Qt({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){Cp(1===s)})));var c,l=[],f=$e(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=pg.key(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Lg.waitFor(a).next((function(){return l}))}function Lk(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw _p();t=e.noDocument}return JSON.stringify(t).length}Dk.DEFAULT_COLLECTION_PERCENTILE=10,Dk.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dk.DEFAULT=new Dk(41943040,Dk.DEFAULT_COLLECTION_PERCENTILE,Dk.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dk.DISABLED=new Dk(-1,0,0);var Mk=function(){function e(t,n,r,i){v(this,e),this.userId=t,this.O=n,this.indexManager=r,this.referenceDelegate=i,this.Ke={}}return y(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Uk(e).Qt({index:dg.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Vk(e),o=Uk(e);return o.add({}).next((function(s){Cp("number"==typeof s);var u,c=new Hg(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Wy(e.Ht,t)})),i=n.mutations.map((function(t){return Wy(e.Ht,t)}));return new dg(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.O,i.userId,c),f=[],h=new sy((function(e,t){return Gp(e.canonicalString(),t.canonicalString())})),d=$e(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=pg.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,pg.PLACEHOLDER))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Ke[s]=c.keys()})),Lg.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Uk(e).get(t).next((function(e){return e?(Cp(e.userId===n.userId),ik(n.O,e)):null}))}},{key:"Ge",value:function(e,t){var n=this;return this.Ke[t]?Lg.resolve(this.Ke[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Ke[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Uk(e).Qt({index:dg.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(Cp(t.batchId>=r),a=ik(n.O,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Uk(e).Qt({index:dg.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Uk(e).qt(dg.userMutationsIndex,n).next((function(e){return e.map((function(e){return ik(t.O,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=pg.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Vk(e).Qt({range:i},(function(r,i,o){var s=f(r,3),u=s[0],c=s[1],l=s[2],h=cg(c);if(u===n.userId&&t.path.isEqual(h))return Uk(e).get(l).next((function(e){if(!e)throw _p();Cp(e.userId===n.userId),a.push(ik(n.O,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new sy(Gp),i=[];return t.forEach((function(t){var a=pg.prefixForPath(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=Vk(e).Qt({range:o},(function(e,i,a){var o=f(e,3),s=o[0],u=o[1],c=o[2],l=cg(u);s===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(s)})),Lg.waitFor(i).next((function(){return n.je(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=pg.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new sy(Gp);return Vk(e).Qt({range:o},(function(e,t,a){var o=f(e,3),u=o[0],c=o[1],l=o[2],h=cg(c);u===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(l)):a.done()})).next((function(){return n.je(e,s)}))}},{key:"je",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Uk(e).get(t).next((function(e){if(null===e)throw _p();Cp(e.userId===n.userId),r.push(ik(n.O,e))})))})),Lg.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Rk(e.zt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Qe(t.batchId)})),Lg.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Qe",value:function(e){delete this.Ke[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Lg.resolve();var r=IDBKeyRange.lowerBound(pg.prefixForUser(t.userId)),i=[];return Vk(e).Qt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=cg(e[1]);i.push(a)}else r.done()})).next((function(){Cp(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Fk(e,this.userId,t)}},{key:"We",value:function(e){var t=this;return Bk(e).get(this.userId).next((function(e){return e||new hg(t.userId,-1,"")}))}}],[{key:"Jt",value:function(t,n,r,i){return Cp(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Fk(e,t,n){var r=pg.prefixForPath(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Vk(e).Qt({range:a,jt:!0},(function(e,n,r){var a=f(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function Uk(e){return Wg(e,dg.store)}function Vk(e){return Wg(e,pg.store)}function Bk(e){return Wg(e,hg.store)}var jk=function(){function e(t){v(this,e),this.ze=t}return y(e,[{key:"next",value:function(){return this.ze+=2,this.ze}}],[{key:"He",value:function(){return new e(0)}},{key:"Je",value:function(){return new e(-1)}}]),e}(),zk=function(){function e(t,n){v(this,e),this.referenceDelegate=t,this.O=n}return y(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Ye(e).next((function(n){var r=new jk(n.highestTargetId);return n.highestTargetId=r.next(),t.Xe(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Ye(e).next((function(e){return Qp.fromTimestamp(new Hp(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Ye(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Ye(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Xe(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Ze(e,t).next((function(){return n.Ye(e).next((function(r){return r.targetCount+=1,n.tn(t,r),n.Xe(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Ze(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return qk(e).delete(t.targetId)})).next((function(){return n.Ye(e)})).next((function(t){return Cp(t.targetCount>0),t.targetCount-=1,n.Xe(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return qk(e).Qt((function(o,s){var u=ak(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return Lg.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return qk(e).Qt((function(e,n){var r=ak(n);t(r)}))}},{key:"Ye",value:function(e){return Gk(e).get(bg.key).next((function(e){return Cp(null!==e),e}))}},{key:"Xe",value:function(e,t){return Gk(e).put(bg.key,t)}},{key:"Ze",value:function(e,t){return qk(e).put(ok(this.O,t))}},{key:"tn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Ye(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=jv(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return qk(e).Qt({range:r,index:kg.queryTargetsIndexName},(function(e,n,r){var a=ak(n);zv(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Kk(e);return t.forEach((function(t){var o=og(t.path);i.push(a.put(new wg(n,o))),i.push(r.referenceDelegate.addReference(e,n,t))})),Lg.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Kk(e);return Lg.forEach(t,(function(t){var a=og(t.path);return Lg.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Kk(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Kk(e),i=my();return r.Qt({range:n,jt:!0},(function(e,t,n){var r=cg(e[1]),a=new mv(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=og(t.path),r=IDBKeyRange.bound([n],[Wp(n)],!1,!0),i=0;return Kk(e).Qt({index:wg.documentTargetsIndex,jt:!0,range:r},(function(e,t,n){var r=f(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Tt",value:function(e,t){return qk(e).get(t).next((function(e){return e?ak(e):null}))}}]),e}();function qk(e){return Wg(e,kg.store)}function Gk(e){return Wg(e,bg.store)}function Kk(e){return Wg(e,wg.store)}function Wk(e){return Hk.apply(this,arguments)}function Hk(){return Hk=Nt(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Np.FAILED_PRECONDITION&&t.message===Dg){e.next=2;break}throw t;case 2:Ep("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Hk.apply(this,arguments)}function Qk(e,t){var n=f(e,2),r=n[0],i=n[1],a=f(t,2),o=a[0],s=a[1],u=Gp(r,o);return 0===u?Gp(i,s):u}var Yk=function(){function e(t){v(this,e),this.en=t,this.buffer=new sy(Qk),this.nn=0}return y(e,[{key:"sn",value:function(){return++this.nn}},{key:"rn",value:function(e){var t=[e,this.sn()];if(this.buffer.size<this.en)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Qk(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Xk=function(){function e(t,n){v(this,e),this.garbageCollector=t,this.asyncQueue=n,this.on=!1,this.cn=null}return y(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.un(e)}},{key:"stop",value:function(){this.cn&&(this.cn.cancel(),this.cn=null)}},{key:"started",get:function(){return null!==this.cn}},{key:"un",value:function(e){var t=this,n=this.on?3e5:6e4;Ep("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.cn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,Nt(Pt().mark((function n(){return Pt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.cn=null,t.on=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!Bg(n.t0)){n.next=12;break}Ep("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,Wk(n.t0);case 14:return n.next=16,t.un(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),Jk=function(){function e(t,n){v(this,e),this.an=t,this.params=n}return y(e,[{key:"calculateTargetCount",value:function(e,t){return this.an.hn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Lg.resolve(jp.A);var r=new Yk(t);return this.an.forEachTarget(e,(function(e){return r.rn(e.sequenceNumber)})).next((function(){return n.an.ln(e,(function(e){return r.rn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.an.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.an.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Ep("LruGarbageCollector","Garbage collection skipped; disabled"),Lg.resolve(Pk)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Ep("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Pk):n.fn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.an.getCacheSize(e)}},{key:"fn",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Ep("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),xp()<=Ft.DEBUG&&Ep("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),Lg.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Zk=function(){function e(t,n){v(this,e),this.db=t,this.garbageCollector=function(e,t){return new Jk(e,t)}(this,n)}return y(e,[{key:"hn",value:function(e){var t=this.dn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"dn",value:function(e){var t=0;return this.ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"ln",value:function(e,t){return this._n(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return $k(e,n)}},{key:"removeReference",value:function(e,t,n){return $k(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return $k(e,t)}},{key:"wn",value:function(e,t){return function(e,t){var n=!1;return Bk(e).Wt((function(r){return Fk(e,r,t).next((function(e){return e&&(n=!0),Lg.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this._n(e,(function(o,s){if(s<=t){var u=n.wn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Qp.min()),Kk(e).delete([0,og(o.path)])}))}));i.push(u)}})).next((function(){return Lg.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return $k(e,t)}},{key:"_n",value:function(e,t){var n,r=Kk(e),i=jp.A;return r.Qt({index:wg.documentTargetsIndex},(function(e,r){var a=f(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==jp.A&&t(new mv(cg(n)),i),i=u,n=s):i=jp.A})).next((function(){i!==jp.A&&t(new mv(cg(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function $k(e,t){return Kk(e).put(function(e,t){return new wg(0,og(e.path),t)}(t,e.currentSequenceNumber))}var ew=function(){function e(t,n){v(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return y(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=$e(n);try{for(i.s();!(r=i.n()).done;){var a=f(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){Xp(this.inner,(function(t,n){var r,i=$e(n);try{for(i.s();!(r=i.n()).done;){var a=f(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Jp(this.inner)}}]),e}(),tw=function(){function e(){v(this,e),this.changes=new ew((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return y(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Rv.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Lg.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),nw=function(){function e(t){v(this,e),this.O=t}return y(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return aw(e).put(ow(t),n)}},{key:"removeEntry",value:function(e,t){var n=aw(e),r=ow(t);return n.delete(r)}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.mn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this;return aw(e).get(ow(t)).next((function(e){return n.gn(t,e)}))}},{key:"yn",value:function(e,t){var n=this;return aw(e).get(ow(t)).next((function(e){return{document:n.gn(t,e),size:Lk(e)}}))}},{key:"getEntries",value:function(e,t){var n=this,r=fy();return this.pn(e,t,(function(e,t){var i=n.gn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"In",value:function(e,t){var n=this,r=fy(),i=new iy(mv.comparator);return this.pn(e,t,(function(e,t){var a=n.gn(e,t);r=r.insert(e,a),i=i.insert(e,Lk(t))})).next((function(){return{documents:r,En:i}}))}},{key:"pn",value:function(e,t,n){if(t.isEmpty())return Lg.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),a=i.getNext();return aw(e).Qt({range:r},(function(e,t,r){for(var o=mv.fromSegments(e);a&&mv.comparator(a,o)<0;)n(a,null),a=i.getNext();a&&a.isEqual(o)&&(n(a,t),a=i.hasNext()?i.getNext():null),a?r.Ut(a.path.toArray()):r.done()})).next((function(){for(;a;)n(a,null),a=i.hasNext()?i.getNext():null}))}},{key:"getAll",value:function(e,t,n){var r=this,i=fy(),a=t.length+1,o={};if(n.isEqual(Qp.min())){var s=t.toArray();o.range=IDBKeyRange.lowerBound(s)}else{var u=t.toArray(),c=ek(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=yg.collectionReadTimeIndex}return aw(e).Qt(o,(function(e,n,o){if(e.length===a){var s=r.gn(mv.fromSegments(e),n);t.isPrefixOf(s.key.path)?i=i.insert(s.key,s):o.done()}})).next((function(){return i}))}},{key:"newChangeBuffer",value:function(e){return new rw(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return iw(e).get(gg.key).next((function(e){return Cp(!!e),e}))}},{key:"mn",value:function(e,t){return iw(e).put(gg.key,t)}},{key:"gn",value:function(e,t){if(t){var n=Zg(this.O,t);if(!n.isNoDocument()||!n.version.isEqual(Qp.min()))return n}return Rv.newInvalidDocument(e)}}]),e}(),rw=function(e){C(n,e);var t=O(n);function n(e,r){var i;return v(this,n),(i=t.call(this)).Tn=e,i.trackRemovals=r,i.An=new ew((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return y(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new sy((function(e,t){return Gp(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.An.get(a);if(o.isValidDocument()){var u=$g(t.Tn.O,o);i=i.add(a.path.popLast());var c=Lk(u);r+=c-s,n.push(t.Tn.addEntry(e,a,u))}else if(r-=s,t.trackRemovals){var l=$g(t.Tn.O,o.convertToNoDocument(Qp.min()));n.push(t.Tn.addEntry(e,a,l))}else n.push(t.Tn.removeEntry(e,a))})),i.forEach((function(r){n.push(t.Tn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Tn.updateMetadata(e,r)),Lg.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Tn.yn(e,t).next((function(e){return n.An.set(t,e.size),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Tn.In(e,t).next((function(e){var t=e.documents;return e.En.forEach((function(e,t){n.An.set(e,t)})),t}))}}]),n}(tw);function iw(e){return Wg(e,gg.store)}function aw(e){return Wg(e,yg.store)}function ow(e){return e.path.toArray()}var sw=function(){function e(t){v(this,e),this.O=t}return y(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new Mg("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(fg.store)}(e),function(e){e.createObjectStore(hg.store,{keyPath:hg.keyPath}),e.createObjectStore(dg.store,{keyPath:dg.keyPath,autoIncrement:!0}).createIndex(dg.userMutationsIndex,dg.userMutationsKeyPath,{unique:!0}),e.createObjectStore(pg.store)}(e),uw(e),function(e){e.createObjectStore(yg.store)}(e));var o=Lg.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(wg.store),e.deleteObjectStore(kg.store),e.deleteObjectStore(bg.store)}(e),uw(e)),o=o.next((function(){return function(e){var t=e.store(bg.store),n=new bg(0,0,Qp.min().toTimestamp(),0);return t.put(bg.key,n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store(dg.store).qt().next((function(n){e.deleteObjectStore(dg.store),e.createObjectStore(dg.store,{keyPath:dg.keyPath,autoIncrement:!0}).createIndex(dg.userMutationsIndex,dg.userMutationsKeyPath,{unique:!0});var r=t.store(dg.store),i=n.map((function(e){return r.put(e)}));return Lg.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore(Eg.store,{keyPath:Eg.keyPath})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Rn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore(gg.store)}(e),i.Pn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.bn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.vn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(yg.store);t.createIndex(yg.readTimeIndex,yg.readTimeIndexPath,{unique:!1}),t.createIndex(yg.collectionReadTimeIndex,yg.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(o=o.next((function(){return i.Vn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore(Tg.store,{keyPath:Tg.keyPath})}(e),function(e){e.createObjectStore(Ig.store,{keyPath:Ig.keyPath})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore(Ag.store,{keyPath:Ag.keyPath});t.createIndex(Ag.collectionPathOverlayIndex,Ag.collectionPathOverlayIndexPath,{unique:!1}),t.createIndex(Ag.collectionGroupOverlayIndex,Ag.collectionGroupOverlayIndexPath,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){!function(e){e.createObjectStore(Sg.store,{keyPath:Sg.keyPath,autoIncrement:!0}).createIndex(Sg.collectionGroupIndex,Sg.collectionGroupIndexPath,{unique:!1}),e.createObjectStore(_g.store,{keyPath:_g.keyPath}).createIndex(_g.sequenceNumberIndex,_g.sequenceNumberIndexPath,{unique:!1}),e.createObjectStore(Cg.store,{keyPath:Cg.keyPath}).createIndex(Cg.documentKeyIndex,Cg.documentKeyIndexPath,{unique:!1})}(e)}))),o}},{key:"Pn",value:function(e){var t=0;return e.store(yg.store).Qt((function(e,n){t+=Lk(n)})).next((function(){var n=new gg(t);return e.store(gg.store).put(gg.key,n)}))}},{key:"Rn",value:function(e){var t=this,n=e.store(hg.store),r=e.store(dg.store);return n.qt().next((function(n){return Lg.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.qt(dg.userMutationsIndex,i).next((function(r){return Lg.forEach(r,(function(r){Cp(r.userId===n.userId);var i=ik(t.O,r);return Rk(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"bn",value:function(e){var t=e.store(wg.store),n=e.store(yg.store);return e.store(bg.store).get(bg.key).next((function(e){var r=[];return n.Qt((function(n,i){var a=new $p(n),o=function(e){return[0,og(e)]}(a);r.push(t.get(o).next((function(n){return n?Lg.resolve():function(n){return t.put(new wg(0,og(n),e.highestListenSequenceNumber))}(a)})))})).next((function(){return Lg.waitFor(r)}))}))}},{key:"vn",value:function(e,t){e.createObjectStore(xg.store,{keyPath:xg.keyPath});var n=t.store(xg.store),r=new Sk,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:og(i)})}};return t.store(yg.store).Qt({jt:!0},(function(e,t){var n=new $p(e);return i(n.popLast())})).next((function(){return t.store(pg.store).Qt({jt:!0},(function(e,t){var n=f(e,3),r=(n[0],n[1]),a=(n[2],cg(r));return i(a.popLast())}))}))}},{key:"Vn",value:function(e){var t=this,n=e.store(kg.store);return n.Qt((function(e,r){var i=ak(r),a=ok(t.O,i);return n.put(a)}))}}]),e}();function uw(e){e.createObjectStore(wg.store,{keyPath:wg.keyPath}).createIndex(wg.documentTargetsIndex,wg.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(kg.store,{keyPath:kg.keyPath}).createIndex(kg.queryTargetsIndexName,kg.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(bg.store)}var cw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",lw=function(){function e(t,n,r,i,a,o,s,u,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:12;if(v(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Sn=a,this.window=o,this.document=s,this.Dn=c,this.Cn=l,this.schemaVersion=f,this.Nn=null,this.xn=!1,this.isPrimary=!1,this.networkEnabled=!0,this.kn=null,this.inForeground=!1,this.On=null,this.Mn=null,this.$n=Number.NEGATIVE_INFINITY,this.Fn=function(e){return Promise.resolve()},!e.Vt())throw new Op(Np.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Zk(this,i),this.Bn=n+"main",this.O=new Jg(u),this.Ln=new Fg(this.Bn,this.schemaVersion,new sw(this.O)),this.Un=new zk(this.referenceDelegate,this.O),this.qn=function(e){return new nw(e)}(this.O),this.Kn=new lk,this.window&&this.window.localStorage?this.Gn=this.window.localStorage:(this.Gn=null,!1===l&&Tp("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return y(e,[{key:"start",value:function(){var e=this;return this.jn().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Op(Np.FAILED_PRECONDITION,cw);return e.Qn(),e.Wn(),e.zn(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Un.getHighestSequenceNumber(t)}))})).then((function(t){e.Nn=new jp(t,e.Dn)})).then((function(){e.xn=!0})).catch((function(t){return e.Ln&&e.Ln.close(),Promise.reject(t)}))}},{key:"Hn",value:function(e){var t=this;return this.Fn=function(){var n=Nt(Pt().mark((function n(r){return Pt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.Ln.Mt(function(){var t=Nt(Pt().mark((function t(n){return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Sn.enqueueAndForget(Nt(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.jn();case 4:case"end":return e.stop()}}),e)})))))}},{key:"jn",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return hw(t).put(new Eg(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Jn(t).next((function(t){t||(e.isPrimary=!1,e.Sn.enqueueRetryable((function(){return e.Fn(!1)})))}))})).next((function(){return e.Yn(t)})).next((function(n){return e.isPrimary&&!n?e.Xn(t).next((function(){return!1})):!!n&&e.Zn(t).next((function(){return!0}))}))})).catch((function(t){if(Bg(t))return Ep("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Ep("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Sn.enqueueRetryable((function(){return e.Fn(t)})),e.isPrimary=t}))}},{key:"Jn",value:function(e){var t=this;return fw(e).get(fg.key).next((function(e){return Lg.resolve(t.ts(e))}))}},{key:"es",value:function(e){return hw(e).delete(this.clientId)}},{key:"ns",value:function(){var e=Nt(Pt().mark((function e(){var t,n,r,i,a=this;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.ss(this.$n,18e5)){e.next=6;break}return this.$n=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Wg(e,Eg.store);return t.qt().next((function(e){var n=a.rs(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Lg.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Gn){n=$e(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Gn.removeItem(this.os(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"zn",value:function(){var e=this;this.Mn=this.Sn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.jn().then((function(){return e.ns()})).then((function(){return e.zn()}))}))}},{key:"ts",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Yn",value:function(e){var t=this;return this.Cn?Lg.resolve(!0):fw(e).get(fg.key).next((function(n){if(null!==n&&t.ss(n.leaseTimestampMs,5e3)&&!t.cs(n.ownerId)){if(t.ts(n)&&t.networkEnabled)return!0;if(!t.ts(n)){if(!n.allowTabSynchronization)throw new Op(Np.FAILED_PRECONDITION,cw);return!1}}return!(!t.networkEnabled||!t.inForeground)||hw(e).qt().next((function(e){return void 0===t.rs(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Ep("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Nt(Pt().mark((function e(){var t=this;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.xn=!1,this.us(),this.Mn&&(this.Mn.cancel(),this.Mn=null),this.hs(),this.ls(),e.next=7,this.Ln.runTransaction("shutdown","readwrite",[fg.store,Eg.store],(function(e){var n=new Kg(e,jp.A);return t.Xn(n).next((function(){return t.es(n)}))}));case 7:this.Ln.close(),this.fs();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"rs",value:function(e,t){var n=this;return e.filter((function(e){return n.ss(e.updateTimeMs,t)&&!n.cs(e.clientId)}))}},{key:"ds",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return hw(t).qt().next((function(t){return e.rs(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.xn}},{key:"getMutationQueue",value:function(e,t){return Mk.Jt(e,this.O,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Un}},{key:"getRemoteDocumentCache",value:function(){return this.qn}},{key:"getIndexManager",value:function(e){return new _k(e)}},{key:"getDocumentOverlayCache",value:function(e){return dk.Jt(this.O,e)}},{key:"getBundleCache",value:function(){return this.Kn}},{key:"runTransaction",value:function(e,t,n){var r=this;Ep("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",s=13===(i=this.schemaVersion)?Pg:12===i?Og:11===i?Ng:void _p();return this.Ln.runTransaction(e,o,s,(function(i){return a=new Kg(i,r.Nn?r.Nn.next():jp.A),"readwrite-primary"===t?r.Jn(a).next((function(e){return!!e||r.Yn(a)})).next((function(t){if(!t)throw Tp("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Sn.enqueueRetryable((function(){return r.Fn(!1)})),new Op(Np.FAILED_PRECONDITION,Dg);return n(a)})).next((function(e){return r.Zn(a).next((function(){return e}))})):r._s(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"_s",value:function(e){var t=this;return fw(e).get(fg.key).next((function(e){if(null!==e&&t.ss(e.leaseTimestampMs,5e3)&&!t.cs(e.ownerId)&&!t.ts(e)&&!(t.Cn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Op(Np.FAILED_PRECONDITION,cw)}))}},{key:"Zn",value:function(e){var t=new fg(this.clientId,this.allowTabSynchronization,Date.now());return fw(e).put(fg.key,t)}},{key:"Xn",value:function(e){var t=this,n=fw(e);return n.get(fg.key).next((function(e){return t.ts(e)?(Ep("IndexedDbPersistence","Releasing primary lease."),n.delete(fg.key)):Lg.resolve()}))}},{key:"ss",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Tp("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"Qn",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.On=function(){e.Sn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.jn()}))},this.document.addEventListener("visibilitychange",this.On),this.inForeground="visible"===this.document.visibilityState)}},{key:"hs",value:function(){this.On&&(this.document.removeEventListener("visibilitychange",this.On),this.On=null)}},{key:"Wn",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.kn=function(){t.us(),!lt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Sn.enterRestrictedMode(!0),t.Sn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.kn))}},{key:"ls",value:function(){this.kn&&(this.window.removeEventListener("pagehide",this.kn),this.kn=null)}},{key:"cs",value:function(e){var t;try{var n=null!==(null===(t=this.Gn)||void 0===t?void 0:t.getItem(this.os(e)));return Ep("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Tp("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"us",value:function(){if(this.Gn)try{this.Gn.setItem(this.os(this.clientId),String(Date.now()))}catch(gl){Tp("Failed to set zombie client id.",gl)}}},{key:"fs",value:function(){if(this.Gn)try{this.Gn.removeItem(this.os(this.clientId))}catch(gl){}}},{key:"os",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"Vt",value:function(){return Fg.Vt()}}]),e}();function fw(e){return Wg(e,fg.store)}function hw(e){return Wg(e,Eg.store)}function dw(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var pw=y((function e(t,n){v(this,e),this.progress=t,this.ws=n})),vw=function(){function e(t,n,r){v(this,e),this.qn=t,this.gs=n,this.indexManager=r}return y(e,[{key:"ys",value:function(e,t){var n=this;return this.gs.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.ps(e,t,r)}))}},{key:"ps",value:function(e,t,n){return this.qn.getEntry(e,t).next((function(e){var t,r=$e(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"Is",value:function(e,t){e.forEach((function(e,n){var r,i=$e(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"Es",value:function(e,t){var n=this;return this.qn.getEntries(e,t).next((function(t){return n.Ts(e,t).next((function(){return t}))}))}},{key:"Ts",value:function(e,t){var n=this;return this.gs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.Is(t,e)}))}},{key:"As",value:function(e,t,n){return function(e){return mv.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Rs(e,t.path):fm(t)?this.Ps(e,t,n):this.bs(e,t,n)}},{key:"Rs",value:function(e,t){return this.ys(e,new mv(t)).next((function(e){var t=dy();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Ps",value:function(e,t,n){var r=this,i=t.collectionGroup,a=dy();return this.indexManager.getCollectionParents(e,i).next((function(o){return Lg.forEach(o,(function(o){var s=function(e,t){return new im(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.bs(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"bs",value:function(e,t,n){var r,i=this;return this.qn.getAll(e,t.path,n).next((function(n){return r=n,i.gs.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=$e(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=$e(a.mutations);try{for(o.s();!(i=o.n()).done;){var s=i.value,u=s.key,c=r.get(u);null==c&&(c=Rv.newInvalidDocument(u),r=r.insert(u,c)),zm(s,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(u))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){gm(t,n)||(r=r.remove(e))})),r}))}}]),e}(),mw=function(){function e(t,n,r,i){v(this,e),this.targetId=t,this.fromCache=n,this.vs=r,this.Vs=i}return y(e,null,[{key:"Ss",value:function(t,n){var r,i=my(),a=my(),o=$e(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),yw=function(){function e(){v(this,e)}return y(e,[{key:"Ds",value:function(e){this.Cs=e}},{key:"As",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Qp.min())?this.Ns(e,t):this.Cs.Es(e,r).next((function(a){var o=i.xs(t,a);return(sm(t)||um(t))&&i.ks(t.limitType,o,r,n)?i.Ns(e,t):(xp()<=Ft.DEBUG&&Ep("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ym(t)),i.Cs.As(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"xs",value:function(e,t){var n=new sy(km(e));return t.forEach((function(t,r){gm(e,r)&&(n=n.add(r))})),n}},{key:"ks",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ns",value:function(e,t){return xp()<=Ft.DEBUG&&Ep("QueryEngine","Using full collection scan to execute query:",ym(t)),this.Cs.As(e,t,Qp.min())}}]),e}(),gw=function(){function e(t,n,r,i){v(this,e),this.persistence=t,this.Os=n,this.O=i,this.Ms=new iy(Gp),this.$s=new ew((function(e){return jv(e)}),zv),this.Fs=Qp.min(),this.Bs=t.getRemoteDocumentCache(),this.Un=t.getTargetCache(),this.Kn=t.getBundleCache(),this.Ls(r)}return y(e,[{key:"Ls",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.gs=this.persistence.getMutationQueue(e,this.indexManager),this.Us=new vw(this.Bs,this.gs,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Os.Ds(this.Us)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ms)}))}}]),e}();function kw(e,t,n,r){return new gw(e,t,n,r)}function ww(e,t){return bw.apply(this,arguments)}function bw(){return bw=Nt(Pt().mark((function e(t,n){var r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ap(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.gs.getAllMutationBatches(e).next((function(i){return t=i,r.Ls(n),r.gs.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=my(),u=$e(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=$e(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=$e(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=$e(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.Us.Es(e,s).next((function(e){return{qs:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),bw.apply(this,arguments)}function xw(e,t){var n=Ap(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Lg.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Cp(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.gs.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.gs.performConsistencyCheck(e)})).next((function(){return n.Us.Es(e,r)}))}))}function Ew(e){var t=Ap(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Un.getLastRemoteSnapshotVersion(e)}))}function Tw(e,t){var n=Ap(e),r=t.snapshotVersion,i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.Ms;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Un.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Un.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken(rv.EMPTY_BYTE_STRING,Qp.min()).withLastLimboFreeSnapshotVersion(Qp.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Un.updateTargetData(e,c))}}));var s=fy();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Iw(e,a,t.documentUpdates).next((function(e){s=e}))),!r.isEqual(Qp.min())){var u=n.Un.getLastRemoteSnapshotVersion(e).next((function(t){return n.Un.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(u)}return Lg.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.Us.Ts(e,s)})).next((function(){return s}))})).then((function(e){return n.Ms=i,e}))}function Iw(e,t,n){var r=my();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=fy();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(Qp.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):Ep("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function Sw(e,t){var n=Ap(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.gs.getNextMutationBatchAfterBatchId(e,t)}))}function _w(e,t){var n=Ap(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Un.getTargetData(e,t).next((function(i){return i?(r=i,Lg.resolve(r)):n.Un.allocateTargetId(e).next((function(i){return r=new Xg(t,i,0,e.currentSequenceNumber),n.Un.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.$s.set(t,e.targetId)),e}))}function Cw(e,t,n){return Aw.apply(this,arguments)}function Aw(){return Aw=Nt(Pt().mark((function e(t,n,r){var i,a,o;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Ap(t),a=i.Ms.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Bg(e.t1)){e.next=12;break}throw e.t1;case 12:Ep("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ms=i.Ms.remove(n),i.$s.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Aw.apply(this,arguments)}function Nw(e,t,n){var r=Ap(e),i=Qp.min(),a=my();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Ap(e),i=r.$s.get(n);return void 0!==i?Lg.resolve(r.Ms.get(i)):r.Un.getTargetData(t,n)}(r,e,dm(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Un.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Os.As(e,t,n?i:Qp.min(),n?a:my())})).next((function(e){return{documents:e,Ks:a}}))}))}function Ow(e,t){var n=Ap(e),r=Ap(n.Un),i=n.Ms.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Tt(e,t).next((function(e){return e?e.target:null}))}))}function Pw(e){var t=Ap(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=Ap(e),i=fy(),a=ek(n),o=aw(t),s=IDBKeyRange.lowerBound(a,!0);return o.Qt({index:yg.readTimeIndex,range:s},(function(e,t){var n=Zg(r.O,t);i=i.insert(n.key,n),a=t.readTime})).next((function(){return{ws:i,readTime:tk(a)}}))}(t.Bs,e,t.Fs)})).then((function(e){var n=e.ws,r=e.readTime;return t.Fs=r,n}))}function Dw(e){return Rw.apply(this,arguments)}function Rw(){return Rw=Nt(Pt().mark((function e(t){var n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ap(t),e.abrupt("return",n.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=aw(e),n=Qp.min();return t.Qt({index:yg.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=tk(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){n.Fs=e})));case 2:case"end":return e.stop()}}),e)}))),Rw.apply(this,arguments)}function Lw(e,t,n,r){return Mw.apply(this,arguments)}function Mw(){return Mw=Nt(Pt().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,h,d,p;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Ap(t),o=my(),s=fy(),u=$e(r);try{for(u.s();!(c=u.n()).done;)l=c.value,f=n.Gs(l.metadata.name),l.document&&(o=o.add(f)),(h=n.js(l)).setReadTime(n.Qs(l.metadata.readTime)),s=s.insert(f,h)}catch(v){u.e(v)}finally{u.f()}return d=a.Bs.newChangeBuffer({trackRemovals:!0}),e.next=7,_w(a,function(e){return dm(om($p.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Iw(e,d,s).next((function(t){return d.apply(e),t})).next((function(t){return a.Un.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Un.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.Us.Ts(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),Mw.apply(this,arguments)}function Fw(e,t){return Uw.apply(this,arguments)}function Uw(){return Uw=Nt(Pt().mark((function e(t,n){var r,i,a,o=arguments;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:my(),e.next=3,_w(t,dm(sk(n.bundledQuery)));case 3:return i=e.sent,a=Ap(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Ry(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Kn.saveNamedQuery(e,n);var o=i.withResumeToken(rv.EMPTY_BYTE_STRING,t);return a.Ms=a.Ms.insert(o.targetId,o),a.Un.updateTargetData(e,o).next((function(){return a.Un.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Un.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Kn.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Uw.apply(this,arguments)}var Vw=function(){function e(t){v(this,e),this.O=t,this.Ws=new Map,this.zs=new Map}return y(e,[{key:"getBundleMetadata",value:function(e,t){return Lg.resolve(this.Ws.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Ws.set(t.id,{id:(n=t).id,version:n.version,createTime:Ry(n.createTime)}),Lg.resolve()}},{key:"getNamedQuery",value:function(e,t){return Lg.resolve(this.zs.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.zs.set(t.name,function(e){return{name:e.name,query:sk(e.bundledQuery),readTime:Ry(e.readTime)}}(t)),Lg.resolve()}}]),e}(),Bw=function(){function e(){v(this,e),this.overlays=new iy(mv.comparator),this.Hs=new Map}return y(e,[{key:"getOverlay",value:function(e,t){return Lg.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n){r.Yt(e,t,n)})),Lg.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Hs.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Hs.delete(n)),Lg.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=new Map,i=t.length+1,a=new mv(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return Lg.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new iy((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=new Map,i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=new Map,c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(t,e)})),!(u.size>=r)););return Lg.resolve(u)}},{key:"Yt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);null!==r&&this.Hs.get(r.largestBatchId).delete(n.key),this.overlays=this.overlays.insert(n.key,new Yg(t,n));var i=this.Hs.get(t);void 0===i&&(i=new Set,this.Hs.set(t,i)),i.add(n.key)}}}]),e}(),jw=function(){function e(){v(this,e),this.Js=new sy(zw.Ys),this.Xs=new sy(zw.Zs)}return y(e,[{key:"isEmpty",value:function(){return this.Js.isEmpty()}},{key:"addReference",value:function(e,t){var n=new zw(e,t);this.Js=this.Js.add(n),this.Xs=this.Xs.add(n)}},{key:"ti",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.ei(new zw(e,t))}},{key:"ni",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"si",value:function(e){var t=this,n=new mv(new $p([])),r=new zw(n,e),i=new zw(n,e+1),a=[];return this.Xs.forEachInRange([r,i],(function(e){t.ei(e),a.push(e.key)})),a}},{key:"ii",value:function(){var e=this;this.Js.forEach((function(t){return e.ei(t)}))}},{key:"ei",value:function(e){this.Js=this.Js.delete(e),this.Xs=this.Xs.delete(e)}},{key:"ri",value:function(e){var t=new mv(new $p([])),n=new zw(t,e),r=new zw(t,e+1),i=my();return this.Xs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new zw(e,0),n=this.Js.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),zw=function(){function e(t,n){v(this,e),this.key=t,this.oi=n}return y(e,null,[{key:"Ys",value:function(e,t){return mv.comparator(e.key,t.key)||Gp(e.oi,t.oi)}},{key:"Zs",value:function(e,t){return Gp(e.oi,t.oi)||mv.comparator(e.key,t.key)}}]),e}(),qw=function(){function e(t,n){v(this,e),this.indexManager=t,this.referenceDelegate=n,this.gs=[],this.ci=1,this.ui=new sy(zw.Ys)}return y(e,[{key:"checkEmpty",value:function(e){return Lg.resolve(0===this.gs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ci;this.ci++,this.gs.length>0&&this.gs[this.gs.length-1];var a=new Hg(i,t,n,r);this.gs.push(a);var o,s=$e(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.ui=this.ui.add(new zw(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return Lg.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Lg.resolve(this.ai(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.hi(n),i=r<0?0:r;return Lg.resolve(this.gs.length>i?this.gs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Lg.resolve(0===this.gs.length?-1:this.ci-1)}},{key:"getAllMutationBatches",value:function(e){return Lg.resolve(this.gs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new zw(t,0),i=new zw(t,Number.POSITIVE_INFINITY),a=[];return this.ui.forEachInRange([r,i],(function(e){var t=n.ai(e.oi);a.push(t)})),Lg.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new sy(Gp);return t.forEach((function(e){var t=new zw(e,0),i=new zw(e,Number.POSITIVE_INFINITY);n.ui.forEachInRange([t,i],(function(e){r=r.add(e.oi)}))})),Lg.resolve(this.li(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;mv.isDocumentKey(i)||(i=i.child(""));var a=new zw(new mv(i),0),o=new sy(Gp);return this.ui.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.oi)),!0)}),a),Lg.resolve(this.li(o))}},{key:"li",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ai(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Cp(0===this.fi(t.batchId,"removed")),this.gs.shift();var r=this.ui;return Lg.forEach(t.mutations,(function(i){var a=new zw(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ui=r}))}},{key:"Qe",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new zw(t,0),r=this.ui.firstAfterOrEqual(n);return Lg.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.gs.length,Lg.resolve()}},{key:"fi",value:function(e,t){return this.hi(e)}},{key:"hi",value:function(e){return 0===this.gs.length?0:e-this.gs[0].batchId}},{key:"ai",value:function(e){var t=this.hi(e);return t<0||t>=this.gs.length?null:this.gs[t]}}]),e}(),Gw=function(){function e(t){v(this,e),this.di=t,this.docs=new iy(mv.comparator),this.size=0}return y(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.di(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Lg.resolve(n?n.document.mutableCopy():Rv.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=fy();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Rv.newInvalidDocument(e))})),Lg.resolve(r)}},{key:"getAll",value:function(e,t,n){for(var r=fy(),i=new mv(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value.document;if(!t.isPrefixOf(s.path))break;s.path.length>t.length+1||u.readTime.compareTo(n)<=0||(r=r.insert(u.key,u.mutableCopy()))}return Lg.resolve(r)}},{key:"_i",value:function(e,t){return Lg.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Kw(this)}},{key:"getSize",value:function(e){return Lg.resolve(this.size)}}]),e}(),Kw=function(e){C(n,e);var t=O(n);function n(e){var r;return v(this,n),(r=t.call(this)).Tn=e,r}return y(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Tn.addEntry(e,i)):t.Tn.removeEntry(r)})),Lg.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Tn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Tn.getEntries(e,t)}}]),n}(tw),Ww=function(){function e(t){v(this,e),this.persistence=t,this.wi=new ew((function(e){return jv(e)}),zv),this.lastRemoteSnapshotVersion=Qp.min(),this.highestTargetId=0,this.mi=0,this.gi=new jw,this.targetCount=0,this.yi=jk.He()}return y(e,[{key:"forEachTarget",value:function(e,t){return this.wi.forEach((function(e,n){return t(n)})),Lg.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Lg.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Lg.resolve(this.mi)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.yi.next(),Lg.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.mi&&(this.mi=t),Lg.resolve()}},{key:"Ze",value:function(e){this.wi.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.yi=new jk(t),this.highestTargetId=t),e.sequenceNumber>this.mi&&(this.mi=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Ze(t),this.targetCount+=1,Lg.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Ze(t),Lg.resolve()}},{key:"removeTargetData",value:function(e,t){return this.wi.delete(t.target),this.gi.si(t.targetId),this.targetCount-=1,Lg.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.wi.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.wi.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Lg.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Lg.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.wi.get(t)||null;return Lg.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.gi.ti(t,n),Lg.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.gi.ni(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Lg.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.gi.si(t),Lg.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.gi.ri(t);return Lg.resolve(n)}},{key:"containsKey",value:function(e,t){return Lg.resolve(this.gi.containsKey(t))}}]),e}(),Hw=function(){function e(t,n){var r=this;v(this,e),this.pi={},this.overlays={},this.Nn=new jp(0),this.xn=!1,this.xn=!0,this.referenceDelegate=t(this),this.Un=new Ww(this),this.indexManager=new Ik,this.qn=new Gw((function(e){return r.referenceDelegate.Ii(e)})),this.O=new Jg(n),this.Kn=new Vw(this.O)}return y(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.xn=!1,Promise.resolve()}},{key:"started",get:function(){return this.xn}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Bw,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.pi[e.toKey()];return n||(n=new qw(t,this.referenceDelegate),this.pi[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Un}},{key:"getRemoteDocumentCache",value:function(){return this.qn}},{key:"getBundleCache",value:function(){return this.Kn}},{key:"runTransaction",value:function(e,t,n){var r=this;Ep("MemoryPersistence","Starting transaction:",e);var i=new Qw(this.Nn.next());return this.referenceDelegate.Ei(),n(i).next((function(e){return r.referenceDelegate.Ti(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ai",value:function(e,t){return Lg.or(Object.values(this.pi).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Qw=function(e){C(n,e);var t=O(n);function n(e){var r;return v(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return y(n)}(Rg),Yw=function(){function e(t){v(this,e),this.persistence=t,this.Ri=new jw,this.Pi=null}return y(e,[{key:"vi",get:function(){if(this.Pi)return this.Pi;throw _p()}},{key:"addReference",value:function(e,t,n){return this.Ri.addReference(n,t),this.vi.delete(n.toString()),Lg.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Ri.removeReference(n,t),this.vi.add(n.toString()),Lg.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.vi.add(t.toString()),Lg.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Ri.si(t.targetId).forEach((function(e){return n.vi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ei",value:function(){this.Pi=new Set}},{key:"Ti",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Lg.forEach(this.vi,(function(r){var i=mv.fromPath(r);return t.Vi(e,i).next((function(e){e||n.removeEntry(i,Qp.min())}))})).next((function(){return t.Pi=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Vi(e,t).next((function(e){e?n.vi.delete(t.toString()):n.vi.add(t.toString())}))}},{key:"Ii",value:function(e){return 0}},{key:"Vi",value:function(e,t){var n=this;return Lg.or([function(){return Lg.resolve(n.Ri.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ai(e,t)}])}}],[{key:"bi",value:function(t){return new e(t)}}]),e}();function Xw(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Jw(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Zw(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var $w=function(){function e(t,n,r,i){v(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return y(e,[{key:"Di",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Si",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Op(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Tp("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),eb=function(){function e(t,n,r){v(this,e),this.targetId=t,this.state=n,this.error=r}return y(e,[{key:"Di",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Si",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Op(i.error.code,i.error.message))),a?new e(t,i.state,r):(Tp("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),tb=function(){function e(t,n){v(this,e),this.clientId=t,this.activeTargetIds=n}return y(e,null,[{key:"Si",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=gy(),o=0;i&&o<r.activeTargetIds.length;++o)i=vv(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Tp("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),nb=function(){function e(t,n){v(this,e),this.clientId=t,this.onlineState=n}return y(e,null,[{key:"Si",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Tp("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),rb=function(){function e(){v(this,e),this.activeTargetIds=gy()}return y(e,[{key:"Ci",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ni",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Di",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),ib=function(){function e(t,n,r,i,a){v(this,e),this.window=t,this.Sn=n,this.persistenceKey=r,this.xi=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ki=this.Oi.bind(this),this.Mi=new iy(Gp),this.started=!1,this.$i=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Fi=Xw(this.persistenceKey,this.xi),this.Bi=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.Mi=this.Mi.insert(this.xi,new rb),this.Li=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Ui=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.qi=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Ki=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Gi=function(e){return"firestore_bundle_loaded_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ki)}return y(e,[{key:"start",value:function(){var e=Nt(Pt().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f,h=this;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.ds();case 2:t=e.sent,n=$e(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.xi){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Xw(this.persistenceKey,i)))&&(o=tb.Si(i,a))&&(this.Mi=this.Mi.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.ji(),(s=this.storage.getItem(this.Ki))&&(u=this.Qi(s))&&this.Wi(u),c=$e(this.$i);try{for(c.s();!(l=c.n()).done;)f=l.value,this.Oi(f)}catch(d){c.e(d)}finally{c.f()}this.$i=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Bi,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.zi(this.Mi)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.Mi.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Hi(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Hi(e,t,n),this.Ji(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Zw(this.persistenceKey,e));if(n){var r=eb.Si(e,n);r&&(t=r.state)}}return this.Yi.Ci(e),this.ji(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Yi.Ni(e),this.ji()}},{key:"isLocalQueryTarget",value:function(e){return this.Yi.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Zw(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Xi(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Ji(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Zi(e)}},{key:"notifyBundleLoaded",value:function(){this.tr()}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ki),this.removeItem(this.Fi),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Ep("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Ep("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Ep("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"Oi",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Ep("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Fi)return void Tp("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Sn.enqueueRetryable(Nt(Pt().mark((function e(){var r,i,a,o,s,u;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=41;break}if(null===n.key){e.next=39;break}if(!t.Li.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.er(n.key),e.abrupt("return",t.nr(r,null));case 6:if(!(i=t.sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.nr(i.clientId,i));case 9:e.next=39;break;case 11:if(!t.Ui.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.ir(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.rr(a));case 16:e.next=39;break;case 18:if(!t.qi.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.cr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.ur(o));case 23:e.next=39;break;case 25:if(n.key!==t.Ki){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.Qi(n.newValue))){e.next=30;break}return e.abrupt("return",t.Wi(s));case 30:e.next=39;break;case 32:if(n.key!==t.Bi){e.next=37;break}u=function(e){var t=jp.A;if(null!=e)try{var n=JSON.parse(e);Cp("number"==typeof n),t=n}catch(e){Tp("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==jp.A&&t.sequenceNumberHandler(u),e.next=39;break;case 37:if(n.key!==t.Gi){e.next=39;break}return e.abrupt("return",t.syncEngine.ar());case 39:e.next=42;break;case 41:t.$i.push(n);case 42:case"end":return e.stop()}}),e)}))))}}},{key:"Yi",get:function(){return this.Mi.get(this.xi)}},{key:"ji",value:function(){this.setItem(this.Fi,this.Yi.Di())}},{key:"Hi",value:function(e,t,n){var r=new $w(this.currentUser,e,t,n),i=Jw(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Di())}},{key:"Ji",value:function(e){var t=Jw(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Zi",value:function(e){var t={clientId:this.xi,onlineState:e};this.storage.setItem(this.Ki,JSON.stringify(t))}},{key:"Xi",value:function(e,t,n){var r=Zw(this.persistenceKey,e),i=new eb(e,t,n);this.setItem(r,i.Di())}},{key:"tr",value:function(){this.setItem(this.Gi,"value-not-used")}},{key:"er",value:function(e){var t=this.Li.exec(e);return t?t[1]:null}},{key:"sr",value:function(e,t){var n=this.er(e);return tb.Si(n,t)}},{key:"ir",value:function(e,t){var n=this.Ui.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return $w.Si(new kp(i),r,t)}},{key:"cr",value:function(e,t){var n=this.qi.exec(e),r=Number(n[1]);return eb.Si(r,t)}},{key:"Qi",value:function(e){return nb.Si(e)}},{key:"rr",value:function(){var e=Nt(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.hr(t.batchId,t.state,t.error));case 2:Ep("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ur",value:function(e){return this.syncEngine.lr(e.targetId,e.state,e.error)}},{key:"nr",value:function(e,t){var n=this,r=t?this.Mi.insert(e,t):this.Mi.remove(e),i=this.zi(this.Mi),a=this.zi(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.dr(o,s).then((function(){n.Mi=r}))}},{key:"Wi",value:function(e){this.Mi.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"zi",value:function(e){var t=gy();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"Vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),ab=function(){function e(){v(this,e),this._r=new rb,this.wr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return y(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this._r.Ci(e),this.wr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.wr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this._r.Ni(e)}},{key:"isLocalQueryTarget",value:function(e){return this._r.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.wr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this._r.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this._r.activeTargetIds.has(e)}},{key:"start",value:function(){return this._r=new rb,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),ob=function(){function e(){v(this,e)}return y(e,[{key:"mr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),sb=function(){function e(){var t=this;v(this,e),this.gr=function(){return t.yr()},this.pr=function(){return t.Ir()},this.Er=[],this.Tr()}return y(e,[{key:"mr",value:function(e){this.Er.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.gr),window.removeEventListener("offline",this.pr)}},{key:"Tr",value:function(){window.addEventListener("online",this.gr),window.addEventListener("offline",this.pr)}},{key:"yr",value:function(){Ep("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=$e(this.Er);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Ir",value:function(){Ep("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=$e(this.Er);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"Vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),ub={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},cb=function(){function e(t){v(this,e),this.Ar=t.Ar,this.Rr=t.Rr}return y(e,[{key:"Pr",value:function(e){this.br=e}},{key:"vr",value:function(e){this.Vr=e}},{key:"onMessage",value:function(e){this.Sr=e}},{key:"close",value:function(){this.Rr()}},{key:"send",value:function(e){this.Ar(e)}},{key:"Dr",value:function(){this.br()}},{key:"Cr",value:function(e){this.Vr(e)}},{key:"Nr",value:function(e){this.Sr(e)}}]),e}(),lb=function(e){C(n,e);var t=O(n);function n(e){var r;return v(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return y(n,[{key:"Br",value:function(e,t,n,r){return new Promise((function(i,a){var o=new yp;o.listenOnce(hp.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case fp.NO_ERROR:var t=o.getResponseJson();Ep("Connection","XHR received:",JSON.stringify(t)),i(t);break;case fp.TIMEOUT:Ep("Connection",'RPC "'+e+'" timed out'),a(new Op(Np.DEADLINE_EXCEEDED,"Request time out"));break;case fp.HTTP_ERROR:var n=o.getStatus();if(Ep("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Np).indexOf(t)>=0?t:Np.UNKNOWN}(r.status);a(new Op(s,r.message))}else a(new Op(Np.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Op(Np.UNAVAILABLE,"Connection failed."));break;default:_p()}}finally{Ep("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"Ur",value:function(e,t,n){var r=[this.kr,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=cp(),a=lp(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new vp({})),this.Fr(o.initMessageHeaders,t,n),ct()||ht()||ut().indexOf("Electron/")>=0||dt()||ut().indexOf("MSAppHost/")>=0||ft()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");Ep("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,f=new cb({Ar:function(e){l?Ep("Connection","Not sending because WebChannel is closed:",e):(c||(Ep("Connection","Opening WebChannel transport."),u.open(),c=!0),Ep("Connection","WebChannel sending:",e),u.send(e))},Rr:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,mp.EventType.OPEN,(function(){l||Ep("Connection","WebChannel transport opened.")})),h(u,mp.EventType.CLOSE,(function(){l||(l=!0,Ep("Connection","WebChannel transport closed"),f.Cr())})),h(u,mp.EventType.ERROR,(function(e){l||(l=!0,Ip("Connection","WebChannel transport errored:",e),f.Cr(new Op(Np.UNAVAILABLE,"The operation could not be completed")))})),h(u,mp.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Cp(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Ep("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Jm[e];if(void 0!==t)return ry(t)}(a),s=i.message;void 0===o&&(o=Np.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,f.Cr(new Op(o,s)),u.close()}else Ep("Connection","WebChannel received:",n),f.Nr(n)}})),h(a,dp.STAT_EVENT,(function(e){e.stat===pp.PROXY?Ep("Connection","Detected buffering proxy"):e.stat===pp.NOPROXY&&Ep("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Dr()}),0),f}}]),n}(function(){function e(t){v(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.kr=n+"://"+t.host,this.Or="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return y(e,[{key:"Mr",value:function(e,t,n,r,i){var a=this.$r(e,t);Ep("RestConnection","Sending: ",a,n);var o={};return this.Fr(o,r,i),this.Br(e,a,o,n).then((function(e){return Ep("RestConnection","Received: ",e),e}),(function(t){throw Ip("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"Lr",value:function(e,t,n,r,i){return this.Mr(e,t,n,r,i)}},{key:"Fr",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+wp,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"$r",value:function(e,t){var n=ub[e];return"".concat(this.kr,"/v1/").concat(t,":").concat(n)}}]),e}());function fb(){return"undefined"!=typeof window?window:null}function hb(){return"undefined"!=typeof document?document:null}function db(e){return new Ny(e,!0)}var pb=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;v(this,e),this.Sn=t,this.timerId=n,this.qr=r,this.Kr=i,this.Gr=a,this.jr=0,this.Qr=null,this.Wr=Date.now(),this.reset()}return y(e,[{key:"reset",value:function(){this.jr=0}},{key:"zr",value:function(){this.jr=this.Gr}},{key:"Hr",value:function(e){var t=this;this.cancel();var n=Math.floor(this.jr+this.Jr()),r=Math.max(0,Date.now()-this.Wr),i=Math.max(0,n-r);i>0&&Ep("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.jr," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Qr=this.Sn.enqueueAfterDelay(this.timerId,i,(function(){return t.Wr=Date.now(),e()})),this.jr*=this.Kr,this.jr<this.qr&&(this.jr=this.qr),this.jr>this.Gr&&(this.jr=this.Gr)}},{key:"Yr",value:function(){null!==this.Qr&&(this.Qr.skipDelay(),this.Qr=null)}},{key:"cancel",value:function(){null!==this.Qr&&(this.Qr.cancel(),this.Qr=null)}},{key:"Jr",value:function(){return(Math.random()-.5)*this.jr}}]),e}(),vb=function(){function e(t,n,r,i,a,o,s,u){v(this,e),this.Sn=t,this.Xr=r,this.Zr=i,this.eo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.no=0,this.so=null,this.io=null,this.stream=null,this.ro=new pb(t,n)}return y(e,[{key:"oo",value:function(){return 1===this.state||5===this.state||this.co()}},{key:"co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.uo()}},{key:"stop",value:function(){var e=Nt(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.oo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ao",value:function(){this.state=0,this.ro.reset()}},{key:"ho",value:function(){var e=this;this.co()&&null===this.so&&(this.so=this.Sn.enqueueAfterDelay(this.Xr,6e4,(function(){return e.lo()})))}},{key:"fo",value:function(e){this._o(),this.stream.send(e)}},{key:"lo",value:function(){var e=Nt(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_o",value:function(){this.so&&(this.so.cancel(),this.so=null)}},{key:"wo",value:function(){this.io&&(this.io.cancel(),this.io=null)}},{key:"close",value:function(){var e=Nt(Pt().mark((function e(t,n){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._o(),this.wo(),this.ro.cancel(),this.no++,4!==t?this.ro.reset():n&&n.code===Np.RESOURCE_EXHAUSTED?(Tp(n.toString()),Tp("Using maximum backoff delay to prevent overloading the backend."),this.ro.zr()):n&&n.code===Np.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.mo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.vr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"mo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.yo(this.no),n=this.no;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=f(t,2),i=r[0],a=r[1];e.no===n&&e.po(i,a)}),(function(n){t((function(){var t=new Op(Np.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Io(t)}))}))}},{key:"po",value:function(e,t){var n=this,r=this.yo(this.no);this.stream=this.Eo(e,t),this.stream.Pr((function(){r((function(){return n.state=2,n.io=n.Sn.enqueueAfterDelay(n.Zr,1e4,(function(){return n.co()&&(n.state=3),Promise.resolve()})),n.listener.Pr()}))})),this.stream.vr((function(e){r((function(){return n.Io(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"uo",value:function(){var e=this;this.state=5,this.ro.Hr(Nt(Pt().mark((function t(){return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Io",value:function(e){return Ep("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"yo",value:function(e){var t=this;return function(n){t.Sn.enqueueAndForget((function(){return t.no===e?n():(Ep("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),mb=function(e){C(n,e);var t=O(n);function n(e,r,i,a,o,s){var u;return v(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).O=o,u}return y(n,[{key:"Eo",value:function(e,t){return this.eo.Ur("Listen",e,t)}},{key:"onMessage",value:function(e){this.ro.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:_p()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(Cp(void 0===t||"string"==typeof t),rv.fromBase64String(t||"")):(Cp(void 0===t||t instanceof Uint8Array),rv.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?Np.UNKNOWN:ry(e.code);return new Op(t,e.message||"")}(o);n=new Ey(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=Uy(e,u.document.name),l=Ry(u.document.updateTime),f=new Pv({mapValue:{fields:u.document.fields}}),h=Rv.newFoundDocument(c,l,f),d=u.targetIds||[],p=u.removedTargetIds||[];n=new by(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=Uy(e,v.document),y=v.readTime?Ry(v.readTime):Qp.min(),g=Rv.newNoDocument(m,y),k=v.removedTargetIds||[];n=new by([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var b=Uy(e,w.document),x=w.removedTargetIds||[];n=new by([],x,b,null)}else{if(!("filter"in t))return _p();t.filter;var E=t.filter;E.targetId;var T=E.count||0,I=new ty(T),S=E.targetId;n=new xy(S,I)}return n}(this.O,e),n=function(e){if(!("targetChange"in e))return Qp.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Qp.min():t.readTime?Ry(t.readTime):Qp.min()}(e);return this.listener.To(t,n)}},{key:"Ao",value:function(e){var t={};t.database=jy(this.O),t.addTarget=function(e,t){var n,r=t.target;return(n=qv(r)?{documents:Qy(e,r)}:{query:Yy(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Py(e,t.resumeToken):t.snapshotVersion.compareTo(Qp.min())>0&&(n.readTime=Oy(e,t.snapshotVersion.toTimestamp())),n}(this.O,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return _p()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.O,e);n&&(t.labels=n),this.fo(t)}},{key:"Ro",value:function(e){var t={};t.database=jy(this.O),t.removeTarget=e,this.fo(t)}}]),n}(vb),yb=function(e){C(n,e);var t=O(n);function n(e,r,i,a,o,s){var u;return v(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).O=o,u.Po=!1,u}return y(n,[{key:"bo",get:function(){return this.Po}},{key:"start",value:function(){this.Po=!1,this.lastStreamToken=void 0,Wn(A(n.prototype),"start",this).call(this)}},{key:"mo",value:function(){this.Po&&this.vo([])}},{key:"Eo",value:function(e,t){return this.eo.Ur("Write",e,t)}},{key:"onMessage",value:function(e){if(Cp(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Po){this.ro.reset();var t=function(e,t){return e&&e.length>0?(Cp(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Ry(e.updateTime):Ry(t);return n.isEqual(Qp.min())&&(n=Ry(t)),new Fm(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Ry(e.commitTime);return this.listener.Vo(n,t)}return Cp(!e.writeResults||0===e.writeResults.length),this.Po=!0,this.listener.So()}},{key:"Do",value:function(){var e={};e.database=jy(this.O),this.fo(e)}},{key:"vo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Wy(t.O,e)}))};this.fo(n)}}]),n}(vb),gb=function(e){C(n,e);var t=O(n);function n(e,r,i,a){var o;return v(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.eo=i,o.O=a,o.Co=!1,o}return y(n,[{key:"No",value:function(){if(this.Co)throw new Op(Np.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Mr",value:function(e,t,n){var r=this;return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=f(i,2),o=a[0],s=a[1];return r.eo.Mr(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Np.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Op(Np.UNKNOWN,e.toString())}))}},{key:"Lr",value:function(e,t,n){var r=this;return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=f(i,2),o=a[0],s=a[1];return r.eo.Lr(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Np.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Op(Np.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Co=!0}}]),n}(function(){return y((function e(){v(this,e)}))}()),kb=function(){function e(t,n){v(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.xo=0,this.ko=null,this.Oo=!0}return y(e,[{key:"Mo",value:function(){var e=this;0===this.xo&&(this.$o("Unknown"),this.ko=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ko=null,e.Fo("Backend didn't respond within 10 seconds."),e.$o("Offline"),Promise.resolve()})))}},{key:"Bo",value:function(e){"Online"===this.state?this.$o("Unknown"):(this.xo++,this.xo>=1&&(this.Lo(),this.Fo("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.$o("Offline")))}},{key:"set",value:function(e){this.Lo(),this.xo=0,"Online"===e&&(this.Oo=!1),this.$o(e)}},{key:"$o",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"Fo",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Oo?(Tp(t),this.Oo=!1):Ep("OnlineStateTracker",t)}},{key:"Lo",value:function(){null!==this.ko&&(this.ko.cancel(),this.ko=null)}}]),e}(),wb=y((function e(t,n,r,i,a){var o=this;v(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Uo=[],this.qo=new Map,this.Ko=new Set,this.Go=[],this.jo=a,this.jo.mr((function(e){r.enqueueAndForget(Nt(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Ob(o),!e.t0){e.next=5;break}return Ep("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Nt(Pt().mark((function e(t){var n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Ap(t)).Ko.add(4),e.next=4,Eb(n);case 4:return n.Qo.set("Unknown"),n.Ko.delete(4),e.next=8,bb(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.Qo=new kb(r,i)}));function bb(e){return xb.apply(this,arguments)}function xb(){return xb=Nt(Pt().mark((function e(t){var n,r,i;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ob(t)){e.next=18;break}n=$e(t.Go),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),xb.apply(this,arguments)}function Eb(e){return Tb.apply(this,arguments)}function Tb(){return Tb=Nt(Pt().mark((function e(t){var n,r,i;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=$e(t.Go),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Tb.apply(this,arguments)}function Ib(e,t){var n=Ap(e);n.qo.has(t.targetId)||(n.qo.set(t.targetId,t),Nb(n)?Ab(n):ox(n).co()&&_b(n,t))}function Sb(e,t){var n=Ap(e),r=ox(n);n.qo.delete(t),r.co()&&Cb(n,t),0===n.qo.size&&(r.co()?r.ho():Ob(n)&&n.Qo.set("Unknown"))}function _b(e,t){e.Wo.Z(t.targetId),ox(e).Ao(t)}function Cb(e,t){e.Wo.Z(t),ox(e).Ro(t)}function Ab(e){e.Wo=new Iy({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Tt:function(t){return e.qo.get(t)||null}}),ox(e).start(),e.Qo.Mo()}function Nb(e){return Ob(e)&&!ox(e).oo()&&e.qo.size>0}function Ob(e){return 0===Ap(e).Ko.size}function Pb(e){e.Wo=void 0}function Db(e){return Rb.apply(this,arguments)}function Rb(){return Rb=Nt(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.qo.forEach((function(e,n){_b(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Rb.apply(this,arguments)}function Lb(e,t){return Mb.apply(this,arguments)}function Mb(){return Mb=Nt(Pt().mark((function e(t,n){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Pb(t),Nb(t)?(t.Qo.Bo(n),Ab(t)):t.Qo.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Mb.apply(this,arguments)}function Fb(e,t,n){return Ub.apply(this,arguments)}function Ub(){return Ub=Nt(Pt().mark((function e(t,n,r){var i;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Qo.set("Online"),!(n instanceof Ey&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Nt(Pt().mark((function e(t,n){var r,i,a,o;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=$e(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.qo.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.qo.delete(o),t.Wo.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Ep("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Vb(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof by?t.Wo.ct(n):n instanceof xy?t.Wo._t(n):t.Wo.ht(n),r.isEqual(Qp.min())){e.next=29;break}return e.prev=14,e.next=17,Ew(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Wo.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.qo.get(r);i&&e.qo.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.qo.get(t);if(n){e.qo.set(t,n.withResumeToken(rv.EMPTY_BYTE_STRING,n.snapshotVersion)),Cb(e,t);var r=new Xg(n.target,t,1,n.sequenceNumber);_b(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Ep("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Vb(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Ub.apply(this,arguments)}function Vb(e,t,n){return Bb.apply(this,arguments)}function Bb(){return Bb=Nt(Pt().mark((function e(t,n,r){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Bg(n)){e.next=2;break}throw n;case 2:return t.Ko.add(1),e.next=5,Eb(t);case 5:t.Qo.set("Offline"),r||(r=function(){return Ew(t.localStore)}),t.asyncQueue.enqueueRetryable(Nt(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ep("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Ko.delete(1),e.next=6,bb(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),Bb.apply(this,arguments)}function jb(e,t){return t().catch((function(n){return Vb(e,n,t)}))}function zb(e){return qb.apply(this,arguments)}function qb(){return qb=Nt(Pt().mark((function e(t){var n,r,i,a;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ap(t),r=sx(n),i=n.Uo.length>0?n.Uo[n.Uo.length-1].batchId:-1;case 2:if(!Gb(n)){e.next=19;break}return e.prev=3,e.next=6,Sw(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Uo.length&&r.ho(),e.abrupt("break",19);case 10:i=a.batchId,Kb(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Vb(n,e.t0);case 17:e.next=2;break;case 19:Wb(n)&&Hb(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),qb.apply(this,arguments)}function Gb(e){return Ob(e)&&e.Uo.length<10}function Kb(e,t){e.Uo.push(t);var n=sx(e);n.co()&&n.bo&&n.vo(t.mutations)}function Wb(e){return Ob(e)&&!sx(e).oo()&&e.Uo.length>0}function Hb(e){sx(e).start()}function Qb(e){return Yb.apply(this,arguments)}function Yb(){return Yb=Nt(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:sx(t).Do();case 1:case"end":return e.stop()}}),e)}))),Yb.apply(this,arguments)}function Xb(e){return Jb.apply(this,arguments)}function Jb(){return Jb=Nt(Pt().mark((function e(t){var n,r,i,a;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=sx(t),r=$e(t.Uo);try{for(r.s();!(i=r.n()).done;)a=i.value,n.vo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Jb.apply(this,arguments)}function Zb(e,t,n){return $b.apply(this,arguments)}function $b(){return $b=Nt(Pt().mark((function e(t,n,r){var i,a;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Uo.shift(),a=Qg.from(i,n,r),e.next=3,jb(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,zb(t);case 5:case"end":return e.stop()}}),e)}))),$b.apply(this,arguments)}function ex(e,t){return tx.apply(this,arguments)}function tx(){return tx=Nt(Pt().mark((function e(t,n){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&sx(t).bo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Nt(Pt().mark((function e(t,n){var r,i;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ny(i=n.code)||i===Np.ABORTED){e.next=7;break}return r=t.Uo.shift(),sx(t).ao(),e.next=5,jb(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,zb(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Wb(t)&&Hb(t);case 5:case"end":return e.stop()}}),e)}))),tx.apply(this,arguments)}function nx(e,t){return rx.apply(this,arguments)}function rx(){return rx=Nt(Pt().mark((function e(t,n){var r,i;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Ap(t)).asyncQueue.verifyOperationInProgress(),Ep("RemoteStore","RemoteStore received new credentials"),i=Ob(r),r.Ko.add(3),e.next=6,Eb(r);case 6:return i&&r.Qo.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Ko.delete(3),e.next=12,bb(r);case 12:case"end":return e.stop()}}),e)}))),rx.apply(this,arguments)}function ix(e,t){return ax.apply(this,arguments)}function ax(){return ax=Nt(Pt().mark((function e(t,n){var r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ap(t),!n){e.next=7;break}return r.Ko.delete(2),e.next=5,bb(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Ko.add(2),e.next=12,Eb(r);case 12:r.Qo.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),ax.apply(this,arguments)}function ox(e){return e.zo||(e.zo=function(e,t,n){var r=Ap(e);return r.No(),new mb(t,r.eo,r.authCredentials,r.appCheckCredentials,r.O,n)}(e.datastore,e.asyncQueue,{Pr:Db.bind(null,e),vr:Lb.bind(null,e),To:Fb.bind(null,e)}),e.Go.push(function(){var t=Nt(Pt().mark((function t(n){return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.zo.ao(),Nb(e)?Ab(e):e.Qo.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.zo.stop();case 6:Pb(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.zo}function sx(e){return e.Ho||(e.Ho=function(e,t,n){var r=Ap(e);return r.No(),new yb(t,r.eo,r.authCredentials,r.appCheckCredentials,r.O,n)}(e.datastore,e.asyncQueue,{Pr:Qb.bind(null,e),vr:ex.bind(null,e),So:Xb.bind(null,e),Vo:Zb.bind(null,e)}),e.Go.push(function(){var t=Nt(Pt().mark((function t(n){return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Ho.ao(),t.next=4,zb(e);case 4:t.next=9;break;case 6:return t.next=8,e.Ho.stop();case 8:e.Uo.length>0&&(Ep("RemoteStore","Stopping write stream with ".concat(e.Uo.length," pending writes")),e.Uo=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Ho}var ux=function(){function e(t,n,r,i,a){v(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Pp,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return y(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Op(Np.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function cx(e,t){if(Tp("AsyncQueue","".concat(t,": ").concat(e)),Bg(e))return new Op(Np.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var lx=function(){function e(t){v(this,e),this.comparator=t?function(e,n){return t(e,n)||mv.comparator(e.key,n.key)}:function(e,t){return mv.comparator(e.key,t.key)},this.keyedMap=dy(),this.sortedSet=new iy(this.comparator)}return y(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),fx=function(){function e(){v(this,e),this.Jo=new iy(mv.comparator)}return y(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Jo.get(t);n?0!==e.type&&3===n.type?this.Jo=this.Jo.insert(t,e):3===e.type&&1!==n.type?this.Jo=this.Jo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Jo=this.Jo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Jo=this.Jo.remove(t):1===e.type&&2===n.type?this.Jo=this.Jo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):_p():this.Jo=this.Jo.insert(t,e)}},{key:"Yo",value:function(){var e=[];return this.Jo.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),hx=function(){function e(t,n,r,i,a,o,s,u){v(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u}return y(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,lx.emptySet(n),a,r,i,!0,!1)}}]),e}(),dx=y((function e(){v(this,e),this.Xo=void 0,this.listeners=[]})),px=y((function e(){v(this,e),this.queries=new ew((function(e){return mm(e)}),vm),this.onlineState="Unknown",this.Zo=new Set}));function vx(e,t){return mx.apply(this,arguments)}function mx(){return mx=Nt(Pt().mark((function e(t,n){var r,i,a,o,s;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ap(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new dx),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Xo=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=cx(e.t0,"Initialization of query '".concat(ym(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.tc(r.onlineState),o.Xo&&n.ec(o.Xo)&&bx(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),mx.apply(this,arguments)}function yx(e,t){return gx.apply(this,arguments)}function gx(){return gx=Nt(Pt().mark((function e(t,n){var r,i,a,o,s;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ap(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),gx.apply(this,arguments)}function kx(e,t){var n,r=Ap(e),i=!1,a=$e(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=$e(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.ec(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.Xo=o}}}catch(f){a.e(f)}finally{a.f()}i&&bx(r)}function wx(e,t,n){var r=Ap(e),i=r.queries.get(t);if(i){var a,o=$e(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function bx(e){e.Zo.forEach((function(e){e.next()}))}var xx=function(){function e(t,n,r){v(this,e),this.query=t,this.nc=n,this.sc=!1,this.ic=null,this.onlineState="Unknown",this.options=r||{}}return y(e,[{key:"ec",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=$e(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new hx(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.sc?this.rc(e)&&(this.nc.next(e),a=!0):this.oc(e,this.onlineState)&&(this.cc(e),a=!0),this.ic=e,a}},{key:"onError",value:function(e){this.nc.error(e)}},{key:"tc",value:function(e){this.onlineState=e;var t=!1;return this.ic&&!this.sc&&this.oc(this.ic,e)&&(this.cc(this.ic),t=!0),t}},{key:"oc",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.uc||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"rc",value:function(e){if(e.docChanges.length>0)return!0;var t=this.ic&&this.ic.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"cc",value:function(e){e=hx.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.sc=!0,this.nc.next(e)}}]),e}(),Ex=function(){function e(t,n){v(this,e),this.payload=t,this.byteLength=n}return y(e,[{key:"ac",value:function(){return"metadata"in this.payload}}]),e}(),Tx=function(){function e(t){v(this,e),this.O=t}return y(e,[{key:"Gs",value:function(e){return Uy(this.O,e)}},{key:"js",value:function(e){return e.metadata.exists?Gy(this.O,e.document,!1):Rv.newNoDocument(this.Gs(e.metadata.name),this.Qs(e.metadata.readTime))}},{key:"Qs",value:function(e){return Ry(e)}}]),e}(),Ix=function(){function e(t,n,r){v(this,e),this.hc=t,this.localStore=n,this.O=r,this.queries=[],this.documents=[],this.progress=Sx(t)}return y(e,[{key:"lc",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"fc",value:function(e){var t,n=new Map,r=new Tx(this.O),i=$e(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.Gs(a.metadata.name),u=$e(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||my()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Nt(Pt().mark((function e(){var t,n,r,i,a;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lw(this.localStore,new Tx(this.O),this.documents,this.hc.id);case 2:t=e.sent,n=this.fc(this.documents),r=$e(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Fw(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",new pw(Object.assign({},this.progress),t)));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function Sx(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var _x=y((function e(t){v(this,e),this.key=t})),Cx=y((function e(t){v(this,e),this.key=t})),Ax=function(){function e(t,n){v(this,e),this.query=t,this.dc=n,this._c=null,this.current=!1,this.wc=my(),this.mutatedKeys=my(),this.mc=km(t),this.gc=new lx(this.mc)}return y(e,[{key:"yc",get:function(){return this.dc}},{key:"Ic",value:function(e,t){var n=this,r=t?t.Ec:new fx,i=t?t.gc:this.gc,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u=sm(this.query)&&i.size===this.query.limit?i.last():null,c=um(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=gm(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Tc(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.mc(f,u)>0||c&&n.mc(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),sm(this.query)||um(this.query))for(;o.size>this.query.limit;){var l=sm(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{gc:o,Ec:r,ks:s,mutatedKeys:a}}},{key:"Tc",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.gc;this.gc=e.gc,this.mutatedKeys=e.mutatedKeys;var a=e.Ec.Yo();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _p()}};return n(e)-n(t)}(e.type,t.type)||r.mc(e.doc,t.doc)})),this.Ac(n);var o=t?this.Rc():[],s=0===this.wc.size&&this.current?1:0,u=s!==this._c;return this._c=s,0!==a.length||u?{snapshot:new hx(this.query,e.gc,i,a,e.mutatedKeys,0===s,u,!1),Pc:o}:{Pc:o}}},{key:"tc",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({gc:this.gc,Ec:new fx,mutatedKeys:this.mutatedKeys,ks:!1},!1)):{Pc:[]}}},{key:"bc",value:function(e){return!this.dc.has(e)&&!!this.gc.has(e)&&!this.gc.get(e).hasLocalMutations}},{key:"Ac",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.dc=t.dc.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.dc=t.dc.delete(e)})),this.current=e.current)}},{key:"Rc",value:function(){var e=this;if(!this.current)return[];var t=this.wc;this.wc=my(),this.gc.forEach((function(t){e.bc(t.key)&&(e.wc=e.wc.add(t.key))}));var n=[];return t.forEach((function(t){e.wc.has(t)||n.push(new Cx(t))})),this.wc.forEach((function(e){t.has(e)||n.push(new _x(e))})),n}},{key:"vc",value:function(e){this.dc=e.Ks,this.wc=my();var t=this.Ic(e.documents);return this.applyChanges(t,!0)}},{key:"Vc",value:function(){return hx.fromInitialDocuments(this.query,this.gc,this.mutatedKeys,0===this._c)}}]),e}(),Nx=y((function e(t,n,r){v(this,e),this.query=t,this.targetId=n,this.view=r})),Ox=y((function e(t){v(this,e),this.key=t,this.Sc=!1})),Px=function(){function e(t,n,r,i,a,o){v(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Dc={},this.Cc=new ew((function(e){return mm(e)}),vm),this.Nc=new Map,this.xc=new Set,this.kc=new iy(mv.comparator),this.Oc=new Map,this.Mc=new jw,this.$c={},this.Fc=new Map,this.Bc=jk.Je(),this.onlineState="Unknown",this.Lc=void 0}return y(e,[{key:"isPrimaryClient",get:function(){return!0===this.Lc}}]),e}();function Dx(e,t){return Rx.apply(this,arguments)}function Rx(){return Rx=Nt(Pt().mark((function e(t,n){var r,i,a,o,s,u;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=SE(t),!(o=r.Cc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Vc(),e.next=15;break;case 6:return e.next=8,_w(r.localStore,dm(n));case 8:return s=e.sent,r.isPrimaryClient&&Ib(r.remoteStore,s),u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,Lx(r,n,i,"current"===u);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Rx.apply(this,arguments)}function Lx(e,t,n,r){return Mx.apply(this,arguments)}function Mx(){return Mx=Nt(Pt().mark((function e(t,n,r,i){var a,o,s,u,c,l;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Uc=function(e,n,r){return function(){var e=Nt(Pt().mark((function e(t,n,r,i){var a,o,s;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Ic(r),e.t0=a.ks,!e.t0){e.next=6;break}return e.next=5,Nw(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Ic(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(nE(t,n.targetId,s.Pc),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Nw(t.localStore,n,!0);case 3:return a=e.sent,o=new Ax(n,a.Ks),s=o.Ic(a.documents),u=wy.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(s,t.isPrimaryClient,u),nE(t,r,c.Pc),l=new Nx(n,r,o),e.abrupt("return",(t.Cc.set(n,l),t.Nc.has(r)?t.Nc.get(r).push(n):t.Nc.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),Mx.apply(this,arguments)}function Fx(e,t){return Ux.apply(this,arguments)}function Ux(){return Ux=Nt(Pt().mark((function e(t,n){var r,i,a;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ap(t),i=r.Cc.get(n),!((a=r.Nc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Nc.set(i.targetId,a.filter((function(e){return!vm(e,n)}))),void r.Cc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Cw(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Sb(r.remoteStore,i.targetId),eE(r,i.targetId)})).catch(Wk);case 9:e.next=14;break;case 11:return eE(r,i.targetId),e.next=14,Cw(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Ux.apply(this,arguments)}function Vx(e,t,n){return Bx.apply(this,arguments)}function Bx(){return Bx=Nt(Pt().mark((function e(t,n,r){var i,a,o;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_E(t),e.prev=1,e.next=4,function(e,t){var n,r=Ap(e),i=Hp.now(),a=t.reduce((function(e,t){return e.add(t.key)}),my());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Us.Es(e,a).next((function(a){n=a;var o,s=[],u=$e(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=qm(c,n.get(c.key));null!=l&&s.push(new Hm(c.key,l,Dv(l.value.mapValue),Um.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return r.gs.addMutationBatch(e,i,s,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.$c[e.currentUser.toKey()];r||(r=new iy(Gp)),r=r.insert(t,n),e.$c[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,aE(i,a.changes);case 9:return e.next=11,zb(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=cx(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Bx.apply(this,arguments)}function jx(e,t){return zx.apply(this,arguments)}function zx(){return zx=Nt(Pt().mark((function e(t,n){var r,i;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ap(t),e.prev=1,e.next=4,Tw(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Oc.get(t);n&&(Cp(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Sc=!0:e.modifiedDocuments.size>0?Cp(n.Sc):e.removedDocuments.size>0&&(Cp(n.Sc),n.Sc=!1))})),e.next=8,aE(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Wk(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),zx.apply(this,arguments)}function qx(e,t,n){var r=Ap(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Cc.forEach((function(e,n){var r=n.view.tc(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Ap(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=$e(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.tc(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&bx(n)}(r.eventManager,t),i.length&&r.Dc.To(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Gx(e,t,n){return Kx.apply(this,arguments)}function Kx(){return Kx=Nt(Pt().mark((function e(t,n,r){var i,a,o,s,u,c;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Ap(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Oc.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new iy(mv.comparator)).insert(o,Rv.newNoDocument(o,Qp.min())),u=my().add(o),c=new ky(Qp.min(),new Map,new sy(Gp),s,u),e.next=9,jx(i,c);case 9:i.kc=i.kc.remove(o),i.Oc.delete(n),iE(i),e.next=16;break;case 14:return e.next=16,Cw(i.localStore,n,!1).then((function(){return eE(i,n,r)})).catch(Wk);case 16:case"end":return e.stop()}}),e)}))),Kx.apply(this,arguments)}function Wx(e,t){return Hx.apply(this,arguments)}function Hx(){return Hx=Nt(Pt().mark((function e(t,n){var r,i,a;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ap(t),i=n.batch.batchId,e.prev=1,e.next=4,xw(r.localStore,n);case 4:return a=e.sent,$x(r,i,null),Zx(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,aE(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Wk(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Hx.apply(this,arguments)}function Qx(e,t,n){return Yx.apply(this,arguments)}function Yx(){return Yx=Nt(Pt().mark((function e(t,n,r){var i,a;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ap(t),e.prev=1,e.next=4,function(e,t){var n=Ap(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.gs.lookupMutationBatch(e,t).next((function(t){return Cp(null!==t),r=t.keys(),n.gs.removeMutationBatch(e,t)})).next((function(){return n.gs.performConsistencyCheck(e)})).next((function(){return n.Us.Es(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,$x(i,n,r),Zx(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,aE(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Wk(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Yx.apply(this,arguments)}function Xx(e,t){return Jx.apply(this,arguments)}function Jx(){return Jx=Nt(Pt().mark((function e(t,n){var r,i,a,o;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ob((r=Ap(t)).remoteStore)||Ep("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Ap(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.gs.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.Fc.get(i)||[]).push(n),r.Fc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=cx(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),Jx.apply(this,arguments)}function Zx(e,t){(e.Fc.get(t)||[]).forEach((function(e){e.resolve()})),e.Fc.delete(t)}function $x(e,t,n){var r=Ap(e),i=r.$c[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.$c[r.currentUser.toKey()]=i}}function eE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=$e(e.Nc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Cc.delete(a),n&&e.Dc.qc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Nc.delete(t),e.isPrimaryClient&&e.Mc.si(t).forEach((function(t){e.Mc.containsKey(t)||tE(e,t)}))}function tE(e,t){e.xc.delete(t.path.canonicalString());var n=e.kc.get(t);null!==n&&(Sb(e.remoteStore,n),e.kc=e.kc.remove(t),e.Oc.delete(n),iE(e))}function nE(e,t,n){var r,i=$e(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof _x?(e.Mc.addReference(a.key,t),rE(e,a)):a instanceof Cx?(Ep("SyncEngine","Document no longer in limbo: "+a.key),e.Mc.removeReference(a.key,t),e.Mc.containsKey(a.key)||tE(e,a.key)):_p()}}catch(o){i.e(o)}finally{i.f()}}function rE(e,t){var n=t.key,r=n.path.canonicalString();e.kc.get(n)||e.xc.has(r)||(Ep("SyncEngine","New document in limbo: "+n),e.xc.add(r),iE(e))}function iE(e){for(;e.xc.size>0&&e.kc.size<e.maxConcurrentLimboResolutions;){var t=e.xc.values().next().value;e.xc.delete(t);var n=new mv($p.fromString(t)),r=e.Bc.next();e.Oc.set(r,new Ox(n)),e.kc=e.kc.insert(n,r),Ib(e.remoteStore,new Xg(dm(om(n.path)),r,2,jp.A))}}function aE(e,t,n){return oE.apply(this,arguments)}function oE(){return oE=Nt(Pt().mark((function e(t,n,r){var i,a,o,s;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Ap(t),a=[],o=[],s=[],e.t0=i.Cc.isEmpty(),e.t0){e.next=9;break}return i.Cc.forEach((function(e,t){s.push(i.Uc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=mw.Ss(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.Dc.To(a),e.next=9,function(){var e=Nt(Pt().mark((function e(t,n){var r,i,a,o,s,u,c,l;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ap(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Lg.forEach(n,(function(t){return Lg.forEach(t.vs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Lg.forEach(t.Vs,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Bg(e.t0)){e.next=10;break}throw e.t0;case 10:Ep("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=$e(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.Ms.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.Ms=r.Ms.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),oE.apply(this,arguments)}function sE(e,t){return uE.apply(this,arguments)}function uE(){return uE=Nt(Pt().mark((function e(t,n){var r,i;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Ap(t)).currentUser.isEqual(n)){e.next=11;break}return Ep("SyncEngine","User change. New user:",n.toKey()),e.next=5,ww(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Fc.forEach((function(e){e.forEach((function(e){e.reject(new Op(Np.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Fc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,aE(r,i.qs);case 11:case"end":return e.stop()}}),e)}))),uE.apply(this,arguments)}function cE(e,t){var n=Ap(e),r=n.Oc.get(t);if(r&&r.Sc)return my().add(r.key);var i=my(),a=n.Nc.get(t);if(!a)return i;var o,s=$e(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.Cc.get(u);i=i.unionWith(c.view.yc)}}catch(l){s.e(l)}finally{s.f()}return i}function lE(e,t){return fE.apply(this,arguments)}function fE(){return fE=Nt(Pt().mark((function e(t,n){var r,i,a;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ap(t),e.next=3,Nw(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.vc(i),e.abrupt("return",(r.isPrimaryClient&&nE(r,n.targetId,a.Pc),a));case 6:case"end":return e.stop()}}),e)}))),fE.apply(this,arguments)}function hE(e){return dE.apply(this,arguments)}function dE(){return dE=Nt(Pt().mark((function e(t){var n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ap(t),e.abrupt("return",Pw(n.localStore).then((function(e){return aE(n,e)})));case 2:case"end":return e.stop()}}),e)}))),dE.apply(this,arguments)}function pE(e,t,n,r){return vE.apply(this,arguments)}function vE(){return vE=Nt(Pt().mark((function e(t,n,r,i){var a,o;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ap(t),e.next=3,function(e,t){var n=Ap(e),r=Ap(n.gs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Ge(e,t).next((function(t){return t?n.Us.Es(e,t):Lg.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,zb(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?($x(a,n,i||null),Zx(a,n),function(e,t){Ap(Ap(e).gs).Qe(t)}(a.localStore,n)):_p();case 11:return e.next=13,aE(a,o);case 13:e.next=16;break;case 15:Ep("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),vE.apply(this,arguments)}function mE(e,t){return yE.apply(this,arguments)}function yE(){return yE=Nt(Pt().mark((function e(t,n){var r,i,a,o,s,u,c,l;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(SE(r=Ap(t)),_E(r),!0!==n||!0===r.Lc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,gE(r,i.toArray());case 5:return a=e.sent,r.Lc=!0,e.next=9,ix(r.remoteStore,!0);case 9:o=$e(a);try{for(o.s();!(s=o.n()).done;)u=s.value,Ib(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Lc){e.next=25;break}return c=[],l=Promise.resolve(),r.Nc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return eE(r,t),Cw(r.localStore,t,!0)})),Sb(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,gE(r,c);case 21:return function(e){var t=Ap(e);t.Oc.forEach((function(e,n){Sb(t.remoteStore,n)})),t.Mc.ii(),t.Oc=new Map,t.kc=new iy(mv.comparator)}(r),r.Lc=!1,e.next=25,ix(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),yE.apply(this,arguments)}function gE(e,t,n){return kE.apply(this,arguments)}function kE(){return kE=Nt(Pt().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,p,v,m,y;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Ap(t),a=[],o=[],s=$e(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i.Nc.get(c))||0===f.length){e.next=34;break}return e.next=11,_w(i.localStore,dm(f[0]));case 11:l=e.sent,h=$e(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.Cc.get(p),e.next=20,lE(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Ow(i.localStore,c);case 36:return y=e.sent,e.next=39,_w(i.localStore,y);case 39:return l=e.sent,e.next=42,Lx(i,wE(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.Dc.To(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),kE.apply(this,arguments)}function wE(e){return am(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function bE(e){var t=Ap(e);return Ap(Ap(t.localStore).persistence).ds()}function xE(e,t,n,r){return EE.apply(this,arguments)}function EE(){return EE=Nt(Pt().mark((function e(t,n,r,i){var a,o,s;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Ap(t)).Lc){e.next=5;break}Ep("SyncEngine","Ignoring unexpected query state notification."),e.next=21;break;case 5:if(!a.Nc.has(n)){e.next=21;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?9:"rejected"===e.t0?16:20;break;case 9:return e.next=11,Pw(a.localStore);case 11:return o=e.sent,s=ky.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=15,aE(a,o,s);case 15:return e.abrupt("break",21);case 16:return e.next=18,Cw(a.localStore,n,!0);case 18:return eE(a,n,i),e.abrupt("break",21);case 20:_p();case 21:case"end":return e.stop()}}),e)}))),EE.apply(this,arguments)}function TE(e,t,n){return IE.apply(this,arguments)}function IE(){return IE=Nt(Pt().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=SE(t)).Lc){e.next=45;break}a=$e(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.Nc.has(s)){e.next=10;break}return Ep("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,Ow(i.localStore,s);case 12:return u=e.sent,e.next=15,_w(i.localStore,u);case 15:return c=e.sent,e.next=18,Lx(i,wE(u),c.targetId,!1);case 18:Ib(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=$e(r),e.prev=30,h=Pt().mark((function e(){var t;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.Nc.has(t),!e.t0){e.next=5;break}return e.next=5,Cw(i.localStore,t,!1).then((function(){Sb(i.remoteStore,t),eE(i,t)})).catch(Wk);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),IE.apply(this,arguments)}function SE(e){var t=Ap(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=jx.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=cE.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Gx.bind(null,t),t.Dc.To=kx.bind(null,t.eventManager),t.Dc.qc=wx.bind(null,t.eventManager),t}function _E(e){var t=Ap(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Wx.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Qx.bind(null,t),t}function CE(e,t,n){var r=Ap(e);(function(){var e=Nt(Pt().mark((function e(t,n,r){var i,a,o,s,u;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Ap(e),r=Ry(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Kn.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=10;break}return e.next=9,n.close();case 9:return e.abrupt("return",void r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)));case 10:return r._updateProgress(Sx(i)),a=new Ix(i,t.localStore,n.O),e.next=14,n.Kc();case 14:o=e.sent;case 15:if(!o){e.next=25;break}return e.next=18,a.lc(o);case 18:return(s=e.sent)&&r._updateProgress(s),e.next=22,n.Kc();case 22:o=e.sent;case 23:e.next=15;break;case 25:return e.next=27,a.complete();case 27:return u=e.sent,e.next=30,aE(t,u.ws,void 0);case 30:return e.next=32,function(e,t){var n=Ap(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Kn.saveBundleMetadata(e,t)}))}(t.localStore,i);case 32:r._completeWith(u.progress),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),Ip("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var AE=function(){function e(){v(this,e),this.synchronizeTabs=!1}return y(e,[{key:"initialize",value:function(){var e=Nt(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.O=db(t.databaseInfo.databaseId),this.sharedClientState=this.Gc(t),this.persistence=this.jc(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.Qc(t),this.localStore=this.Wc(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Qc",value:function(e){return null}},{key:"Wc",value:function(e){return kw(this.persistence,new yw,e.initialUser,this.O)}},{key:"jc",value:function(e){return new Hw(Yw.bi,this.O)}},{key:"Gc",value:function(e){return new ab}},{key:"terminate",value:function(){var e=Nt(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),NE=function(e){C(n,e);var t=O(n);function n(e,r,i){var a;return v(this,n),(a=t.call(this)).zc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return y(n,[{key:"initialize",value:function(){var e=Nt(Pt().mark((function e(t){var r=this;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wn(A(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,Dw(this.localStore);case 4:return e.next=6,this.zc.initialize(this,t);case 6:return e.next=8,_E(this.zc.syncEngine);case 8:return e.next=10,zb(this.zc.remoteStore);case 10:return e.next=12,this.persistence.Hn((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Wc",value:function(e){return kw(this.persistence,new yw,e.initialUser,this.O)}},{key:"Qc",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Xk(t,e.asyncQueue)}},{key:"jc",value:function(e){var t=dw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Dk.withCacheSize(this.cacheSizeBytes):Dk.DEFAULT;return new lw(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,fb(),hb(),this.O,this.sharedClientState,!!this.forceOwnership)}},{key:"Gc",value:function(e){return new ab}}]),n}(AE),OE=function(e){C(n,e);var t=O(n);function n(e,r){var i;return v(this,n),(i=t.call(this,e,r,!1)).zc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return y(n,[{key:"initialize",value:function(){var e=Nt(Pt().mark((function e(t){var r,i=this;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wn(A(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.zc.syncEngine,e.t0=this.sharedClientState instanceof ib,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={hr:pE.bind(null,r),lr:xE.bind(null,r),dr:TE.bind(null,r),ds:bE.bind(null,r),ar:hE.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Hn(function(){var e=Nt(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mE(i.zc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Gc",value:function(e){var t=fb();if(!ib.Vt(t))throw new Op(Np.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=dw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ib(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(NE),PE=function(){function e(){v(this,e)}return y(e,[{key:"initialize",value:function(){var e=Nt(Pt().mark((function e(t,n){var r=this;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return qx(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=sE.bind(null,this.syncEngine),e.next=12,ix(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new px}},{key:"createDatastore",value:function(e){var t,n=db(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new lb(t));return function(e,t,n,r){return new gb(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return qx(o.syncEngine,e,0)},a=sb.Vt()?new sb:new ob,new wb(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new Px(e,t,n,r,i,a);return o&&(s.Lc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Nt(Pt().mark((function e(t){var n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ap(t),Ep("RemoteStore","RemoteStore shutting down."),n.Ko.add(5),e.next=5,Eb(n);case 5:n.jo.shutdown(),n.Qo.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function DE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Nt(Pt().mark((function r(){var i;return Pt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Nt(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var RE=function(){function e(t){v(this,e),this.observer=t,this.muted=!1}return y(e,[{key:"next",value:function(e){this.observer.next&&this.Hc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Hc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Jc",value:function(){this.muted=!0}},{key:"Hc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),LE=function(){function e(t,n){var r=this;v(this,e),this.Yc=t,this.O=n,this.metadata=new Pp,this.buffer=new Uint8Array,this.Xc=new TextDecoder("utf-8"),this.Zc().then((function(e){e&&e.ac()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return y(e,[{key:"close",value:function(){return this.Yc.cancel()}},{key:"getMetadata",value:function(){var e=Nt(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Kc",value:function(){var e=Nt(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Zc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(){var e=Nt(Pt().mark((function e(){var t,n,r,i;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.tu();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Xc.decode(t),r=Number(n),isNaN(r)&&this.eu("length string (".concat(n,") is not valid number")),e.next=9,this.nu(r);case 9:return i=e.sent,e.abrupt("return",new Ex(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"su",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"tu",value:function(){var e=Nt(Pt().mark((function e(){var t,n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.su()<0)){e.next=7;break}return e.next=3,this.iu();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.su())<0&&this.eu("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"nu",value:function(){var e=Nt(Pt().mark((function e(t){var n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.iu();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.eu("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Xc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"eu",value:function(e){throw this.Yc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"iu",value:function(){var e=Nt(Pt().mark((function e(){var t,n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Yc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),ME=function(){function e(t){v(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return y(e,[{key:"lookup",value:function(){var e=Nt(Pt().mark((function e(t){var n,r=this;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Op(Np.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Nt(Pt().mark((function e(t,n){var r,i,a,o,s,u;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ap(t),i=jy(r.O)+"/documents",a={documents:n.map((function(e){return Fy(r.O,e)}))},e.next=5,r.Lr("BatchGetDocuments",i,a);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=Ky(r.O,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());Cp(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new $m(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Nt(Pt().mark((function e(){var t,n=this;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=mv.fromPath(t);n.mutations.push(new ey(r,n.precondition(r)))})),e.next=7,function(){var e=Nt(Pt().mark((function e(t,n){var r,i,a;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ap(t),i=jy(r.O)+"/documents",a={writes:n.map((function(e){return Wy(r.O,e)}))},e.next=3,r.Mr("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw _p();t=Qp.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Op(Np.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Um.updateTime(t):Um.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Qp.min()))throw new Op(Np.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Um.updateTime(t)}return Um.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),FE=function(){function e(t,n,r,i){v(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.ru=5,this.ro=new pb(this.asyncQueue,"transaction_retry")}return y(e,[{key:"run",value:function(){this.ru-=1,this.ou()}},{key:"ou",value:function(){var e=this;this.ro.Hr(Nt(Pt().mark((function t(){var n,r;return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new ME(e.datastore),(r=e.cu(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.uu(t)}))}))})).catch((function(t){e.uu(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"cu",value:function(e){try{var t=this.updateFunction(e);return!dv(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"uu",value:function(e){var t=this;this.ru>0&&this.au(e)?(this.ru-=1,this.asyncQueue.enqueueAndForget((function(){return t.ou(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"au",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!ny(t)}return!1}}]),e}(),UE=function(){function e(t,n,r,i){var a=this;v(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=kp.UNAUTHENTICATED,this.clientId=qp.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Nt(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ep("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Ep("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return y(e,[{key:"getConfiguration",value:function(){var e=Nt(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Op(Np.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Pp;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Nt(Pt().mark((function n(){var r;return Pt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=cx(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function VE(e,t){return BE.apply(this,arguments)}function BE(){return BE=Nt(Pt().mark((function e(t,n){var r,i;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Ep("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Nt(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,ww(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),BE.apply(this,arguments)}function jE(e,t){return zE.apply(this,arguments)}function zE(){return zE=Nt(Pt().mark((function e(t,n){var r,i;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,qE(t);case 3:return r=e.sent,Ep("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return nx(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return nx(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),zE.apply(this,arguments)}function qE(e){return GE.apply(this,arguments)}function GE(){return GE=Nt(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Ep("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,VE(t,new AE);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),GE.apply(this,arguments)}function KE(e){return WE.apply(this,arguments)}function WE(){return WE=Nt(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Ep("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,jE(t,new PE);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),WE.apply(this,arguments)}function HE(e){return qE(e).then((function(e){return e.persistence}))}function QE(e){return qE(e).then((function(e){return e.localStore}))}function YE(e){return KE(e).then((function(e){return e.remoteStore}))}function XE(e){return KE(e).then((function(e){return e.syncEngine}))}function JE(e){return ZE.apply(this,arguments)}function ZE(){return ZE=Nt(Pt().mark((function e(t){var n,r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,KE(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Dx.bind(null,n.syncEngine),r.onUnlisten=Fx.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),ZE.apply(this,arguments)}function $E(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Pp;return e.asyncQueue.enqueueAndForget(Nt(Pt().mark((function i(){return Pt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new RE({next:function(a){t.enqueueAndForget((function(){return yx(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new Op(Np.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new Op(Np.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new xx(om(n.path),a,{includeMetadataChanges:!0,uc:!0});return vx(e,o)},i.next=3,JE(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function eT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Pp;return e.asyncQueue.enqueueAndForget(Nt(Pt().mark((function i(){return Pt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new RE({next:function(n){t.enqueueAndForget((function(){return yx(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Op(Np.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new xx(n,a,{includeMetadataChanges:!0,uc:!0});return vx(e,o)},i.next=3,JE(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var tT=new Map;function nT(e,t,n){if(!n)throw new Op(Np.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function rT(e,t,n,r){if(!0===t&&!0===r)throw new Op(Np.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function iT(e){if(!mv.isDocumentKey(e))throw new Op(Np.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function aT(e){if(mv.isDocumentKey(e))throw new Op(Np.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function oT(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":_p()}function sT(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Op(Np.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=oT(e);throw new Op(Np.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function uT(e,t){if(t<=0)throw new Op(Np.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var cT=function(){function e(t){var n;if(v(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Op(Np.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Op(Np.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,rT("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return y(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),lT=function(){function e(t,n,r){v(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cT({}),this._settingsFrozen=!1,t instanceof hv?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Op(Np.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hv(e.options.projectId)}(t))}return y(e,[{key:"app",get:function(){if(!this._app)throw new Op(Np.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Op(Np.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cT(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Rp;switch(e.type){case"gapi":var t=e.client;return Cp(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Up(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Op(Np.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=tT.get(e);t&&(Ep("ComponentProvider","Removing Datastore"),tT.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function fT(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=sT(e,lT))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Ip("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=kp.MOCK_USER;else{o=st(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new Op(Np.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new kp(u)}e._authCredentials=new Lp(new Dp(o,s))}}var hT=function(){function e(t,n,r){v(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return y(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new pT(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),dT=function(){function e(t,n,r){v(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return y(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),pT=function(e){C(n,e);var t=O(n);function n(e,r,i){var a;return v(this,n),(a=t.call(this,e,r,om(i)))._path=i,a.type="collection",a}return y(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new hT(this.firestore,null,new mv(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(dT);function vT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ct(e),nT("collection","path",t),e instanceof lT){var a=$p.fromString.apply($p,[t].concat(r));return aT(a),new pT(e,null,a)}if(!(e instanceof hT||e instanceof pT))throw new Op(Np.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child($p.fromString.apply($p,[t].concat(r)));return aT(o),new pT(e.firestore,null,o)}function mT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ct(e),1===arguments.length&&(t=qp.R()),nT("doc","path",t),e instanceof lT){var a=$p.fromString.apply($p,[t].concat(r));return iT(a),new hT(e,null,new mv(a))}if(!(e instanceof hT||e instanceof pT))throw new Op(Np.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child($p.fromString.apply($p,[t].concat(r)));return iT(o),new hT(e.firestore,e instanceof pT?e.converter:null,new mv(o))}function yT(e,t){return e=Ct(e),t=Ct(t),(e instanceof hT||e instanceof pT)&&(t instanceof hT||t instanceof pT)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function gT(e,t){return e=Ct(e),t=Ct(t),e instanceof dT&&t instanceof dT&&e.firestore===t.firestore&&vm(e._query,t._query)&&e.converter===t.converter}var kT=function(){function e(){var t=this;v(this,e),this.hu=Promise.resolve(),this.lu=[],this.fu=!1,this.du=[],this._u=null,this.wu=!1,this.mu=!1,this.gu=[],this.ro=new pb(this,"async_queue_retry"),this.yu=function(){var e=hb();e&&Ep("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ro.Yr()};var n=hb();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.yu)}return y(e,[{key:"isShuttingDown",get:function(){return this.fu}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.pu(),this.Iu(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.fu){this.fu=!0,this.mu=e||!1;var t=hb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.yu)}}},{key:"enqueue",value:function(e){var t=this;if(this.pu(),this.fu)return new Promise((function(){}));var n=new Pp;return this.Iu((function(){return t.fu&&t.mu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.lu.push(e),t.Eu()}))}},{key:"Eu",value:function(){var e=Nt(Pt().mark((function e(){var t=this;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.lu.length){e.next=14;break}return e.prev=1,e.next=4,this.lu[0]();case 4:this.lu.shift(),this.ro.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Bg(e.t0)){e.next=12;break}throw e.t0;case 12:Ep("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.lu.length>0&&this.ro.Hr((function(){return t.Eu()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Iu",value:function(e){var t=this,n=this.hu.then((function(){return t.wu=!0,e().catch((function(e){t._u=e,t.wu=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Tp("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.wu=!1,e}))}));return this.hu=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.pu(),this.gu.indexOf(e)>-1&&(t=0);var i=ux.createAndSchedule(this,e,t,n,(function(e){return r.Tu(e)}));return this.du.push(i),i}},{key:"pu",value:function(){this._u&&_p()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Au",value:function(){var e=Nt(Pt().mark((function e(){var t;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.hu,e.next=3,t;case 3:if(t!==this.hu){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ru",value:function(e){var t,n=$e(this.du);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Pu",value:function(e){var t=this;return this.Au().then((function(){t.du.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=$e(t.du);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Au()}))}},{key:"bu",value:function(e){this.gu.push(e)}},{key:"Tu",value:function(e){var t=this.du.indexOf(e);this.du.splice(t,1)}}]),e}();function wT(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=$e(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var bT=function(){function e(){v(this,e),this._progressObserver={},this._taskCompletionResolver=new Pp,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return y(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),xT=function(e){C(n,e);var t=O(n);function n(e,r,i){var a;return v(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new kT,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return y(n,[{key:"_terminate",value:function(){return this._firestoreClient||TT(this),this._firestoreClient.terminate()}}]),n}(lT);function ET(e){return e._firestoreClient||TT(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function TT(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new fv(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new UE(e._authCredentials,e._appCheckCredentials,e._queue,r)}function IT(e,t,n){var r=new Pp;return e.asyncQueue.enqueue(Nt(Pt().mark((function i(){return Pt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,VE(e,n);case 3:return i.next=5,jE(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Np.FAILED_PRECONDITION||e.code===Np.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function ST(e){return function(e){return e.asyncQueue.enqueue(Nt(Pt().mark((function t(){var n,r;return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,HE(e);case 2:return n=t.sent,t.next=5,YE(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Ap(e);return t.Ko.delete(0),bb(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(ET(e=sT(e,xT)))}function _T(e){return function(e){return e.asyncQueue.enqueue(Nt(Pt().mark((function t(){var n,r;return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,HE(e);case 2:return n=t.sent,t.next=5,YE(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Nt(Pt().mark((function e(t){var n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Ap(t)).Ko.add(0),e.next=4,Eb(n);case 4:n.Qo.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(ET(e=sT(e,xT)))}function CT(e,t){var n=ET(e=sT(e,xT)),r=new bT;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new LE(e,t)}(function(e,t){if(e instanceof Uint8Array)return DE(e,t);if(e instanceof ArrayBuffer)return DE(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,db(t));e.asyncQueue.enqueueAndForget(Nt(Pt().mark((function t(){return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=CE,t.next=3,XE(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function AT(e,t){return function(e,t){return e.asyncQueue.enqueue(Nt(Pt().mark((function n(){return Pt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Ap(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Kn.getNamedQuery(e,t)}))},n.next=3,QE(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(ET(e=sT(e,xT)),t).then((function(t){return t?new dT(e,null,t.query):null}))}function NT(e){if(e._initialized||e._terminated)throw new Op(Np.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var OT=function(){function e(){v(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Op(Np.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tv(n)}return y(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var PT=function(){function e(t){v(this,e),this._byteString=t}return y(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(rv.fromBase64String(t))}catch(t){throw new Op(Np.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(rv.fromUint8Array(t))}}]),e}(),DT=y((function e(t){v(this,e),this._methodName=t})),RT=function(){function e(t,n){if(v(this,e),!isFinite(t)||t<-90||t>90)throw new Op(Np.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Op(Np.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return y(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Gp(this._lat,e._lat)||Gp(this._long,e._long)}}]),e}(),LT=/^__.*__$/,MT=function(){function e(t,n,r){v(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return y(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Hm(e,this.data,this.fieldMask,t,this.fieldTransforms):new Wm(e,this.data,t,this.fieldTransforms)}}]),e}(),FT=function(){function e(t,n,r){v(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return y(e,[{key:"toMutation",value:function(e,t){return new Hm(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function UT(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _p()}}var VT=function(){function e(t,n,r,i,a,o){v(this,e),this.settings=t,this.databaseId=n,this.O=r,this.ignoreUndefinedProperties=i,void 0===a&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return y(e,[{key:"path",get:function(){return this.settings.path}},{key:"Vu",get:function(){return this.settings.Vu}},{key:"Su",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.O,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Du",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Su({path:n,Cu:!1});return r.Nu(e),r}},{key:"xu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Su({path:n,Cu:!1});return r.vu(),r}},{key:"ku",value:function(e){return this.Su({path:void 0,Cu:!0})}},{key:"Ou",value:function(e){return aI(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.$u)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"vu",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Nu(this.path.get(e))}},{key:"Nu",value:function(e){if(0===e.length)throw this.Ou("Document fields must not be empty");if(UT(this.Vu)&&LT.test(e))throw this.Ou('Document fields cannot begin and end with "__"')}}]),e}(),BT=function(){function e(t,n,r){v(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.O=r||db(t)}return y(e,[{key:"Fu",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new VT({Vu:e,methodName:t,$u:n,path:tv.emptyPath(),Cu:!1,Mu:r},this.databaseId,this.O,this.ignoreUndefinedProperties)}}]),e}();function jT(e){var t=e._freezeSettings(),n=db(e._databaseId);return new BT(e._databaseId,!!t.ignoreUndefinedProperties,n)}function zT(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.Fu(a.merge||a.mergeFields?2:0,t,n,i);tI("Data must be an object, but it was:",o,r);var s,u,c=$T(r,o);if(a.merge)s=new nv(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=$e(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=nI(t,d,n);if(!o.contains(p))throw new Op(Np.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));oI(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}s=new nv(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new MT(new Pv(c),s,u)}var qT=function(e){C(n,e);var t=O(n);function n(){return v(this,n),t.apply(this,arguments)}return y(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Vu)throw 1===e.Vu?e.Ou("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Ou("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(DT);function GT(e,t,n){return new VT({Vu:3,$u:t.settings.$u,methodName:e._methodName,Cu:n},t.databaseId,t.O,t.ignoreUndefinedProperties)}var KT=function(e){C(n,e);var t=O(n);function n(){return v(this,n),t.apply(this,arguments)}return y(n,[{key:"_toFieldTransform",value:function(e){return new Mm(e.path,new Cm)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(DT),WT=function(e){C(n,e);var t=O(n);function n(e,r){var i;return v(this,n),(i=t.call(this,e)).Bu=r,i}return y(n,[{key:"_toFieldTransform",value:function(e){var t=GT(this,e,!0),n=this.Bu.map((function(e){return ZT(e,t)})),r=new Am(n);return new Mm(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(DT),HT=function(e){C(n,e);var t=O(n);function n(e,r){var i;return v(this,n),(i=t.call(this,e)).Bu=r,i}return y(n,[{key:"_toFieldTransform",value:function(e){var t=GT(this,e,!0),n=this.Bu.map((function(e){return ZT(e,t)})),r=new Om(n);return new Mm(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(DT),QT=function(e){C(n,e);var t=O(n);function n(e,r){var i;return v(this,n),(i=t.call(this,e)).Lu=r,i}return y(n,[{key:"_toFieldTransform",value:function(e){var t=new Dm(e.O,Em(e.O,this.Lu));return new Mm(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(DT);function YT(e,t,n,r){var i=e.Fu(1,t,n);tI("Data must be an object, but it was:",i,r);var a=[],o=Pv.empty();Xp(r,(function(e,r){var s=iI(t,e,n);r=Ct(r);var u=i.xu(s);if(r instanceof qT)a.push(s);else{var c=ZT(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new nv(a);return new FT(o,s,i.fieldTransforms)}function XT(e,t,n,r,i,a){var o=e.Fu(1,t,n),s=[nI(t,r,n)],u=[i];if(a.length%2!=0)throw new Op(Np.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(nI(t,a[c])),u.push(a[c+1]);for(var l=[],f=Pv.empty(),h=s.length-1;h>=0;--h)if(!oI(l,s[h])){var d=s[h],p=u[h];p=Ct(p);var v=o.xu(d);if(p instanceof qT)l.push(d);else{var m=ZT(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new nv(l);return new FT(f,y,o.fieldTransforms)}function JT(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return ZT(n,e.Fu(r?4:3,t))}function ZT(e,t){if(eI(e=Ct(e)))return tI("Unsupported field value:",t,e),$T(e,t);if(e instanceof DT)return function(e,t){if(!UT(t.Vu))throw t.Ou("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Ou("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Cu&&4!==t.Vu)throw t.Ou("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=$e(e);try{for(a.s();!(n=a.n()).done;){var o=ZT(n.value,t.ku(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Ct(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Em(t.O,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Hp.fromDate(e);return{timestampValue:Oy(t.O,n)}}if(e instanceof Hp){var r=new Hp(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Oy(t.O,r)}}if(e instanceof RT)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof PT)return{bytesValue:Py(t.O,e._byteString)};if(e instanceof hT){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.Ou("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Ly(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Ou("Unsupported field value: ".concat(oT(e)))}(e,t)}function $T(e,t){var n={};return Jp(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Xp(e,(function(e,r){var i=ZT(r,t.Du(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function eI(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Hp||e instanceof RT||e instanceof PT||e instanceof hT||e instanceof DT)}function tI(e,t,n){if(!eI(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=oT(n);throw"an object"===r?t.Ou(e+" a custom object"):t.Ou(e+" "+r)}}function nI(e,t,n){if((t=Ct(t))instanceof OT)return t._internalPath;if("string"==typeof t)return iI(e,t);throw aI("Field path arguments must be of type string or ",e,!1,void 0,n)}var rI=new RegExp("[~\\*/\\[\\]]");function iI(e,t,n){if(t.search(rI)>=0)throw aI("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return P(OT,p(t.split(".")))._internalPath}catch(r){throw aI("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function aI(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new Op(Np.INVALID_ARGUMENT,s+e+u)}function oI(e,t){return e.some((function(e){return e.isEqual(t)}))}var sI=function(){function e(t,n,r,i,a){v(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return y(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new hT(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new uI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(cI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),uI=function(e){C(n,e);var t=O(n);function n(){return v(this,n),t.apply(this,arguments)}return y(n,[{key:"data",value:function(){return Wn(A(n.prototype),"data",this).call(this)}}]),n}(sI);function cI(e,t){return"string"==typeof t?iI(e,t):t instanceof OT?t._internalPath:t._delegate._internalPath}var lI=function(){function e(t,n){v(this,e),this.hasPendingWrites=t,this.fromCache=n}return y(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),fI=function(e){C(n,e);var t=O(n);function n(e,r,i,a,o,s){var u;return v(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return y(n,[{key:"exists",value:function(){return Wn(A(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new hI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(cI("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(sI),hI=function(e){C(n,e);var t=O(n);function n(){return v(this,n),t.apply(this,arguments)}return y(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Wn(A(n.prototype),"data",this).call(this,e)}}]),n}(fI),dI=function(){function e(t,n,r,i){v(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new lI(i.hasPendingWrites,i.fromCache),this.query=r}return y(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new hI(n._firestore,n._userDataWriter,r.key,r,new lI(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Op(Np.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new hI(e._firestore,e._userDataWriter,t.doc.key,t.doc,new lI(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new hI(e._firestore,e._userDataWriter,t.doc.key,t.doc,new lI(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:pI(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function pI(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _p()}}function vI(e,t){return e instanceof fI&&t instanceof fI?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof dI&&t instanceof dI&&e._firestore===t._firestore&&gT(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function mI(e){if(um(e)&&0===e.explicitOrderBy.length)throw new Op(Np.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var yI=y((function e(){v(this,e)}));function gI(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var kI=function(e){C(n,e);var t=O(n);function n(e,r,i){var a;return v(this,n),(a=t.call(this)).Uu=e,a.qu=r,a.Ku=i,a.type="where",a}return y(n,[{key:"_apply",value:function(e){var t=jT(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Op(Np.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){NI(o,a);var u,c=[],l=$e(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(AI(r,e,f))}}catch(d){l.e(d)}finally{l.f()}s={arrayValue:{values:c}}}else s=AI(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||NI(o,a),s=JT(n,"where",o,"in"===a||"not-in"===a);var h=Gv.create(i,a,s);return function(e,t){if(t.S()){var n=lm(e);if(null!==n&&!n.isEqual(t.field))throw new Op(Np.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=cm(e);null!==r&&OI(e,t.field,r)}var i=function(e,t){var n,r=$e(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Op(Np.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Op(Np.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.Uu,this.qu,this.Ku);return new dT(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new im(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(yI);var wI=function(e){C(n,e);var t=O(n);function n(e,r){var i;return v(this,n),(i=t.call(this)).Uu=e,i.Gu=r,i.type="orderBy",i}return y(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Op(Np.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Op(Np.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new em(t,n);return function(e,t){if(null===cm(e)){var n=lm(e);null!==n&&OI(e,n,t.field)}}(e,r),r}(e._query,this.Uu,this.Gu);return new dT(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new im(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(yI);var bI=function(e){C(n,e);var t=O(n);function n(e,r,i){var a;return v(this,n),(a=t.call(this)).type=e,a.ju=r,a.Qu=i,a}return y(n,[{key:"_apply",value:function(e){return new dT(e.firestore,e.converter,pm(e._query,this.ju,this.Qu))}}]),n}(yI);var xI=function(e){C(n,e);var t=O(n);function n(e,r,i){var a;return v(this,n),(a=t.call(this)).type=e,a.Wu=r,a.zu=i,a}return y(n,[{key:"_apply",value:function(e){var t=CI(e,this.type,this.Wu,this.zu);return new dT(e.firestore,e.converter,function(e,t){return new im(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(yI);function EI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new xI("startAt",t,!0)}function TI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new xI("startAfter",t,!1)}var II=function(e){C(n,e);var t=O(n);function n(e,r,i){var a;return v(this,n),(a=t.call(this)).type=e,a.Wu=r,a.zu=i,a}return y(n,[{key:"_apply",value:function(e){var t=CI(e,this.type,this.Wu,this.zu);return new dT(e.firestore,e.converter,function(e,t){return new im(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(yI);function SI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new II("endBefore",t,!1)}function _I(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new II("endAt",t,!0)}function CI(e,t,n,r){if(n[0]=Ct(n[0]),n[0]instanceof sI)return function(e,t,n,r,i){if(!r)throw new Op(Np.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=$e(hm(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(Iv(t,r.key));else{var c=r.data.field(u.field);if(uv(c))throw new Op(Np.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Op(Np.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new $v(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=jT(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Op(Np.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new Op(Np.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!fm(e)&&-1!==c.indexOf("/"))throw new Op(Np.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child($p.fromString(c));if(!mv.isDocumentKey(l))throw new Op(Np.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new mv(l);s.push(Iv(t,f))}else{var h=JT(n,r,c);s.push(h)}}return new $v(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function AI(e,t,n){if("string"==typeof(n=Ct(n))){if(""===n)throw new Op(Np.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fm(t)&&-1!==n.indexOf("/"))throw new Op(Np.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child($p.fromString(n));if(!mv.isDocumentKey(r))throw new Op(Np.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Iv(e,new mv(r))}if(n instanceof hT)return Iv(e,n._key);throw new Op(Np.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(oT(n),"."))}function NI(e,t){if(!Array.isArray(e)||0===e.length)throw new Op(Np.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Op(Np.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function OI(e,t,n){if(!n.isEqual(t))throw new Op(Np.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var PI=function(){function e(){v(this,e)}return y(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(gv(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ov(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(sv(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw _p()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Xp(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new RT(ov(e.latitude),ov(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=cv(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(lv(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=av(e);return new Hp(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=$p.fromString(e);Cp(ag(n));var r=new hv(n.get(1),n.get(3)),i=new mv(n.popFirst(5));return r.isEqual(t)||Tp("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function DI(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var RI=function(e){C(n,e);var t=O(n);function n(e){var r;return v(this,n),(r=t.call(this)).firestore=e,r}return y(n,[{key:"convertBytes",value:function(e){return new PT(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new hT(this.firestore,null,t)}}]),n}(PI),LI=function(){function e(t,n){v(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=jT(t)}return y(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=MI(e,this._firestore),i=DI(r.converter,t,n),a=zT(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Um.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=MI(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Ct(t))||t instanceof OT?XT(this._dataReader,"WriteBatch.update",i._key,t,n,o):YT(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Um.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=MI(e,this._firestore);return this._mutations=this._mutations.concat(new $m(t._key,Um.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Op(Np.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function MI(e,t){if((e=Ct(e)).firestore!==t)throw new Op(Np.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var FI=function(e){C(n,e);var t=O(n);function n(e){var r;return v(this,n),(r=t.call(this)).firestore=e,r}return y(n,[{key:"convertBytes",value:function(e){return new PT(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new hT(this.firestore,null,t)}}]),n}(PI);function UI(e){e=sT(e,hT);var t=sT(e.firestore,xT),n=ET(t),r=new FI(t);return function(e,t){var n=new Pp;return e.asyncQueue.enqueueAndForget(Nt(Pt().mark((function r(){return Pt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Nt(Pt().mark((function e(t,n,r){var i,a;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Ap(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Us.ys(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Op(Np.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=cx(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,QE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new fI(t,r,e._key,n,new lI(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function VI(e){e=sT(e,dT);var t=sT(e.firestore,xT),n=ET(t),r=new FI(t);return function(e,t){var n=new Pp;return e.asyncQueue.enqueueAndForget(Nt(Pt().mark((function r(){return Pt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Nt(Pt().mark((function e(t,n,r){var i,a,o,s,u;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Nw(t,n,!0);case 3:i=e.sent,a=new Ax(n,i.Ks),o=a.Ic(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=cx(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,QE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new dI(t,r,e,n)}))}function BI(e,t,n){e=sT(e,hT);var r=sT(e.firestore,xT),i=DI(e.converter,t,n);return GI(r,[zT(jT(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Um.none())])}function jI(e,t,n){e=sT(e,hT);for(var r=sT(e.firestore,xT),i=jT(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return GI(r,[("string"==typeof(t=Ct(t))||t instanceof OT?XT(i,"updateDoc",e._key,t,n,o):YT(i,"updateDoc",e._key,t)).toMutation(e._key,Um.exists(!0))])}function zI(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Ct(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||wT(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(wT(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof hT)l=sT(e.firestore,xT),f=om(e._key.path),c={next:function(t){n[u]&&n[u](KI(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=sT(e,dT);l=sT(p.firestore,xT),f=p._query;var v=new FI(l);c={next:function(e){n[u]&&n[u](new dI(l,v,p,e))},error:n[u+1],complete:n[u+2]},mI(e._query)}return function(e,t,n,r){var i=new RE(r),a=new xx(t,i,n);return e.asyncQueue.enqueueAndForget(Nt(Pt().mark((function t(){return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=vx,t.next=3,JE(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Jc(),e.asyncQueue.enqueueAndForget(Nt(Pt().mark((function t(){return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=yx,t.next=3,JE(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(ET(l),f,h,c)}function qI(e,t){return function(e,t){var n=new RE(t);return e.asyncQueue.enqueueAndForget(Nt(Pt().mark((function t(){return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Ap(e).Zo.add(t),t.next()},t.next=3,JE(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Jc(),e.asyncQueue.enqueueAndForget(Nt(Pt().mark((function t(){return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Ap(e).Zo.delete(t)},t.next=3,JE(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(ET(e=sT(e,xT)),wT(t)?t:{next:t})}function GI(e,t){return function(e,t){var n=new Pp;return e.asyncQueue.enqueueAndForget(Nt(Pt().mark((function r(){return Pt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Vx,r.next=3,XE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(ET(e),t)}function KI(e,t,n){var r=n.docs.get(t._key),i=new FI(e);return new fI(e,i,t._key,r,new lI(n.hasPendingWrites,n.fromCache),t.converter)}var WI=function(e){C(n,e);var t=O(n);function n(e,r){var i;return v(this,n),(i=t.call(this,e,r))._firestore=e,i}return y(n,[{key:"get",value:function(e){var t=this,r=MI(e,this._firestore),i=new FI(this._firestore);return Wn(A(n.prototype),"get",this).call(this,e).then((function(e){return new fI(t._firestore,i,r._key,e._document,new lI(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){v(this,e),this._firestore=t,this._transaction=n,this._dataReader=jT(t)}return y(e,[{key:"get",value:function(e){var t=this,n=MI(e,this._firestore),r=new RI(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return _p();var i=e[0];if(i.isFoundDocument())return new sI(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new sI(t._firestore,r,n._key,null,n.converter);throw _p()}))}},{key:"set",value:function(e,t,n){var r=MI(e,this._firestore),i=DI(r.converter,t,n),a=zT(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=MI(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Ct(t))||t instanceof OT?XT(this._dataReader,"Transaction.update",i._key,t,n,o):YT(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=MI(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function HI(e,t){return function(e,t){var n=new Pp;return e.asyncQueue.enqueueAndForget(Nt(Pt().mark((function r(){var i;return Pt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return KE(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new FE(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(ET(e=sT(e,xT)),(function(n){return t(new WI(e,n))}))}function QI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new WT("arrayUnion",t)}function YI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new HT("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){wp=e}(hn),an(new Dt("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new xT(i,new Mp(e.getProvider("auth-internal")),new Bp(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),gn(gp,"3.4.5",e),gn(gp,"3.4.5","esm2017")}();function XI(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Op("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function JI(){if("undefined"===typeof Uint8Array)throw new Op("unimplemented","Uint8Arrays are not available in this environment.")}function ZI(){if("undefined"==typeof atob)throw new Op("unimplemented","Blobs are unavailable in Firestore in this environment.")}var $I=function(){function e(t){v(this,e),this._delegate=t}return y(e,[{key:"toBase64",value:function(){return ZI(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return JI(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return ZI(),new e(PT.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return JI(),new e(PT.fromUint8Array(t))}}]),e}();function eS(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=$e(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var tS=function(){function e(){v(this,e)}return y(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){NT(e=sT(e,xT));var n=ET(e),r=e._freezeSettings(),i=new PE;return IT(n,i,new NE(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){NT(e=sT(e,xT));var t=ET(e),n=e._freezeSettings(),r=new PE;return IT(t,r,new OE(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Op(Np.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Pp;return e._queue.enqueueAndForgetEvenWhileRestricted(Nt(Pt().mark((function n(){return Pt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Nt(Pt().mark((function e(t){var n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Fg.Vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Fg.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(dw(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),nS=function(){function e(t,n,r){var i=this;v(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof hv||(this._appCompat=t)}return y(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Ip("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};fT(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return ST(this._delegate)}},{key:"disableNetwork",value:function(){return _T(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&rT("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Pp;return e.asyncQueue.enqueueAndForget(Nt(Pt().mark((function n(){return Pt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Xx,n.next=3,XE(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(ET(e=sT(e,xT)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return qI(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Op("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new mS(this,vT(this._delegate,e))}catch(t){throw uS(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new sS(this,mT(this._delegate,e))}catch(t){throw uS(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new dS(this,function(e,t){if(e=sT(e,lT),nT("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Op(Np.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new dT(e,null,function(e){return new im($p.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw uS(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return HI(this._delegate,(function(n){return e(new iS(t,n))}))}},{key:"batch",value:function(){var e=this;return ET(this._delegate),new aS(new LI(this._delegate,(function(t){return GI(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return CT(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return AT(this._delegate,e).then((function(e){return e?new dS(t,e):null}))}}]),e}(),rS=function(e){C(n,e);var t=O(n);function n(e){var r;return v(this,n),(r=t.call(this)).firestore=e,r}return y(n,[{key:"convertBytes",value:function(e){return new $I(new PT(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return sS.forKey(t,this.firestore,null)}}]),n}(PI);var iS=function(){function e(t,n){v(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new rS(t)}return y(e,[{key:"get",value:function(e){var t=this,n=yS(e);return this._delegate.get(n).then((function(e){return new fS(t._firestore,new fI(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=yS(e);return n?(XI("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=yS(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=yS(e);return this._delegate.delete(t),this}}]),e}(),aS=function(){function e(t){v(this,e),this._delegate=t}return y(e,[{key:"set",value:function(e,t,n){var r=yS(e);return n?(XI("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=yS(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=yS(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),oS=function(){function e(t,n,r){v(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return y(e,[{key:"fromFirestore",value:function(e,t){var n=new hI(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new hS(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new rS(t),n),i.set(n,a)),a}}]),e}();oS.INSTANCES=new WeakMap;var sS=function(){function e(t,n){v(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new rS(t)}return y(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new mS(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new mS(this.firestore,vT(this._delegate,e))}catch(t){throw uS(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Ct(e))instanceof hT&&yT(this._delegate,e)}},{key:"set",value:function(e,t){t=XI("DocumentReference.set",t);try{return t?BI(this._delegate,e,t):BI(this._delegate,e)}catch(n){throw uS(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?jI(this._delegate,e):jI.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw uS(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return GI(sT(e.firestore,xT),[new $m(e._key,Um.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=cS(n),a=lS(n,(function(t){return new fS(e.firestore,new fI(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return zI(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?UI(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=sT(e,hT);var t=sT(e.firestore,xT);return $E(ET(t),e._key,{source:"server"}).then((function(n){return KI(t,e,n)}))}(this._delegate):function(e){e=sT(e,hT);var t=sT(e.firestore,xT);return $E(ET(t),e._key).then((function(n){return KI(t,e,n)}))}(this._delegate),t.then((function(e){return new fS(n.firestore,new fI(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(oS.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Op("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new hT(n._delegate,r,new mv(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new hT(n._delegate,r,t))}}]),e}();function uS(e,t,n){return e.message=e.message.replace(t,n),e}function cS(e){var t,n=$e(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!eS(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function lS(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=eS(e[0])?e[0]:eS(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var fS=function(){function e(t,n){v(this,e),this._firestore=t,this._delegate=n}return y(e,[{key:"ref",get:function(){return new sS(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return vI(this._delegate,e._delegate)}}]),e}(),hS=function(e){C(n,e);var t=O(n);function n(){return v(this,n),t.apply(this,arguments)}return y(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||_p()}(void 0!==t),t}}]),n}(fS),dS=function(){function e(t,n){v(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new rS(t)}return y(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,gI(this._delegate,function(e,t,n){var r=t,i=cI("where",e);return new kI(i,r,n)}(t,n,r)))}catch(i){throw uS(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,gI(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=cI("orderBy",e);return new wI(n,t)}(t,n)))}catch(r){throw uS(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,gI(this._delegate,function(e){return uT("limit",e),new bI("limit",e,"F")}(t)))}catch(n){throw uS(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,gI(this._delegate,function(e){return uT("limitToLast",e),new bI("limitToLast",e,"L")}(t)))}catch(n){throw uS(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,gI(this._delegate,EI.apply(void 0,arguments)))}catch(t){throw uS(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,gI(this._delegate,TI.apply(void 0,arguments)))}catch(t){throw uS(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,gI(this._delegate,SI.apply(void 0,arguments)))}catch(t){throw uS(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,gI(this._delegate,_I.apply(void 0,arguments)))}catch(t){throw uS(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return gT(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?VI(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=sT(e,dT);var t=sT(e.firestore,xT),n=ET(t),r=new FI(t);return eT(n,e._query,{source:"server"}).then((function(n){return new dI(t,r,e,n)}))}(this._delegate):function(e){e=sT(e,dT);var t=sT(e.firestore,xT),n=ET(t),r=new FI(t);return mI(e._query),eT(n,e._query).then((function(n){return new dI(t,r,e,n)}))}(this._delegate),t.then((function(e){return new vS(n.firestore,new dI(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=cS(n),a=lS(n,(function(t){return new vS(e.firestore,new dI(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return zI(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(oS.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),pS=function(){function e(t,n){v(this,e),this._firestore=t,this._delegate=n}return y(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new hS(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),vS=function(){function e(t,n){v(this,e),this._firestore=t,this._delegate=n}return y(e,[{key:"query",get:function(){return new dS(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new hS(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new pS(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new hS(n._firestore,r))}))}},{key:"isEqual",value:function(e){return vI(this._delegate,e._delegate)}}]),e}(),mS=function(e){C(n,e);var t=O(n);function n(e,r){var i;return v(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return y(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new sS(this.firestore,e):null}},{key:"doc",value:function(e){try{return new sS(this.firestore,void 0===e?mT(this._delegate):mT(this._delegate,e))}catch(t){throw uS(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=sT(e.firestore,xT),r=mT(e),i=DI(e.converter,t);return GI(n,[zT(jT(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Um.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new sS(t.firestore,e)}))}},{key:"isEqual",value:function(e){return yT(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(oS.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(dS);function yS(e){return sT(e,hT)}var gS=function(){function e(){v(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=P(OT,n)}return y(e,[{key:"isEqual",value:function(e){return(e=Ct(e))instanceof OT&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(tv.keyField().canonicalString())}}]),e}(),kS=function(){function e(t){v(this,e),this._delegate=t}return y(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new KT("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new qT("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=QI.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=YI.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new QT("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),wS={Firestore:nS,GeoPoint:RT,Timestamp:Hp,Blob:$I,Transaction:iS,WriteBatch:aS,DocumentReference:sS,DocumentSnapshot:fS,Query:dS,QueryDocumentSnapshot:hS,QuerySnapshot:vS,CollectionReference:mS,FieldPath:gS,FieldValue:kS,setLogLevel:function(e){!function(e){bp.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Dt("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},wS)))}(e,(function(e,t){return new nS(e,t,new tS)})),e.registerVersion("@firebase/firestore-compat","0.1.14")}(Gn);Gn.initializeApp({apiKey:'"AIzaSyDbnDgyv2eQovXO9ugJQD6Ko3fDWnIROYo",',authDomain:'"react-election.firebaseapp.com",',projectId:'"react-election",',storageBucket:'"react-election.appspot.com",',messagingSenderId:'"179754433195",',appId:'"1:179754433195:web:a24ef0d1654edd74fd55ee",',measurementId:"G-VCW1C70TPX"});r.render((0,i.jsx)(t.StrictMode,{children:(0,i.jsx)(Ze,{})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.a2c84067.js.map